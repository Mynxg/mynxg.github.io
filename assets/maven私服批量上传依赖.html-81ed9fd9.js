import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c as l,b as a,d as n,a as e,f as t}from"./app-b652ea8e.js";const i="/assets/2024-03-08_22-18-41-6f6a6d64.png",c="/assets/2024-03-08_22-21-08-772f2af5.png",d="/assets/2024-03-08_22-14-59-4d0afc45.png",u={},m=t(`<h2 id="maven本地仓库依赖上传到远程仓库" tabindex="-1"><a class="header-anchor" href="#maven本地仓库依赖上传到远程仓库" aria-hidden="true">#</a> maven本地仓库依赖上传到远程仓库</h2><blockquote><p>本地仓库上传到远程仓库</p></blockquote><p>批量上传：</p><p>批量本地仓库依赖（jar包）上传脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># copy and run this script to the root of the repository directory containing files</span>
<span class="token comment"># this script attempts to exclude uploading itself explicitly so the script name is important</span>
<span class="token comment"># Get command line params</span>
<span class="token keyword">while</span> <span class="token builtin class-name">getopts</span> <span class="token string">&quot;:r:u:p:&quot;</span> opt<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token keyword">case</span> <span class="token variable">$opt</span> <span class="token keyword">in</span>
        r<span class="token punctuation">)</span> <span class="token assign-left variable">REPO_URL</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OPTARG</span>&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        u<span class="token punctuation">)</span> <span class="token assign-left variable">USERNAME</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OPTARG</span>&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        p<span class="token punctuation">)</span> <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$OPTARG</span>&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>

<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-not</span> <span class="token parameter variable">-path</span> <span class="token string">&#39;./mavenimport\\.sh*&#39;</span> <span class="token parameter variable">-not</span> <span class="token parameter variable">-path</span> <span class="token string">&#39;*/\\.*&#39;</span> <span class="token parameter variable">-not</span> <span class="token parameter variable">-path</span> <span class="token string">&#39;*/\\^archetype\\-catalog\\.xml*&#39;</span> <span class="token parameter variable">-not</span> <span class="token parameter variable">-path</span> <span class="token string">&#39;*/\\^maven\\-metadata\\-local*\\.xml&#39;</span> <span class="token parameter variable">-not</span> <span class="token parameter variable">-path</span> <span class="token string">&#39;*/\\^maven\\-metadata\\-deployment*\\.xml&#39;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&quot;s|^\\./||&quot;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-I</span> <span class="token string">&#39;{}&#39;</span> <span class="token function">curl</span> <span class="token parameter variable">-u</span> <span class="token string">&quot;<span class="token variable">$USERNAME</span>:<span class="token variable">$PASSWORD</span>&quot;</span> <span class="token parameter variable">-X</span> PUT <span class="token parameter variable">-v</span> <span class="token parameter variable">-T</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token variable">\${REPO_URL}</span>/<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在maven本地仓库目录下创建 <strong>batch_upload_repo2.sh</strong> 脚本，并将上述内容添加进去脚本文件中<br><img src="`+i+'" alt="" loading="lazy"></p><p>在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口：<br><img src="'+c+`" alt="" loading="lazy"></p><p>执行以下命令：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sh batch_upload_repo2.sh -u admin -p nxg_123456 -r http://localhost:8081/repository/nxgtest/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),k={href:"http://xn--eqrv85b2vnsxg.sh",target:"_blank",rel:"noopener noreferrer"},v={href:"http://localhost:8081/repository/%E4%BB%93%E5%BA%93%E5%90%8D",target:"_blank",rel:"noopener noreferrer"},h=t('<p>执行完成是下图的效果：<br><img src="'+d+'" alt="" loading="lazy"></p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h2><p>删除本地maven仓库目录下所有的 .lastUpdated 文件</p><p>如果上传失败，可以将本地maven仓库目录下所有的 _remote.repositories 文件删除</p><h2 id="附件" tabindex="-1"><a class="header-anchor" href="#附件" aria-hidden="true">#</a> 附件</h2>',5),b=a("br",null,null,-1),_={href:"https://mdzzw.cn/archives/mavenimport",target:"_blank",rel:"noopener noreferrer"},g={href:"https://www.sharkchili.com/pages/076b9d/",target:"_blank",rel:"noopener noreferrer"},f={href:"http://www.angyum.com/archives/pi-liang-shang-chuan-ben-de-maven-ku-dao-nexus-fu-wu-qi-zhong",target:"_blank",rel:"noopener noreferrer"},x={href:"https://blog.csdn.net/qq_36299991/article/details/134349345",target:"_blank",rel:"noopener noreferrer"},y={href:"https://zhuanlan.zhihu.com/p/678331669",target:"_blank",rel:"noopener noreferrer"};function q(w,E){const s=o("ExternalLinkIcon");return r(),l("div",null,[m,a("blockquote",null,[a("p",null,[n("sh "),a("a",k,[n("脚本名称.sh"),e(s)]),n(" -u 用户名 -p 密码 -r "),a("a",v,[n("http://localhost:8081/repository/仓库名"),e(s)])])]),h,a("p",null,[n("参考："),b,a("a",_,[n("本地仓库所有Jar批量上传到Nexus"),e(s)])]),a("p",null,[a("a",g,[n("基于自动化脚本批量上传依赖到nexus内网私服"),e(s)])]),a("p",null,[a("a",f,[n("批量上传本地maven库到Nexus服务器中"),e(s)])]),a("p",null,[a("a",x,[n("Maven内网开发使用离线仓库"),e(s)])]),a("p",null,[a("a",y,[n("持续集成工作原理 - maven私服"),e(s)])])])}const A=p(u,[["render",q],["__file","maven私服批量上传依赖.html.vue"]]);export{A as default};
