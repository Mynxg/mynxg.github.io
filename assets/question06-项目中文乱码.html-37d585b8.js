import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c,b as e,d as a,a as t,e as l}from"./app-4191c28c.js";const i={},p=l(`<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h2><p>在spring大杂烩项目中，调用第三方接口时，出现中文乱码。<br> 这里使用到spring、springmvc、本地tomcat、idea</p><p>找问题心流：<br> 在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是不能正常运行的，需要注释掉对应的测试类，在idea中运行项目，一点错误都不能有，比如测试类中有错误，项目就跑不起来，idea中就是这样的。在eclipse中就没有这么样的情况，它也不会检测你测试类中是否丢失了哪些包或者不存在，你还是能正常运行项目。而且拉下来的项目，连配置文件中的内容都缺少，我也是服了。其实这里缺少的是两行配置，加在配置文件中即可，看似两行简单配置，可能会让你在突然拿到这个项目时，启动项目调接口时调不同，你去调别人的接口也貌似调不通。找啊找，很纠结。于是去看同事电脑上对应的项目的配置文件，才发现少了这两行代码，代码仓库居然不提交。我服了。这问题解决了，新的问题又来了。数据返回的中文乱码，但在单元测试中调用接口却没有出现中文乱码的问题。使用postman调用却出现了。<br> 于是我检查idea所有的与编码相关的，在检查postman请求头中的，都没有发现问题，找啊找，意外发现是tomcat的问题。但是我使用之前的项目是可以正常调用接口，也没发现中文乱码问题。</p><h2 id="遇到的问题" tabindex="-1"><a class="header-anchor" href="#遇到的问题" aria-hidden="true">#</a> 遇到的问题</h2><p>返回的数据出现中文乱码</p><p>原因：<br> tomcat字符集问题</p><h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法" aria-hidden="true">#</a> 解决方法</h2><p>检查字符编码，将所有跟编码相关的都更改为 UTF-8 编码格式</p><blockquote><p>tomcat安装目录下的conf/server.xml中，搜索 元素，找到URIEncoding属性（没有就新增），并将其设置为UTF-8:</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> <span class="token attr-name">URIEncoding</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">...</span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>IDEA的配置tomcat页面VM options 添加 <code>-Dfile.encoding=UTF-8</code></p></blockquote>`,11),d=e("br",null,null,-1),u={href:"https://blog.csdn.net/qq_44549652/article/details/131764308",target:"_blank",rel:"noopener noreferrer"},_={href:"https://blog.csdn.net/nxg0916/article/details/135697602",target:"_blank",rel:"noopener noreferrer"};function h(m,b){const n=o("ExternalLinkIcon");return r(),c("div",null,[p,e("p",null,[a("其他问题检查："),d,a(" 参考这里："),e("a",u,[a("https://blog.csdn.net/qq_44549652/article/details/131764308"),t(n)])]),e("p",null,[e("a",_,[a("idea中文乱码解决四种方法"),t(n)])])])}const f=s(i,[["render",h],["__file","question06-项目中文乱码.html.vue"]]);export{f as default};
