import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o as i,e as a}from"./app-Id1QszRS.js";const s={},n=a('<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><p>在spring大杂烩项目中，调用第三方接口时，出现中文乱码。 这里使用到spring、springmvc、本地tomcat、idea</p><p>找问题心流： 在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是不能正常运行的，需要注释掉对应的测试类，在idea中运行项目，一点错误都不能有，比如测试类中有错误，项目就跑不起来，idea中就是这样的。在eclipse中就没有这么样的情况，它也不会检测你测试类中是否丢失了哪些包或者不存在，你还是能正常运行项目。而且拉下来的项目，连配置文件中的内容都缺少，我也是服了。其实这里缺少的是两行配置，加在配置文件中即可，看似两行简单配置，可能会让你在突然拿到这个项目时，启动项目调接口时调不同，你去调别人的接口也貌似调不通。找啊找，很纠结。于是去看同事电脑上对应的项目的配置文件，才发现少了这两行代码，代码仓库居然不提交。我服了。这问题解决了，新的问题又来了。数据返回的中文乱码，但在单元测试中调用接口却没有出现中文乱码的问题。使用postman调用却出现了。 于是我检查idea所有的与编码相关的，在检查postman请求头中的，都没有发现问题，找啊找，意外发现是tomcat的问题。但是我使用之前的项目是可以正常调用接口，也没发现中文乱码问题。</p><h2 id="遇到的问题" tabindex="-1"><a class="header-anchor" href="#遇到的问题"><span>遇到的问题</span></a></h2><p>返回的数据出现中文乱码</p><p>原因： tomcat字符集问题</p><h2 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法"><span>解决方法</span></a></h2><p>检查字符编码，将所有跟编码相关的都更改为 UTF-8 编码格式</p><blockquote><p>tomcat安装目录下的conf/server.xml中，搜索 元素，找到URIEncoding属性（没有就新增），并将其设置为UTF-8:</p></blockquote><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;">Connector</span><span style="--shiki-light:#6F42C1;--shiki-dark:#D19A66;"> URIEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> .../&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>IDEA的配置tomcat页面VM options 添加 <code>-Dfile.encoding=UTF-8</code></p></blockquote><p>其他问题检查： 参考这里：<a href="https://blog.csdn.net/qq_44549652/article/details/131764308" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_44549652/article/details/131764308</a></p><p><a href="https://blog.csdn.net/nxg0916/article/details/135697602" target="_blank" rel="noopener noreferrer">idea中文乱码解决四种方法</a></p>',13),r=[n];function o(l,p){return i(),t("div",null,r)}const h=e(s,[["render",o],["__file","question06-项目中文乱码.html.vue"]]),m=JSON.parse('{"path":"/questionskills/workquestions/question06-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81.html","title":"项目中文乱码","lang":"zh-CN","frontmatter":{"title":"项目中文乱码","icon":"sliders","category":["项目"],"tag":["idea","tomcat","乱码"],"sticky":false,"star":false,"article":true,"timeline":true,"date":"2024-01-18T09:11:17.000Z","description":"背景 在spring大杂烩项目中，调用第三方接口时，出现中文乱码。 这里使用到spring、springmvc、本地tomcat、idea 找问题心流： 在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://blog.lxip.top/questionskills/workquestions/question06-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81.html"}],["meta",{"property":"og:site_name","content":"所遇所思"}],["meta",{"property":"og:title","content":"项目中文乱码"}],["meta",{"property":"og:description","content":"背景 在spring大杂烩项目中，调用第三方接口时，出现中文乱码。 这里使用到spring、springmvc、本地tomcat、idea 找问题心流： 在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"Mr.keney"}],["meta",{"property":"article:tag","content":"idea"}],["meta",{"property":"article:tag","content":"tomcat"}],["meta",{"property":"article:tag","content":"乱码"}],["meta",{"property":"article:published_time","content":"2024-01-18T09:11:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"项目中文乱码\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-18T09:11:17.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.keney\\",\\"url\\":\\"https://github.com/mynxg\\"}]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"遇到的问题","slug":"遇到的问题","link":"#遇到的问题","children":[]},{"level":2,"title":"解决方法","slug":"解决方法","link":"#解决方法","children":[]}],"readingTime":{"minutes":2.42,"words":726},"filePathRelative":"questionskills/workquestions/question06-项目中文乱码.md","localizedDate":"2024年1月18日","excerpt":"","autoDesc":true}');export{h as comp,m as data};
