import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,e as t,o as n}from"./app-BbNuU-RO.js";const e="/assets/2024-03-08_22-18-41-h_MO4IqI.png",l="/assets/2024-03-08_22-21-08--ZVr7pfB.png",h="/assets/2024-03-08_22-14-59-Bh0-fNkC.png",p={};function k(r,s){return n(),a("div",null,s[0]||(s[0]=[t(`<h2 id="maven本地仓库依赖上传到远程仓库" tabindex="-1"><a class="header-anchor" href="#maven本地仓库依赖上传到远程仓库"><span>maven本地仓库依赖上传到远程仓库</span></a></h2><blockquote><p>本地仓库上传到远程仓库</p></blockquote><p>批量上传：</p><p>批量本地仓库依赖（jar包）上传脚本：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># copy and run this script to the root of the repository directory containing files</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># this script attempts to exclude uploading itself explicitly so the script name is important</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get command line params</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> getopts</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:r:u:p:&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> opt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    case</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $opt</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">        r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">REPO_URL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ;;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">        u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">USERNAME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ;;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">        p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PASSWORD</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ;;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    esac</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./mavenimport\\.sh*&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*/\\.*&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*/\\^archetype\\-catalog\\.xml*&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*/\\^maven\\-metadata\\-local*\\.xml&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;*/\\^maven\\-metadata\\-deployment*\\.xml&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;s|^\\./||&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xargs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{}&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$USERNAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PASSWORD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -X</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PUT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -T</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {}</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;"> \${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">REPO_URL</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/{}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在maven本地仓库目录下创建 <strong>batch_upload_repo2.sh</strong> 脚本，并将上述内容添加进去脚本文件中 <img src="`+e+'" alt="" loading="lazy"></p><p>在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口： <img src="'+l+'" alt="" loading="lazy"></p><p>执行以下命令：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sh batch_upload_repo2.sh -u admin -p nxg_123456 -r http://localhost:8081/repository/nxgtest/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>sh 脚本名称.sh -u 用户名 -p 密码 -r http://localhost:8081/repository/仓库名</p></blockquote><p>执行完成是下图的效果： <img src="'+h+'" alt="" loading="lazy"></p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><p>删除本地maven仓库目录下所有的 .lastUpdated 文件</p><p>如果上传失败，可以将本地maven仓库目录下所有的 _remote.repositories 文件删除</p><h2 id="附件" tabindex="-1"><a class="header-anchor" href="#附件"><span>附件</span></a></h2><p>参考： <a href="https://mdzzw.cn/archives/mavenimport" target="_blank" rel="noopener noreferrer">本地仓库所有Jar批量上传到Nexus</a></p><p><a href="https://www.sharkchili.com/pages/076b9d/" target="_blank" rel="noopener noreferrer">基于自动化脚本批量上传依赖到nexus内网私服</a></p><p><a href="http://www.angyum.com/archives/pi-liang-shang-chuan-ben-de-maven-ku-dao-nexus-fu-wu-qi-zhong" target="_blank" rel="noopener noreferrer">批量上传本地maven库到Nexus服务器中</a></p><p><a href="https://blog.csdn.net/qq_36299991/article/details/134349345" target="_blank" rel="noopener noreferrer">Maven内网开发使用离线仓库</a></p><p><a href="https://zhuanlan.zhihu.com/p/678331669" target="_blank" rel="noopener noreferrer">持续集成工作原理 - maven私服</a></p>',20)]))}const g=i(p,[["render",k],["__file","maven私服批量上传依赖.html.vue"]]),c=JSON.parse('{"path":"/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E4%BE%9D%E8%B5%96.html","title":"maven私服批量上传本地依赖","lang":"zh-CN","frontmatter":{"title":"maven私服批量上传本地依赖","icon":"sliders","category":["maven"],"tag":["maven私服搭建","nexus","批量上传"],"sticky":false,"star":false,"article":true,"timeline":true,"date":"2024-03-12T15:01:17.000Z","description":"maven本地仓库依赖上传到远程仓库 本地仓库上传到远程仓库 批量上传： 批量本地仓库依赖（jar包）上传脚本： 在maven本地仓库目录下创建 batch_upload_repo2.sh 脚本，并将上述内容添加进去脚本文件中 在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口： 执行以下命令： sh 脚本名称.s...","gitInclude":[],"head":[["link",{"rel":"canonical","href":"https://blogs.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E4%BE%9D%E8%B5%96.html"}],["meta",{"property":"og:url","content":"https://blog.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E4%BE%9D%E8%B5%96.html"}],["meta",{"property":"og:site_name","content":"所遇所思"}],["meta",{"property":"og:title","content":"maven私服批量上传本地依赖"}],["meta",{"property":"og:description","content":"maven本地仓库依赖上传到远程仓库 本地仓库上传到远程仓库 批量上传： 批量本地仓库依赖（jar包）上传脚本： 在maven本地仓库目录下创建 batch_upload_repo2.sh 脚本，并将上述内容添加进去脚本文件中 在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口： 执行以下命令： sh 脚本名称.s..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:tag","content":"maven私服搭建"}],["meta",{"property":"article:tag","content":"nexus"}],["meta",{"property":"article:tag","content":"批量上传"}],["meta",{"property":"article:published_time","content":"2024-03-12T15:01:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"maven私服批量上传本地依赖\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-12T15:01:17.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.keney\\",\\"url\\":\\"https://github.com/mynxg\\"}]}"]]},"headers":[{"level":2,"title":"maven本地仓库依赖上传到远程仓库","slug":"maven本地仓库依赖上传到远程仓库","link":"#maven本地仓库依赖上传到远程仓库","children":[]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":2,"title":"附件","slug":"附件","link":"#附件","children":[]}],"readingTime":{"minutes":1.72,"words":516},"filePathRelative":"questionskills/maven/maven私服批量上传依赖.md","localizedDate":"2024年3月12日","excerpt":"","autoDesc":true}');export{g as comp,c as data};
