<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="https://blog.lxip.top/rss.xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <atom:link href="https://blog.lxip.top/rss.xml" rel="self" type="application/rss+xml"/>
    <title>所遇所思</title>
    <link>https://blog.lxip.top/</link>
    <description>分享技术、bug、问题解决技巧等</description>
    <language>zh-CN</language>
    <pubDate>Sat, 07 Dec 2024 08:59:47 GMT</pubDate>
    <lastBuildDate>Sat, 07 Dec 2024 08:59:47 GMT</lastBuildDate>
    <generator>@vuepress/plugin-feed</generator>
    <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
    <category>docker</category>
    <category>安装教程</category>
    <category>archlinux</category>
    <category>hyprland</category>
    <category>Go</category>
    <category>frp</category>
    <category>lamp-cloud</category>
    <category>运维</category>
    <category>xxl-job</category>
    <category>项目整合</category>
    <category>Knife4j</category>
    <category>项目</category>
    <category>Springboot</category>
    <category>maven</category>
    <category>git</category>
    <category>lombok</category>
    <category>技巧</category>
    <category>数据库</category>
    <category>工具</category>
    <category>图床</category>
    <category>Mybatis</category>
    <category>服务器监测</category>
    <category>mysql</category>
    <category>linux</category>
    <category>生活</category>
    <category>Java</category>
    <category>实战项目</category>
    <category>导航</category>
    <category>系统设计</category>
    <category>技术教程</category>
    <category>书籍</category>
    <category>快速导航</category>
    <category>编程知识库</category>
    <category>影视</category>
    <category>音乐</category>
    <category>java</category>
    <category>后端</category>
    <category>javaweb</category>
    <item>
      <title>docker安装umami</title>
      <link>https://blog.lxip.top/notes/docker/umami-install.html</link>
      <guid>https://blog.lxip.top/notes/docker/umami-install.html</guid>
      <source url="https://blog.lxip.top/rss.xml">docker安装umami</source>
      <description>介绍 在众多的分析工具中，有google analyze、baidu analyze、51La等，为什么选择umami呢，原因在于umami可以用于自由部署、网站数据追踪、埋点等，数据可以掌握在自己手中，或者说灵活度更高，可以接入个人站点中展示网站访问情况。 umami优点： 简单分析 Umami 只测量你关心的重要指标：网页浏览量、使用的设备以及访问...</description>
      <category>docker</category>
      <category>安装教程</category>
      <pubDate>Sat, 30 Nov 2024 23:43:57 GMT</pubDate>
      <content:encoded><![CDATA[<h2>介绍</h2>
<p>在众多的分析工具中，有google analyze、baidu analyze、51La等，为什么选择umami呢，原因在于umami可以用于自由部署、网站数据追踪、埋点等，数据可以掌握在自己手中，或者说灵活度更高，可以接入个人站点中展示网站访问情况。</p>
<p>umami优点：</p>
<blockquote>
<ol>
<li><strong>简单分析</strong> Umami 只测量你关心的重要指标：网页浏览量、使用的设备以及访问者的来源。这些数据都在一个易于浏览的页面上展示。</li>
<li><strong>不限网站数量</strong> Umami 通过一次安装就可以跟踪无限数量的网站，甚至还可以跟踪子域名和单个的 URL。</li>
<li><strong>绕过广告拦截器</strong> Umami 由你在自己进行托管部署，所以你可以有效地避免 Google Analytics 不同的广告拦截器。</li>
<li><strong>轻量级</strong> 追踪脚本很小（只有 2KB），而且支持 IE 等旧版浏览器。</li>
<li><strong>多账户</strong> Umami 可用于为朋友或客户托管数据，只需创建一个单独的账号，他们就可以开始在自己的仪表板上跟踪自己的网站。</li>
<li><strong>共享数据</strong> 如果你想公开分享你的统计数据，那么你可以使用一个唯一生成的 URL 进行共享。</li>
<li><strong>移动端友好</strong> Umami 界面已针对移动设备进行了优化，因此你可以从任何地方查看你的统计数据。</li>
<li><strong>数据所有权</strong> 由于 Umami 是自托管的，因此你拥有所有数据。无需将你的数据交给第三方进行利用。</li>
<li><strong>注重隐私</strong> Umami 不收集任何个人身份信息，并对收集的所有数据进行匿名处理。</li>
<li><strong>开源</strong> Umami 是开源的，并采用 MIT 的开源协议。</li>
</ol>
</blockquote>
<h2>前提</h2>
<p>一台云服务器、配置有反向代理</p>
<p>云服务器安装docker、docker-compose</p>
<p>云服务器对应的防火墙（规则）端口开放</p>
<p>国内服务器需要自行配置镜像源地址</p>
<p>docker版本：Docker version 27.3.1, build ce12230</p>
<p>Linux版本：Linux lavm-2uq9wpz749 5.14.0-70.13.1.el9_0.x86_64 #1 SMP PREEMPT Wed May 25 21:01:57 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux</p>
<p>umami版本：2.14.0 （目前是最新版）</p>
<p>官方网站：https://umami.is/</p>
<p>官方文档：https://umami.is/docs/</p>
<p>开源地址：https://github.com/umami-software/umami</p>
<p>演示地址： https://app.umami.is/share/8rmHaheU/umami.is</p>
<p>docker镜像查看：
https://github.com/umami-software/umami/pkgs/container/umami
https://hub.docker.com/r/umamisoftware/umami/tags</p>
<h2>umami安装及配置</h2>
<p>先熟悉不同docker-compose配置，如果你有docker基础，使用起来那是非常方便。如果不是，那就需要先了解docker的使用了。</p>
<blockquote>
<p>这里使用最新docker compose命令，不再使用docker-compose命令</p>
</blockquote>
<h3>1.数据库选择（二选一）</h3>
<p>mysql用于存储</p>
<blockquote>
<p>文件名：docker-compose-umami.yml</p>
<p>以下是文件内容</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>version: '3'</span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>  umami:</span></span>
<span class="line"><span>    image: docker.umami.is/umami-software/umami:mysql-latest</span></span>
<span class="line"><span>    container_name: umami-latest-v</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - "3010:3000"</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      DATABASE_URL: mysql://umami-u:123456-u@umami-mysql:3306/umami</span></span>
<span class="line"><span>      DATABASE_TYPE: mysql</span></span>
<span class="line"><span>      APP_SECRET: replace-me-with-a-random-string</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - umami-db</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>  umami-db:</span></span>
<span class="line"><span>    image: mysql:8.0.20</span></span>
<span class="line"><span>    container_name: umami-mysql</span></span>
<span class="line"><span>    command: --default-authentication-plugin=mysql_native_password</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      TZ: Asia/Shanghai</span></span>
<span class="line"><span>      MYSQL_DATABASE: umami</span></span>
<span class="line"><span>      MYSQL_ROOT_PASSWORD: 123456-a</span></span>
<span class="line"><span>      MYSQL_USER: umami-u</span></span>
<span class="line"><span>      MYSQL_PASSWORD: 123456-u</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - "3307:3306"</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      # 挂载数据目录</span></span>
<span class="line"><span>      - ./umami-mysql-data:/var/lib/mysql</span></span>
<span class="line"><span>    restart: always</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>mysql://umami-u:123456-u@umami-mysql:3306/umami</p>
<p>mysql://数据库用户名:数据库密码@数据库容器名称:端口/数据库名</p>
<p>MYSQL_DATABASE: 数据库名
MYSQL_ROOT_PASSWORD: root用户密码
MYSQL_USER: 普通用户的用户名
MYSQL_PASSWORD: 普通用户的用户名对应的密码</p>
<p>这里只有普通用户进行连接数据库</p>
</blockquote>
<p>postgresql用于存储</p>
<blockquote>
<p>文件名：docker-compose-umami.yml</p>
<p>以下是文件内容</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>version: '3'</span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>  umami:</span></span>
<span class="line"><span>    image: docker.umami.is/umami-software/umami:postgresql-latest</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - "3010:3000"</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      DATABASE_URL: postgresql://umami:umami@db:5432/umami</span></span>
<span class="line"><span>      DATABASE_TYPE: postgresql</span></span>
<span class="line"><span>      APP_SECRET: replace-me-with-a-random-string</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - db</span></span>
<span class="line"><span>    restart: always</span></span>
<span class="line"><span>  db:</span></span>
<span class="line"><span>    image: postgres:12.22</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      POSTGRES_DB: umami</span></span>
<span class="line"><span>      POSTGRES_USER: umami</span></span>
<span class="line"><span>      POSTGRES_PASSWORD: umami</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./umami-db-data:/var/lib/postgresql/data</span></span>
<span class="line"><span>    restart: always</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>postgresql://umami:umami@db:5432/umami</p>
<p>postgresql://用户名:密码@默认连接名称:5432/数据库名</p>
<p>POSTGRES_DB: 数据库名
POSTGRES_USER: 用户名
POSTGRES_PASSWORD: 密码</p>
<p>注意：在老的教程中可能会有这个条// - ./sql/schema.postgresql.sql:/docker-entrypoint-initdb.d/schema.postgresql.sql:ro 现在不需要了</p>
<p>原因是在新版本中已经不需要初始化sql了，在源代码中已经处理了。</p>
<p>//- ./umami-db-data:/var/lib/postgresql/data</p>
<p>这个表示将本地文件系统中的某个目录（<code>./umami-db-data</code>）挂载到 Docker 容器中/var/lib/postgresql/data的目录，这样做的目的是以便在容器中持久化数据，数据卷可以使数据在容器停止或删除后保留，确保数据不丢失。</p>
</blockquote>
<h3>2.操作</h3>
<p>2.1.创建目录：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mkdir -p /root/docker-compose/umami</span></span>
<span class="line"><span>mkdir -p  /root/docker-compose/umami/umami-mysql-data</span></span>
<span class="line"><span>mkdir  -p  /root/docker-compose/umami/umami-db-data</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.2.在目录下创建docker-compose.yml文件</p>
<blockquote>
<p>docker-compose.yml文件在/root/docker-compose/umami目录下创建</p>
</blockquote>
<p>在数据选择中选择其中一个配置即可</p>
<p>2.3. 启动docker compose</p>
<blockquote>
<p>在/root/docker-compose/umami目录下执行以下命令</p>
</blockquote>
<p>启动：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker compose -f docker-compose-umami.yml up -d</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>为什么使用自定义的docker-compose-umami.yml名称呢</p>
<p>1.为了方便后续增加其他docker-compose文件</p>
<p>2.docker compose 默认配置是docker-compose.yml，通过docker-compose up -d即可启动</p>
<p>3.自定docker compose配置，定制化需求更好，比如umami提供的两种数据库，不想修改配置，可以这样：</p>
<p>docker-compose-umami-mysql.yml 用于填写mysql配置内容</p>
<p>docker-compose-umami-postgresql.yml 用于填写postgresql配置内容</p>
</blockquote>
<p>关闭删除容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker compose -f docker-compose-umami.yml  down</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>更新容器镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker compose -f docker-compose-umami.yml  pull</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>拉取docker-compose-umami服务的最新镜像</p>
</blockquote>
<h2>访问umami</h2>
<p>在没有使用方向代理，则直接通过ip地址加端口即可访问</p>
<blockquote>
<p>默认账号是：admin</p>
<p>密码：umami</p>
</blockquote>
<p>地址：http://11x.xx.xx.53:3010</p>
<h2>附录</h2>
<p><a href="https://imnxg.notion.site/docker-compose-docker-compose-14f8b8600cef8032a730fa2b42503f86?pvs=4" target="_blank" rel="noopener noreferrer">为什么使用docker compose而不使用docker-compose</a></p>
<blockquote>
<p>对于新用户和新的项目，推荐使用 docker compose，因为它是最新的命令集并且集成更好</p>
</blockquote>
<p>注意：</p>
<blockquote>
<p>docker.umami.is/umami-software/umami:postgresql-latest镜像可能在国内服务器中可能拉下来非常慢，可以选择阿里云提供的镜像服务，将docker hub镜像同步到阿里云镜像仓库中，然后再在服务器中使用对应的地址拉取umami:postgresql-latest或umami:mysql-latest</p>
</blockquote>
<p>参考：</p>
<p>https://blog.amarea.cn/archives/use-docker-deploy-umami-analytics.html</p>
<p>https://www.zywvvd.com/notes/tools/umami/umami/</p>
<p>https://blog.laoda.de/archives/umami?cid=3913</p>
]]></content:encoded>
    </item>
    <item>
      <title>02-hyprland主题使用</title>
      <link>https://blog.lxip.top/questionskills/archlinux/01-hyprland.html</link>
      <guid>https://blog.lxip.top/questionskills/archlinux/01-hyprland.html</guid>
      <source url="https://blog.lxip.top/rss.xml">02-hyprland主题使用</source>
      <description>参考：hyperland安装： https://xiaochai.website/archives/zai-nvidiaxia-an-zhuang-hyprlandshou-ba-shou-qin-ce-ke-yong 参考视频：https://www.youtube.com/watch?v=1_Ui6dgH9Vs 推荐 hyprland主题安装 1、...</description>
      <category>archlinux</category>
      <category>hyprland</category>
      <pubDate>Mon, 16 Sep 2024 14:12:13 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>参考：hyperland安装：
https://xiaochai.website/archives/zai-nvidiaxia-an-zhuang-hyprlandshou-ba-shou-qin-ce-ke-yong</p>
</blockquote>
<blockquote>
<p>参考视频：https://www.youtube.com/watch?v=1_Ui6dgH9Vs
推荐</p>
</blockquote>
<p>hyprland主题安装</p>
<p>1、安装好archlinux之后</p>
<p>2、先下载paru包</p>
<p>这个地址也可以 https://aur.archlinux.org/paru.git</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git clone https://aur.archlinux.org/paru-git.git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>然后进入cd paru-git目录执行以下命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>makepkg -si</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3、再安装hyprland桌面</p>
<p>参考：https://github.com/mylinuxforwork/dotfiles</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>paru -S ml4w-hyprland-git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>安装和配置启动</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ml4w-hyprland-setup</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>fcitx5皮肤美化</p>
<p>中文输入法安装：</p>
<p>参考：https://fcitx-im.org/wiki/Fcitx_5/zh-cn</p>
<p>中文输入法本身有两种frameworks，ibus和fcitx，我在这里使用的是fcitx5。</p>
<p>https://fcitx-im.org/wiki/Fcitx_5/zh-cn</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pacman -S fcitx5 fcitx5-rime fcitx5-configtool</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>强推下雾凇拼音 https://github.com/iDvel/rime-ice</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>paru -S rime-ice-git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>installation完成之后还需要集成到系统中去，需要在/etc/environment文件中添加如下几行：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GTK_IM_MODULE=fcitx</span></span>
<span class="line"><span>QT_IM_MODULE=fcitx</span></span>
<span class="line"><span>XMODIFIERS=@im=fcitx</span></span>
<span class="line"><span>SDL_IM_MODULE=fcitx</span></span>
<span class="line"><span>GLFW_IM_MODULE=ibus</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>PS: fcitx可以按Ctrl+;来显示剪切板</p>
</blockquote>
<p>在fcitx5上的中文输入法引擎，有很多种，我选择的是rime，其有良好的扩展性和可移植性。</p>
<p>PS: 刚开始rime的默认输入法是繁体的，需要按Ctrl+~来切换为简体</p>
<p>如果需要配置rime的话，需要在~/.local/share/fcitx5/rime/default.custom.yaml中设置，比如你想要设置出词的页数就在文件中写入：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>patch:</span></span>
<span class="line"><span>  "menu/page_size": 7</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>fcitx5皮肤美化：</p>
<p>https://github.com/tonyfettes/fcitx5-nord</p>
<p>安装：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git clone https://github.com/tonyfettes/fcitx5-nord.git</span></span>
<span class="line"><span>mkdir -p ~/.local/share/fcitx5/themes/</span></span>
<span class="line"><span>cd fcitx5-nord</span></span>
<span class="line"><span>cp -r Nord-Dark/ Nord-Light/ ~/.local/share/fcitx5/themes/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑：</p>
<p>In ~/.config/fcitx5/conf/classicui.conf, change the Theme line as</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Theme=Nord-Dark</span></span>
<span class="line"><span># or</span></span>
<span class="line"><span>Theme=Nord-Light</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then restart fcitx5 to apply the theme.</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>fcitx5 -r</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>包管理工具</h2>
<p>pacman、paru</p>
<p>包查找：</p>
<p>https://aur.chaotic.cx/package-list</p>
<h2>快捷键</h2>
<p>Super+回车 打开终端</p>
<p>Super+B 打开浏览器</p>
<p>ctrl+super+回车 打开应用发起</p>
<p>Super+Q  关闭窗口</p>
<p>Super+F 全屏</p>
<p>Super+T  Toggle  active  windows into floating mode</p>
<p>ctrl+super+S 打开Hyprland设置脚本</p>
<p>super+E 打开文件管理</p>
<p>Super+ ctrl + E 打开emoji picker</p>
<p>Super+ ctrl +C 打开计算器</p>
<p>Super+shift+T  切换所有窗口浮动模式 Toggle all  windows into floating mode</p>
<p>Super+J  切换分割Toggle  split</p>
<p>super+left 移动焦点到左边</p>
<p>super+right 移动焦点到右边</p>
<p>super+up 移动焦点到上面</p>
<p>super+down 移动焦点到下面</p>
<p>super+mouse：273 通过鼠标移动窗口</p>
<p>super+shit+right  增加窗口右边宽度</p>
<p>super+shit+left  增加窗口左边宽度</p>
<p>super+shit+up  增加窗口上边宽度</p>
<p>super+shit+down  增加窗口下边宽度</p>
<p>super+G 切换窗口分组</p>
<p>super+K 交换窗口</p>
<p>super+shit+A 切换动画</p>
<p>super+print 截图</p>
<p>super+shit+S  截图</p>
<p>super+ctrl+Q 开始退出界面</p>
<p>super+shit+W 切换壁纸</p>
<p>super+ctrl+W 打开壁纸选择</p>
<p>super+alt+W 开始随机壁纸脚本</p>
<p>super+ctrl+回车 打开应用发起</p>
<p>super+ctrl+K  展示快捷键     ======</p>
<p>supe+shit+B  加载状态栏</p>
<p>super+ctrl+B  切换状态栏</p>
<p>super+shit+R  加载hyprland配置</p>
<p>super+V 打开快捷键管理</p>
<p>super+ctrl+T 打开状态栏主题交换</p>
<p>super+ctrl+S  打开ML4W dotfiles 设置应用</p>
<p>super+shift+H    切换屏幕着色器</p>
<p>super+alt+G  切换游戏模式</p>
<p>super+Z 打开任务中心   ======</p>
<p>super+1  打开工作空间1</p>
<p>super+2  打开工作空间2</p>
<p>super+3  打开工作空间3</p>
<p>super+4  打开工作空间4</p>
<p>super+5 打开工作空间5</p>
<p>super+6 打开工作空间6</p>
<p>super+7  打开工作空间7</p>
<p>super+8 打开工作空间8</p>
<p>super+9 打开工作空间9</p>
<p>super+0 打开工作空间10</p>
<p>super+shift+1  移动窗口到工作空间1</p>
<p>super+shift+2  移动窗口到工作空间2</p>
<p>super+shift+3  移动窗口到工作空间3</p>
<p>super+shift+4  移动窗口到工作空间4</p>
<p>super+shift+5 移动窗口到工作空间5</p>
<p>super+shift+6 移动窗口到工作空间6</p>
<p>super+shift+7  移动窗口到工作空间7</p>
<p>super+shift+8 移动窗口到工作空间8</p>
<p>super+shift+9 移动窗口到工作空间9</p>
<p>super+shift+0 移动窗口到工作空间10</p>
<p>super+tab 打开下一个工作区</p>
<p>super+shit 打开上一个工作区</p>
<p>super+ctrl+1  移动所有窗口到工作空间1</p>
<p>super+ctrl+2  移动所有窗口到工作空间2</p>
<p>super+ctrl+3  移动所有窗口到工作空间3</p>
<p>super+ctrl+4  移动所有窗口到工作空间4</p>
<p>super+ctrl+5 移动所有窗口到工作空间5</p>
<p>super+ctrl+6 移动所有窗口到工作空间6</p>
<p>super+ctrl+7  移动所有窗口到工作空间7</p>
<p>super+ctrl+8 移动所有窗口到工作空间8</p>
<p>super+ctrl+9 移动所有窗口到工作空间9</p>
<p>super+ctrl+0 移动所有窗口到工作空间10</p>
<p>super+mouse—up 打开上一个工作区</p>
<p>super+mouse—down 打开下一个工作区</p>
<p>super+P 将键透传给虚拟机。 passthrough key to virtual machine</p>
<p>super+Escape 从虚拟机取回超级键。get super key back from virtual machine</p>
<figure><img src="https://cdn.nlark.com/yuque/0/2024/png/25612657/1726676589794-ab9d94b3-ca00-46b7-83ea-0ce5183863a8.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_585%2Climit_0" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure>
<h2>附件</h2>
<p>hyprland配置：</p>
<p>配置：https://github.com/Rogerskelamen/dotfiles</p>
<p>配置：<a href="https://github.com/lingllqs/dotfiles?" target="_blank" rel="noopener noreferrer">https://github.com/lingllqs/dotfiles</a></p>
<p>配置1：https://github.com/Rogerskelamen/dotfiles</p>
]]></content:encoded>
      <enclosure url="https://cdn.nlark.com/yuque/0/2024/png/25612657/1726676589794-ab9d94b3-ca00-46b7-83ea-0ce5183863a8.png?x-oss-process=image%2Fformat%2Cwebp%2Fresize%2Cw_585%2Climit_0" type="image/"/>
    </item>
    <item>
      <title>vscode运行go</title>
      <link>https://blog.lxip.top/notes/go/vscode%E8%BF%90%E8%A1%8Cgo.html</link>
      <guid>https://blog.lxip.top/notes/go/vscode%E8%BF%90%E8%A1%8Cgo.html</guid>
      <source url="https://blog.lxip.top/rss.xml">vscode运行go</source>
      <description>配置 VSCode 开发环境 1、安装GO插件 先在vscode中安装插件 1.1 通过go扩展插件安装 `shift``p` `shift``p` 安装完成后，控制台打印的效果： 1.2 通过命令安装 在cmd窗口，输入以下命令进行安装 注意：cmd窗口需要 最后，</description>
      <category>Go</category>
      <pubDate>Thu, 12 Sep 2024 10:45:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>配置 VSCode 开发环境</h2>
<blockquote>
</blockquote>
<h3>1、安装GO插件</h3>
<p>先在vscode中安装插件</p>
<figure><figcaption></figcaption></figure>
<p>1.1 通过go扩展插件安装</p>
<ul>
<li>
`shift``p`</li>
<li>
`shift``p`</li>
<li><figcaption></figcaption></li>
</ul>
<p>安装完成后，控制台打印的效果：</p>
<figure><figcaption></figcaption></figure>
<p>1.2 通过命令安装</p>
<p>在cmd窗口，输入以下命令进行安装</p>
<div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>go get -v github.com/mdempsky/gocode</span></span>
<span class="line"><span>go get -v github.com/uudashr/gopkgs/v2/cmd/gopkgs</span></span>
<span class="line"><span>go get -v github.com/rogpeppe/godef</span></span>
<span class="line"><span>go get -u github.com/ramya-rao-a/go-outline</span></span>
<span class="line"><span>go get -v github.com/sqs/goreturns</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：cmd窗口需要</p>
</blockquote>
<p>最后，</p>
]]></content:encoded>
    </item>
    <item>
      <title>go安装</title>
      <link>https://blog.lxip.top/notes/go/go%E5%AE%89%E8%A3%85.html</link>
      <guid>https://blog.lxip.top/notes/go/go%E5%AE%89%E8%A3%85.html</guid>
      <source url="https://blog.lxip.top/rss.xml">go安装</source>
      <description>下载Go 下载地址：https://studygolang.com/dl 一、go安装 这种方式会自动帮把go环境配置.</description>
      <category>Go</category>
      <pubDate>Thu, 12 Sep 2024 10:39:13 GMT</pubDate>
      <content:encoded><![CDATA[<p>下载Go</p>
<p>下载地址：<a href="https://studygolang.com/dl" target="_blank" rel="noopener noreferrer">https://studygolang.com/dl</a></p>
<figure><figcaption></figcaption></figure>
<h2>一、go安装</h2>
<h2></h2>
<figure><figcaption></figcaption></figure>
<figure><figcaption></figcaption></figure>
<figure><figcaption></figcaption></figure>
<figure><figcaption></figcaption></figure>
<figure><figcaption></figcaption></figure>
<p>这种方式会自动帮把go环境配置.</p>
]]></content:encoded>
    </item>
    <item>
      <title>go-window环境安装（推荐）</title>
      <link>https://blog.lxip.top/notes/go/go-window%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89.html</link>
      <guid>https://blog.lxip.top/notes/go/go-window%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%EF%BC%88%E6%8E%A8%E8%8D%90%EF%BC%89.html</guid>
      <source url="https://blog.lxip.top/rss.xml">go-window环境安装（推荐）</source>
      <description>下载安装包 https://go.dev/learn/ 准备工作 下载编译器 编译器下载： 付费的 vscode、vim 免费 一、go安装 我这里直接以下载go语言安装包方式， 解压到D:\software\go目录下： 二、环境配置 window系统环境变量配置大概位置：高级系统设置&amp;gt;环境变量&amp;gt;系统变量 点击Path： 增加 创建go三方包： 点击...</description>
      <category>Go</category>
      <pubDate>Thu, 12 Sep 2024 10:36:13 GMT</pubDate>
      <content:encoded><![CDATA[<p>下载安装包</p>
<p><a href="https://go.dev/learn/" target="_blank" rel="noopener noreferrer">https://go.dev/learn/</a></p>
<figure><figcaption></figcaption></figure>
<h2>准备工作</h2>
<p>下载编译器</p>
<p>编译器下载：</p>
<blockquote>
<p>付费的</p>
</blockquote>
<p>vscode、vim</p>
<blockquote>
<p>免费</p>
</blockquote>
<h2>一、go安装</h2>
<p>我这里直接以下载go语言安装包方式，</p>
<figure><figcaption></figcaption></figure>
<p>解压到D:\software\go目录下：</p>
<figure><figcaption></figcaption></figure>
<h2>二、环境配置</h2>
<p>window系统环境变量配置大概位置：高级系统设置&gt;环境变量&gt;系统变量</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">go包路径：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">D:\software\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">\</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">go1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">23</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">windows</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<p>点击Path：</p>
<figure><figcaption></figcaption></figure>
<p>增加</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">%GO_HOME1231%\bin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<p>创建go三方包：</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">D:\software\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-third</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">D:\software\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-third\bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">D:\software\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-third\pkg</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<blockquote>
</blockquote>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">变量名：GOPATH</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">变量值：D:\software\</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-third</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<p>点击Path：</p>
<p>增加</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">%GOPATH%\bin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<blockquote>
<p><strong></strong></p>
</blockquote>
<h3>检测是否安装成功</h3>
<p>查看版本：</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> version</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看环境变量：</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> env</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<h2>配置 Go 代理</h2>
<p>在环境变量中增加代理</p>
<p>GOPROXY</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">变量名：GOPROXY</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">变量值：https://</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">goproxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">cn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,direct</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">通过命令方式设置goproxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">io代理</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> env -w GOPROXY</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"https://proxy.golang.com.cn,direct"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 设置GO111MOUDLE</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">go</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> env -w GO111MODULE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"on"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>目的：下载国外包比较慢，使用国内代理就比较快</p>
</blockquote>
<h3>常用的 go 代理</h3>
<ul>
<li>
[](https://goproxy.io/zh/)</li>
<li>
[](https://mirrors.aliyun.com/goproxy/)</li>
<li>
[](https://goproxy.cn/)</li>
</ul>
<h2></h2>
配置 Go 代理<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 配置 GOPROXY 环境变量</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">export GOPROXY</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">https://</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">goproxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">io</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,direct</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 还可以设置不走 proxy 的私有仓库或组，多个用逗号相隔（可选）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">export GOPRIVATE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">git</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">mycompany</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.com,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">github</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/my/</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">private</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>参考：<a href="https://goproxy.io/zh/" target="_blank" rel="noopener noreferrer">https://goproxy.io/zh/</a></p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>frp-0.59-使用教程</title>
      <link>https://blog.lxip.top/questionskills/softguide/frp-0.59-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/frp-0.59-%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html</guid>
      <source url="https://blog.lxip.top/rss.xml">frp-0.59-使用教程</source>
      <description>背景 目前需要使用自建的内网穿透工具，就选择了frp，frp也分很多版本，我之前使用的是frp_0.51.2_windows_386版本，现在升级版本为frp_0.59.0_windows_amd64，主要使用这个frp功能有，点对点内网穿透（p2p）、安全地暴露内网服务 和 服务端作为代理进行穿透的三种方式。准备使用点对点或安全的暴露服务方式，之前使...</description>
      <category>frp</category>
      <pubDate>Sun, 04 Aug 2024 19:49:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>目前需要使用自建的内网穿透工具，就选择了frp，frp也分很多版本，我之前使用的是frp_0.51.2_windows_386版本，现在升级版本为frp_0.59.0_windows_amd64，主要使用这个frp功能有，点对点内网穿透（p2p）、安全地暴露内网服务 和 服务端作为代理进行穿透的三种方式。准备使用点对点或安全的暴露服务方式，之前使用的一直是服务器代理的方式进行内网穿透，这样直接将自己的机器暴露在公网上，非常不安全，有一次我检查服务器日志，发现很多请求我服务器暴露的这个端口，意识到可能被盯上了，就改换了其他端口。现在加强安全意识，就换用点对点或者安全的暴露方式，攻击者的扫描和入侵。建议不使用服务提供的默认端口，自行进行修改。</p>
<blockquote>
<p>目前使用的用途有：远程连接window电脑、web服务暴露在公网上。</p>
</blockquote>
<h2>一、准备工作</h2>
<blockquote>
<p>官方下载地址：<a href="https://github.com/fatedier/frp/releases/tag/v0.59.0" target="_blank" rel="noopener noreferrer">https://github.com/fatedier/frp/releases/tag/v0.59.0</a></p>
<p>这里我提供两个下载地址：</p>
</blockquote>
<p>123网盘：<a href="https://www.123pan.com/s/tB5A-psnYd.html?" target="_blank" rel="noopener noreferrer">https://www.123pan.com/s/tB5A-psnYd.html?</a> 提取码: <a href="TA7T">TA7T</a></p>
<blockquote>
<p>蓝奏网盘：<a href="https://nxg.lanzoul.com/b03ivhzl1i" target="_blank" rel="noopener noreferrer">https://nxg.lanzoul.com/b03ivhzl1i</a>   密码:7ijd</p>
</blockquote>
<p>frp_0.59.0_linux_amd64.tar.gz   ====》用于上传到linux服务器上</p>
<p>frp_0.59.0_windows_amd64.zip  ====》 用于在window本地启动的</p>
<blockquote>
<p>注意：下载linux版的会window系统会报毒，自行在设置中放行(排除)下载目录即可下载，并上传到服务器上。
在官网下载同样是会报毒的，可以自行验证。</p>
</blockquote>
<h2>二、配置服务端</h2>
<h3>2.1 上传frp和配置frp</h3>
<p>先上传frp_0.59.0_linux_amd64.tar.gz压缩包到自定义目录下，这里我以 /root/frp 目录为例：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.59.0_linux_amd64.tar.gz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>位置：/root/frp/frp_0.59.0_linux_amd64</p>
<p>frps.toml修改配置端口:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bindPort = 7002</span></span>
<span class="line"><span>auth.token = "qwweqqwea123132aa"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>transport.maxPoolCount = 5</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 默认为 127.0.0.1，如果需要公网访问，需要修改为 0.0.0.0。</span></span>
<span class="line"><span>webServer.addr = "0.0.0.0"</span></span>
<span class="line"><span>webServer.port = 7003</span></span>
<span class="line"><span># dashboard 用户名密码，可选，默认为空</span></span>
<span class="line"><span>webServer.user = "admin"</span></span>
<span class="line"><span>webServer.password = "admin"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>log.to = "/root/frp/log/frps.log"</span></span>
<span class="line"><span>log.level = "info"</span></span>
<span class="line"><span>log.maxDays = 30</span></span>
<span class="line"><span>log.disablePrintColor = false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>至此服务配置就配置好了</p>
</blockquote>
<h3>2.2 安装&nbsp;<code>systemd</code></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemd</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.3 创建并编辑&nbsp;<code>frps.service</code>&nbsp;文件（使用vim编辑器）</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/frps-59.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.4 写入内容</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务名称，可自定义</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Description</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.59.0_linux_amd64</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">After</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network.target</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> syslog.target</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Wants</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Service]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> simple</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frps的命令，需修改为您的frps的安装路径</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ExecStart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =/root/frp/frp_0.59.0_linux_amd64/frps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /root/frp/frp_0.59.0_linux_amd64/frps.toml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Install]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">WantedBy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> multi-user.target</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：/root/frp/frp_0.59.0_linux_amd64/frps  对应的frps 文件，也就是你上传到服务器后，并解压后的一个文件。</p>
</blockquote>
<p>上面三步可以参考：<a href="https://gofrp.org/docs/setup/systemd/" target="_blank" rel="noopener noreferrer">https://gofrp.org/docs/setup/systemd/</a></p>
<p>然后刷新一下：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 如果上面的命令没有生效，就使用下面的命令试一试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reexec</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>2.5 启动和关闭命令</h3>
<blockquote>
<p>不是root管理员权限时，需要使用到sudo，如你是管理员权限，就可以不是sudo命令，直接 systemctl start frps-59</p>
</blockquote>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 停止frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 重启frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 查看frp状态</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置开机自启：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>三、配置客户端</h2>
<h3>安全暴露服务</h3>
<p>1、被访问者机器（目标机器）</p>
<p>解压 frp_0.59.0_windows_amd64.zip 文件：</p>
<p>位置：D:\programTool\frp\frp_0.59.0_windows_amd64</p>
<p>frpc.toml 修改配置：</p>
<div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"服务器公网ip地址"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">proxies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_stcp_test"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"stcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 只有与此处设置的 secretKey 一致的用户才能访问此服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"7G5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">3389</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这是要<strong>被访问的机器</strong>，即 目标机器</p>
</blockquote>
<p>cmd启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\frpc.exe -c .\frpc.toml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2、访问者机器</p>
<p>解压 frp_0.59.0_windows_amd64.zip 文件：</p>
<blockquote>
<p>位置：D:\tool\technology\frp\frp_0.59.0_windows_amd64</p>
</blockquote>
<p>修改frpc.toml 配置：</p>
<div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"101.133.238.75"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">visitors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_stcp_visitor"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"stcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 要访问的 stcp 代理的名字</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_stcp_test"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 只有与此处设置的 secretKey 一致的用户才能访问此服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"7G5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7003</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这是<strong>访问者的机器</strong>，即，从这台机器去访问上一台配置好的机器。</p>
</blockquote>
<p>cmd启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\frpc.exe -c .\frpc.toml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>访问者机器 连接 被访问者</p>
<p>使用window自带的远程连接工具：127.0.0.1:7003 输入电脑用户名和密码，即可访问目标机器</p>
<h3>点对点访问服务</h3>
<p>1、被访问者机器（目标机器）
位置：D:\programTool\frp\frp_0.59.0_windows_amd64</p>
<p>frpc.toml 修改配置：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>serverAddr = "服务器公网ip地址"</span></span>
<span class="line"><span>serverPort = 7002</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[[proxies]]</span></span>
<span class="line"><span>name = "p2p_rdp_test"</span></span>
<span class="line"><span>type = "xtcp"</span></span>
<span class="line"><span># 只有共享密钥 (secretKey) 与服务器端一致的用户才能访问该服务</span></span>
<span class="line"><span>secretKey = "AAAA5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span>localIP = "127.0.0.1"</span></span>
<span class="line"><span>localPort = 3389</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、访问者机器：</p>
<blockquote>
<p>位置：D:\tool\technology\frp\frp_0.59.0_windows_amd64</p>
</blockquote>
<p>修改frpc.toml 配置：</p>
<div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"101.133.238.75"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">visitors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"p2p_rdp_visitor"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xtcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 要访问的 P2P 代理的名称</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"p2p_rdp_test"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"AAAA5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 绑定本地端口以访问 SSH 服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7004</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 如果需要自动保持隧道打开，将其设置为 true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">keepTunnelOpen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">true</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这是<strong>访问者的机器</strong>，即，从这台机器去访问上一台配置好的机器。</p>
</blockquote>
<p>cmd启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\frpc.exe -c .\frpc.toml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>访问者机器 连接 被访问者</p>
<p>使用window自带的远程连接工具：127.0.0.1:7004 输入电脑用户名和密码，即可访问目标机器</p>
<h2>window自启配置</h2>
<p>在 D:\programTool\frp\frp_0.59.0_windows_amd64 和 D:\tool\technology\frp\frp_0.59.0_windows_amd64 目录下创建</p>
<h3>方式一：</h3>
<p>frpc-start.bat</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">@echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> off</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">:home</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">frpc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frpc.toml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">goto</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> home</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后将这个 frp-start.bat 快捷键放入到 window开机自启的目录下。</p>
<blockquote>
<p>这个脚本可以看到控制台窗口，不那么优雅</p>
</blockquote>
<h3>方式二：</h3>
<p>frpc-start.bat</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@echo off</span></span>
<span class="line"><span>if "%1" == "h" goto begin</span></span>
<span class="line"><span>mshta vbscript:createobject("wscript.shell").run("""%~nx0"" h",0)(window.close)&amp;&amp;exit</span></span>
<span class="line"><span>:begin</span></span>
<span class="line"><span>REM</span></span>
<span class="line"><span>cd D:\programTool\frp\frp_0.59.0_windows_amd64</span></span>
<span class="line"><span>frpc -c frpc.ini</span></span>
<span class="line"><span>exit</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>frp客户端相对稳定，使用方式二就足够了，如不稳定也可以选择方式一</p>
</blockquote>
<h3>方式三</h3>
<p>frpc-start.bat</p>
<blockquote>
<p>可以一直尝试连接</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@echo off</span></span>
<span class="line"><span>if "%1" == "h" goto begin</span></span>
<span class="line"><span>mshta vbscript:createobject("wscript.shell").run("""%~nx0"" h",0)(window.close)&amp;&amp;exit</span></span>
<span class="line"><span>:begin</span></span>
<span class="line"><span>REM</span></span>
<span class="line"><span>:home</span></span>
<span class="line"><span>frpc -c frpc.toml</span></span>
<span class="line"><span>goto home</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这个frpc-start.bat脚本，放在D:\programTool\frp\frp_0.59.0_windows_amd64 目录下</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>frp-0.59-点对点和安全暴露服务</title>
      <link>https://blog.lxip.top/questionskills/softguide/frp-0.59-%E7%82%B9%E5%AF%B9%E7%82%B9%E5%92%8C%E5%AE%89%E5%85%A8%E6%9A%B4%E9%9C%B2%E6%9C%8D%E5%8A%A1.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/frp-0.59-%E7%82%B9%E5%AF%B9%E7%82%B9%E5%92%8C%E5%AE%89%E5%85%A8%E6%9A%B4%E9%9C%B2%E6%9C%8D%E5%8A%A1.html</guid>
      <source url="https://blog.lxip.top/rss.xml">frp-0.59-点对点和安全暴露服务</source>
      <description>背景 目前需要使用自建的内网穿透工具，就选择了frp，frp也分很多版本，我之前使用的是frp_0.51.2_windows_386版本，现在升级版本为frp_0.59.0_windows_amd64，主要使用这个frp功能有，点对点内网穿透（p2p）、安全地暴露内网服务 和 服务端作为代理进行穿透的三种方式。准备使用点对点或安全的暴露服务方式，之前使...</description>
      <category>frp</category>
      <pubDate>Sun, 04 Aug 2024 19:49:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>目前需要使用自建的内网穿透工具，就选择了frp，frp也分很多版本，我之前使用的是frp_0.51.2_windows_386版本，现在升级版本为frp_0.59.0_windows_amd64，主要使用这个frp功能有，点对点内网穿透（p2p）、安全地暴露内网服务 和 服务端作为代理进行穿透的三种方式。准备使用点对点或安全的暴露服务方式，之前使用的一直是服务器代理的方式进行内网穿透，这样直接将自己的机器暴露在公网上，非常不安全，有一次我检查服务器日志，发现很多请求我服务器暴露的这个端口，意识到可能被盯上了，就改换了其他端口。现在加强安全意识，就换用点对点或者安全的暴露方式，攻击者的扫描和入侵。建议不使用服务提供的默认端口，自行进行修改。</p>
<blockquote>
<p>目前使用的用途有：远程连接window电脑、web服务暴露在公网上。</p>
</blockquote>
<h2>一、准备工作</h2>
<blockquote>
<p>官方下载地址：<a href="https://github.com/fatedier/frp/releases/tag/v0.59.0" target="_blank" rel="noopener noreferrer">https://github.com/fatedier/frp/releases/tag/v0.59.0</a></p>
<p>这里我提供两个下载地址：</p>
</blockquote>
<p>123网盘：<a href="https://www.123pan.com/s/tB5A-psnYd.html?" target="_blank" rel="noopener noreferrer">https://www.123pan.com/s/tB5A-psnYd.html?</a> 提取码: <a href="TA7T">TA7T</a></p>
<blockquote>
<p>蓝奏网盘：<a href="https://nxg.lanzoul.com/b03ivhzl1i" target="_blank" rel="noopener noreferrer">https://nxg.lanzoul.com/b03ivhzl1i</a>   密码:7ijd</p>
</blockquote>
<p>frp_0.59.0_linux_amd64.tar.gz   ====》用于上传到linux服务器上</p>
<p>frp_0.59.0_windows_amd64.zip  ====》 用于在window本地启动的</p>
<blockquote>
<p>注意：下载linux版的会window系统会报毒，自行在设置中放行(排除)下载目录即可下载，并上传到服务器上。
在官网下载同样是会报毒的，可以自行验证。</p>
</blockquote>
<h2>二、配置服务端</h2>
<h3>2.1 上传frp和配置frp</h3>
<p>先上传frp_0.59.0_linux_amd64.tar.gz压缩包到自定义目录下，这里我以 /root/frp 目录为例：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.59.0_linux_amd64.tar.gz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>位置：/root/frp/frp_0.59.0_linux_amd64</p>
<p>frps.toml修改配置端口:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>bindPort = 7002</span></span>
<span class="line"><span>auth.token = "qwweqqwea123132aa"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>transport.maxPoolCount = 5</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 默认为 127.0.0.1，如果需要公网访问，需要修改为 0.0.0.0。</span></span>
<span class="line"><span>webServer.addr = "0.0.0.0"</span></span>
<span class="line"><span>webServer.port = 7003</span></span>
<span class="line"><span># dashboard 用户名密码，可选，默认为空</span></span>
<span class="line"><span>webServer.user = "admin"</span></span>
<span class="line"><span>webServer.password = "admin"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>log.to = "/root/frp/log/frps.log"</span></span>
<span class="line"><span>log.level = "info"</span></span>
<span class="line"><span>log.maxDays = 30</span></span>
<span class="line"><span>log.disablePrintColor = false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>至此服务配置就配置好了</p>
</blockquote>
<h3>2.2 安装&nbsp;<code>systemd</code></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemd</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.3 创建并编辑&nbsp;<code>frps.service</code>&nbsp;文件（使用vim编辑器）</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/frps-59.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.4 写入内容</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务名称，可自定义</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Description</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.59.0_linux_amd64</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">After</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network.target</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> syslog.target</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Wants</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Service]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> simple</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frps的命令，需修改为您的frps的安装路径</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ExecStart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =/root/frp/frp_0.59.0_linux_amd64/frps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /root/frp/frp_0.59.0_linux_amd64/frps.toml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Install]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">WantedBy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> multi-user.target</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：/root/frp/frp_0.59.0_linux_amd64/frps  对应的frps 文件，也就是你上传到服务器后，并解压后的一个文件。</p>
</blockquote>
<p>上面三步可以参考：<a href="https://gofrp.org/docs/setup/systemd/" target="_blank" rel="noopener noreferrer">https://gofrp.org/docs/setup/systemd/</a></p>
<p>然后刷新一下：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 如果上面的命令没有生效，就使用下面的命令试一试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reexec</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>2.5 启动和关闭命令</h3>
<blockquote>
<p>不是root管理员权限时，需要使用到sudo，如你是管理员权限，就可以不是sudo命令，直接 systemctl start frps-59</p>
</blockquote>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 停止frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 重启frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 查看frp状态</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置开机自启：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps-59</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>三、配置客户端</h2>
<h3>安全暴露服务</h3>
<p>1、被访问者机器（目标机器）</p>
<p>解压 frp_0.59.0_windows_amd64.zip 文件：</p>
<p>位置：D:\programTool\frp\frp_0.59.0_windows_amd64</p>
<p>frpc.toml 修改配置：</p>
<div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"服务器公网ip地址"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  安全暴露服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">proxies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_stcp_test"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"stcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 只有与此处设置的 secretKey 一致的用户才能访问此服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"7G5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">3389</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 点对点访问服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">proxies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"p2p_rdp_test"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xtcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 只有共享密钥 (secretKey) 与服务器端一致的用户才能访问该服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"AAAA5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localIP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">3389</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这是要<strong>被访问的机器</strong>，即 目标机器</p>
</blockquote>
<p>cmd启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\frpc.exe -c .\frpc.toml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2、访问者机器</p>
<p>解压 frp_0.59.0_windows_amd64.zip 文件：</p>
<blockquote>
<p>位置：D:\tool\technology\frp\frp_0.59.0_windows_amd64</p>
</blockquote>
<p>修改frpc.toml 配置：</p>
<div class="language-toml line-numbers-mode" data-highlighter="shiki" data-ext="toml" data-title="toml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"101.133.238.75"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 安全暴露服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">visitors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_tcp_visitor"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"stcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 要访问的 stcp 代理的名字</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"rdp_stcp_test"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 只有与此处设置的 secretKey 一致的用户才能访问此服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"7G5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7003</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 点对点访问服务</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">visitors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"p2p_rdp_visitor"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xtcp"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 要访问的 P2P 代理的名称</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">serverName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"p2p_rdp_test"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"AAAA5Y2QW9X312PYWQWE67"</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 绑定本地端口以访问 SSH 服务</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindAddr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"127.0.0.1"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bindPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7004</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 如果需要自动保持隧道打开，将其设置为 true</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">keepTunnelOpen</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> = </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">true</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这是<strong>访问者的机器</strong>，即，从这台机器去访问上一台配置好的机器。</p>
</blockquote>
<p>cmd启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\frpc.exe -c .\frpc.toml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>访问者机器 连接 被访问者</p>
<p>安全暴露服务：</p>
<p>使用window自带的远程连接工具：127.0.0.1:7003 输入电脑用户名和密码，即可访问目标机器</p>
<p>点对点访问服务:</p>
<p>使用window自带的远程连接工具：127.0.0.1:7004 输入电脑用户名和密码，即可访问目标机器</p>
]]></content:encoded>
    </item>
    <item>
      <title>5-Node安装及配置</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/5-Node%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/5-Node%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">5-Node安装及配置</source>
      <description>这里就直接写nvm安装node教程，不再写node的安装教程 一、准备工作 nvm安装和使用教程：https://blog.csdn.net/qq_22182989/article/details/125387145 nvm下载地址： https://github.com/coreybutler/nvm-windows/releases 安装步骤点下一...</description>
      <category>lamp-cloud</category>
      <pubDate>Fri, 05 Jul 2024 15:47:17 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>这里就直接写nvm安装node教程，不再写node的安装教程</p>
</blockquote>
<h2>一、准备工作</h2>
<blockquote>
<p>nvm安装和使用教程：<a href="https://blog.csdn.net/qq_22182989/article/details/125387145" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_22182989/article/details/125387145</a></p>
</blockquote>
<p>nvm下载地址：</p>
<p><a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noopener noreferrer">https://github.com/coreybutler/nvm-windows/releases</a></p>
<blockquote>
<p>安装步骤点下一步下一步即可</p>
</blockquote>
<p>1.1、检查是否安装成功：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvm -v</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1.2、配置nvm源</p>
<p>设置nvm源：</p>
<blockquote>
<p>位置：D:\software\nvm\settings.txt 新增以下配置</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>node_mirror: https://npmmirror.com/mirrors/node/</span></span>
<span class="line"><span>npm_mirror: https://npmmirror.com/mirrors/npm/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>1.3、安装node版本</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvm install 20.15.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1.4、切换Node版本</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvm use 20.15.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1.5、查看Node当前版本</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvm ls</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看当前Node使用版本：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>node -v</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1.6、配置淘宝镜像源</p>
<blockquote>
<p>在CMD命令行窗口中使用命令</p>
</blockquote>
<p>查看当前使用的镜像源地址</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm get registry</span></span>
<span class="line"><span>或</span></span>
<span class="line"><span>npm config get registry</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置源：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm config set registry=https://registry.npmmirror.com/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>附件</h2>
<h3>参考</h3>
<p>参考：<a href="https://blog.csdn.net/thefg/article/details/132410794" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/thefg/article/details/132410794</a></p>
<h3>更多命令</h3>
<p>查看nvm安装node版本命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nvm ls</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>node 扩展</h3>
<p>安装nrm：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm install -g nrm</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看node有哪些源：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nrm ls</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>C:\Users\catbun&gt;nrm ls
npm</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>4-seata-2.0.0-安装及配置</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/4-seata-2.0.0-%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/4-seata-2.0.0-%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">4-seata-2.0.0-安装及配置</source>
      <description>一、准备工作 下载地址：https://seata.apache.org/zh-cn/unversioned/download/seata-server/ Sentinel Version：1.8.6及以上 二、修改配置及启动 seata安装教程：https://blog.csdn.net/jokeMqc/article/details/1363232...</description>
      <category>lamp-cloud</category>
      <pubDate>Fri, 05 Jul 2024 10:47:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、准备工作</h2>
<p>下载地址：<a href="https://seata.apache.org/zh-cn/unversioned/download/seata-server/" target="_blank" rel="noopener noreferrer">https://seata.apache.org/zh-cn/unversioned/download/seata-server/</a></p>
<blockquote>
<p>Sentinel Version：1.8.6及以上</p>
</blockquote>
<h2>二、修改配置及启动</h2>
<blockquote>
<p>seata安装教程：<a href="https://blog.csdn.net/jokeMqc/article/details/136323218" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/jokeMqc/article/details/136323218</a></p>
</blockquote>
<h3>2.1、安装</h3>
<blockquote>
<p>解压到指定位置</p>
</blockquote>
<h3>2.2、创建库</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>CREATE DATABASE `lamp_seata` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.3、导入sql脚本</h3>
<p>导入sql脚本到lamp_seata</p>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\script\server\db\mysql.sql</p>
</blockquote>
<h3>2.4、修改配置application.yml</h3>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\conf\application.yml</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>seata:</span></span>
<span class="line"><span>  config:</span></span>
<span class="line"><span>    # support: nacos, consul, apollo, zk, etcd3</span></span>
<span class="line"><span>    type: nacos</span></span>
<span class="line"><span>    nacos:      </span></span>
<span class="line"><span>      server-addr: 127.0.0.1:8848</span></span>
<span class="line"><span>      namespace: 5b51e46a-4aeb-4d40-8398-8a9d33e2f0ad</span></span>
<span class="line"><span>      group: SEATA_GROUP</span></span>
<span class="line"><span>      username: nacos</span></span>
<span class="line"><span>      password: nacos</span></span>
<span class="line"><span>      data-id: seataServer.properties</span></span>
<span class="line"><span>      context-path:</span></span>
<span class="line"><span>      ##if use MSE Nacos with auth, mutex with username/password attribute</span></span>
<span class="line"><span>      #access-key:</span></span>
<span class="line"><span>      #secret-key:</span></span>
<span class="line"><span>  registry:</span></span>
<span class="line"><span>    # support: nacos, eureka, redis, zk, consul, etcd3, sofa</span></span>
<span class="line"><span>    type: nacos</span></span>
<span class="line"><span>    nacos:</span></span>
<span class="line"><span>      application: seata-server</span></span>
<span class="line"><span>      server-addr: 127.0.0.1:8848</span></span>
<span class="line"><span>      group: SEATA_GROUP</span></span>
<span class="line"><span>      namespace: 5b51e46a-4aeb-4d40-8398-8a9d33e2f0ad</span></span>
<span class="line"><span>      cluster: default</span></span>
<span class="line"><span>      username: nacos</span></span>
<span class="line"><span>      password: nacos</span></span>
<span class="line"><span>      context-path:</span></span>
<span class="line"><span>      ##if use MSE Nacos with auth, mutex with username/password attribute</span></span>
<span class="line"><span>      #access-key:</span></span>
<span class="line"><span>      #secret-key:</span></span>
<span class="line"><span>  store:</span></span>
<span class="line"><span>    # support: file 、 db 、 redis</span></span>
<span class="line"><span>    mode: db</span></span>
<span class="line"><span>    db:</span></span>
<span class="line"><span>      datasource: druid</span></span>
<span class="line"><span>      db-type: mysql</span></span>
<span class="line"><span>      driver-class-name: com.mysql.jdbc.Driver</span></span>
<span class="line"><span>      url: jdbc:mysql://127.0.0.1:3306/lamp_seata?useUnicode=true&amp;rewriteBatchedStatements=true&amp;serverTimezone=GMT</span></span>
<span class="line"><span>      user: root</span></span>
<span class="line"><span>      password: root</span></span>
<span class="line"><span>      min-conn: 10</span></span>
<span class="line"><span>      max-conn: 100</span></span>
<span class="line"><span>      global-table: global_table</span></span>
<span class="line"><span>      branch-table: branch_table</span></span>
<span class="line"><span>      lock-table: lock_table</span></span>
<span class="line"><span>      distributed-lock-table: distributed_lock</span></span>
<span class="line"><span>      query-limit: 1000</span></span>
<span class="line"><span>      max-wait: 5000  </span></span>
<span class="line"><span>#  server:</span></span>
<span class="line"><span>#    service-port: 8091 #If not configured, the default is '${server.port} + 1000'</span></span>
<span class="line"><span>  security:</span></span>
<span class="line"><span>    secretKey: SeataSecretKey0c382ef121d778043159209298fd40bf3850a017</span></span>
<span class="line"><span>    tokenValidityInMilliseconds: 1800000</span></span>
<span class="line"><span>    ignore:</span></span>
<span class="line"><span>      urls: /,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.jpeg,/**/*.ico,/api/v1/auth/login</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>在application.yml配置中增加mysql数据源，对应的数据库、用户名、密码自行修改</p>
</blockquote>
<h3>2.5、修改配置config.txt</h3>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\script\config-center\config.txt</p>
</blockquote>
<blockquote>
<p>不适用的配置都注释掉</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#Transaction storage configuration, only for the server. The file, db, and redis configuration values are optional.</span></span>
<span class="line"><span>store.mode=file</span></span>
<span class="line"><span>store.lock.mode=file</span></span>
<span class="line"><span>store.session.mode=file</span></span>
<span class="line"><span>#Used for password encryption</span></span>
<span class="line"><span>#store.publicKey=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#If `store.mode,store.lock.mode,store.session.mode` are not equal to `file`, you can remove the configuration block.</span></span>
<span class="line"><span>#store.file.dir=file_store/data</span></span>
<span class="line"><span>#store.file.maxBranchSessionSize=16384</span></span>
<span class="line"><span>#store.file.maxGlobalSessionSize=512</span></span>
<span class="line"><span>#store.file.fileWriteBufferCacheSize=16384</span></span>
<span class="line"><span>#store.file.flushDiskMode=async</span></span>
<span class="line"><span>#store.file.sessionReloadReadSize=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `db`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `db`, you can remove the configuration block.</span></span>
<span class="line"><span>store.db.datasource=druid</span></span>
<span class="line"><span>store.db.dbType=mysql</span></span>
<span class="line"><span>store.db.driverClassName=com.mysql.jdbc.Driver</span></span>
<span class="line"><span>store.db.url=jdbc:mysql://127.0.0.1:3306/lamp_seata?useUnicode=true&amp;rewriteBatchedStatements=true</span></span>
<span class="line"><span>store.db.user=root</span></span>
<span class="line"><span>store.db.password=root</span></span>
<span class="line"><span>store.db.minConn=5</span></span>
<span class="line"><span>store.db.maxConn=30</span></span>
<span class="line"><span>store.db.globalTable=global_table</span></span>
<span class="line"><span>store.db.branchTable=branch_table</span></span>
<span class="line"><span>store.db.distributedLockTable=distributed_lock</span></span>
<span class="line"><span>store.db.queryLimit=100</span></span>
<span class="line"><span>store.db.lockTable=lock_table</span></span>
<span class="line"><span>store.db.maxWait=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `redis`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `redis`, you can remove the configuration block.</span></span>
<span class="line"><span>#store.redis.mode=single</span></span>
<span class="line"><span>#store.redis.type=pipeline</span></span>
<span class="line"><span>#store.redis.single.host=127.0.0.1</span></span>
<span class="line"><span>#store.redis.single.port=6379</span></span>
<span class="line"><span>#store.redis.sentinel.masterName=</span></span>
<span class="line"><span>#store.redis.sentinel.sentinelHosts=</span></span>
<span class="line"><span>#store.redis.sentinel.sentinelPassword=</span></span>
<span class="line"><span>#store.redis.maxConn=10</span></span>
<span class="line"><span>#store.redis.minConn=1</span></span>
<span class="line"><span>#store.redis.maxTotal=100</span></span>
<span class="line"><span>#store.redis.database=0</span></span>
<span class="line"><span>#store.redis.password=</span></span>
<span class="line"><span>#store.redis.queryLimit=100</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption>image-20240704144834193</figcaption></figure>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\bin</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\seata-server.bat</span></span>
<span class="line"><span>或者</span></span>
<span class="line"><span>.\seata-server.bat -p 8091 -h 192.168.1.79 -m db -n 1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>附件</h2>
<p>参考：<a href="https://www.cnblogs.com/vic-tory/p/17827908.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/vic-tory/p/17827908.html</a></p>
<h3>详细配置application.yml</h3>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\conf\application.yml</p>
</blockquote>
<div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  Copyright 1999-2019 Seata.io Group.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  Licensed under the Apache License, Version 2.0 (the "License");</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  you may not use this file except in compliance with the License.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  You may obtain a copy of the License at</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  distributed under the License is distributed on an "AS IS" BASIS,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  See the License for the specific language governing permissions and</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  limitations under the License.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">7091</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">spring</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  application</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">seata-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">logging</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">classpath:logback-spring.xml</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">${log.home:${user.home}/logs/seata}</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  extend</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    logstash-appender</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      destination</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">127.0.0.1:4560</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    kafka-appender</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      bootstrap-servers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">127.0.0.1:9092</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      topic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">logback_to_logstash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">seata</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">seata</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">seata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    # support: nacos, consul, apollo, zk, etcd3</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    nacos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:      </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      server-addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">127.0.0.1:8848</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      namespace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">5b51e46a-4aeb-4d40-8398-8a9d33e2f0ad</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">SEATA_GROUP</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      data-id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">seataServer.properties</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      ##if use MSE Nacos with auth, mutex with username/password attribute</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      #access-key:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      #secret-key:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    # support: nacos, eureka, redis, zk, consul, etcd3, sofa</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    nacos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      application</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">seata-server</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      server-addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">127.0.0.1:8848</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">SEATA_GROUP</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      namespace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">5b51e46a-4aeb-4d40-8398-8a9d33e2f0ad</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      cluster</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">default</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nacos</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      ##if use MSE Nacos with auth, mutex with username/password attribute</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      #access-key:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      #secret-key:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  store</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    # support: file 、 db 、 redis</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">db</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    db</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      datasource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">druid</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      db-type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">mysql</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">com.mysql.jdbc.Driver</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">jdbc:mysql://127.0.0.1:3306/lamp_seata?useUnicode=true&amp;rewriteBatchedStatements=true&amp;serverTimezone=GMT</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">root</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      min-conn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">10</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      max-conn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">100</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      global-table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">global_table</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      branch-table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">branch_table</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      lock-table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">lock_table</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      distributed-lock-table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">distributed_lock</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      query-limit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      max-wait</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">5000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  server:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#    service-port: 8091 #If not configured, the default is '${server.port} + 1000'</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  security</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    secretKey</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">SeataSecretKey0c382ef121d778043159209298fd40bf3850a017</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    tokenValidityInMilliseconds</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1800000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    ignore</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      urls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.jpeg,/**/*.ico,/api/v1/auth/login</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>详细脚本配置config.txt</h3>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\script\config-center\config.txt</p>
</blockquote>
<div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" data-title="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#For details about configuration items, see https://seata.io/zh-cn/docs/user/configurations.html</span></span>
<span class="line"><span>#Transport configuration, for client and server</span></span>
<span class="line"><span>transport.type=TCP</span></span>
<span class="line"><span>transport.server=NIO</span></span>
<span class="line"><span>transport.heartbeat=true</span></span>
<span class="line"><span>transport.enableTmClientBatchSendRequest=false</span></span>
<span class="line"><span>transport.enableRmClientBatchSendRequest=true</span></span>
<span class="line"><span>transport.enableTcServerBatchSendResponse=false</span></span>
<span class="line"><span>transport.rpcRmRequestTimeout=30000</span></span>
<span class="line"><span>transport.rpcTmRequestTimeout=30000</span></span>
<span class="line"><span>transport.rpcTcRequestTimeout=30000</span></span>
<span class="line"><span>transport.threadFactory.bossThreadPrefix=NettyBoss</span></span>
<span class="line"><span>transport.threadFactory.workerThreadPrefix=NettyServerNIOWorker</span></span>
<span class="line"><span>transport.threadFactory.serverExecutorThreadPrefix=NettyServerBizHandler</span></span>
<span class="line"><span>transport.threadFactory.shareBossWorker=false</span></span>
<span class="line"><span>transport.threadFactory.clientSelectorThreadPrefix=NettyClientSelector</span></span>
<span class="line"><span>transport.threadFactory.clientSelectorThreadSize=1</span></span>
<span class="line"><span>transport.threadFactory.clientWorkerThreadPrefix=NettyClientWorkerThread</span></span>
<span class="line"><span>transport.threadFactory.bossThreadSize=1</span></span>
<span class="line"><span>transport.threadFactory.workerThreadSize=default</span></span>
<span class="line"><span>transport.shutdown.wait=3</span></span>
<span class="line"><span>transport.serialization=seata</span></span>
<span class="line"><span>transport.compressor=none</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction routing rules configuration, only for the client</span></span>
<span class="line"><span>service.vgroupMapping.default_tx_group=default</span></span>
<span class="line"><span>#If you use a registry, you can ignore it</span></span>
<span class="line"><span>service.default.grouplist=127.0.0.1:8091</span></span>
<span class="line"><span>service.enableDegrade=false</span></span>
<span class="line"><span>service.disableGlobalTransaction=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>client.metadataMaxAgeMs=30000</span></span>
<span class="line"><span>#Transaction rule configuration, only for the client</span></span>
<span class="line"><span>client.rm.asyncCommitBufferLimit=10000</span></span>
<span class="line"><span>client.rm.lock.retryInterval=10</span></span>
<span class="line"><span>client.rm.lock.retryTimes=30</span></span>
<span class="line"><span>client.rm.lock.retryPolicyBranchRollbackOnConflict=true</span></span>
<span class="line"><span>client.rm.reportRetryCount=5</span></span>
<span class="line"><span>client.rm.tableMetaCheckEnable=true</span></span>
<span class="line"><span>client.rm.tableMetaCheckerInterval=60000</span></span>
<span class="line"><span>client.rm.sqlParserType=druid</span></span>
<span class="line"><span>client.rm.reportSuccessEnable=false</span></span>
<span class="line"><span>client.rm.sagaBranchRegisterEnable=false</span></span>
<span class="line"><span>client.rm.sagaJsonParser=fastjson</span></span>
<span class="line"><span>client.rm.tccActionInterceptorOrder=-2147482648</span></span>
<span class="line"><span>client.rm.sqlParserType=druid</span></span>
<span class="line"><span>client.tm.commitRetryCount=5</span></span>
<span class="line"><span>client.tm.rollbackRetryCount=5</span></span>
<span class="line"><span>client.tm.defaultGlobalTransactionTimeout=60000</span></span>
<span class="line"><span>client.tm.degradeCheck=false</span></span>
<span class="line"><span>client.tm.degradeCheckAllowTimes=10</span></span>
<span class="line"><span>client.tm.degradeCheckPeriod=2000</span></span>
<span class="line"><span>client.tm.interceptorOrder=-2147482648</span></span>
<span class="line"><span>client.undo.dataValidation=true</span></span>
<span class="line"><span>client.undo.logSerialization=protostuff</span></span>
<span class="line"><span>client.undo.onlyCareUpdateColumns=true</span></span>
<span class="line"><span>server.undo.logSaveDays=7</span></span>
<span class="line"><span>server.undo.logDeletePeriod=86400000</span></span>
<span class="line"><span>client.undo.logTable=undo_log</span></span>
<span class="line"><span>client.undo.compress.enable=true</span></span>
<span class="line"><span>client.undo.compress.type=zip</span></span>
<span class="line"><span>client.undo.compress.threshold=64k</span></span>
<span class="line"><span>#For TCC transaction mode</span></span>
<span class="line"><span>tcc.fence.logTableName=tcc_fence_log</span></span>
<span class="line"><span>tcc.fence.cleanPeriod=1h</span></span>
<span class="line"><span># You can choose from the following options: fastjson, jackson, gson</span></span>
<span class="line"><span>tcc.contextJsonParserType=fastjson</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Log rule configuration, for client and server</span></span>
<span class="line"><span>log.exceptionRate=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction storage configuration, only for the server. The file, db, and redis configuration values are optional.</span></span>
<span class="line"><span>store.mode=file</span></span>
<span class="line"><span>store.lock.mode=file</span></span>
<span class="line"><span>store.session.mode=file</span></span>
<span class="line"><span>#Used for password encryption</span></span>
<span class="line"><span>#store.publicKey=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#If `store.mode,store.lock.mode,store.session.mode` are not equal to `file`, you can remove the configuration block.</span></span>
<span class="line"><span>#store.file.dir=file_store/data</span></span>
<span class="line"><span>#store.file.maxBranchSessionSize=16384</span></span>
<span class="line"><span>#store.file.maxGlobalSessionSize=512</span></span>
<span class="line"><span>#store.file.fileWriteBufferCacheSize=16384</span></span>
<span class="line"><span>#store.file.flushDiskMode=async</span></span>
<span class="line"><span>#store.file.sessionReloadReadSize=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `db`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `db`, you can remove the configuration block.</span></span>
<span class="line"><span>store.db.datasource=druid</span></span>
<span class="line"><span>store.db.dbType=mysql</span></span>
<span class="line"><span>store.db.driverClassName=com.mysql.jdbc.Driver</span></span>
<span class="line"><span>store.db.url=jdbc:mysql://127.0.0.1:3306/lamp_seata?useUnicode=true&amp;rewriteBatchedStatements=true</span></span>
<span class="line"><span>store.db.user=root</span></span>
<span class="line"><span>store.db.password=root</span></span>
<span class="line"><span>store.db.minConn=5</span></span>
<span class="line"><span>store.db.maxConn=30</span></span>
<span class="line"><span>store.db.globalTable=global_table</span></span>
<span class="line"><span>store.db.branchTable=branch_table</span></span>
<span class="line"><span>store.db.distributedLockTable=distributed_lock</span></span>
<span class="line"><span>store.db.queryLimit=100</span></span>
<span class="line"><span>store.db.lockTable=lock_table</span></span>
<span class="line"><span>store.db.maxWait=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `redis`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `redis`, you can remove the configuration block.</span></span>
<span class="line"><span>#store.redis.mode=single</span></span>
<span class="line"><span>#store.redis.type=pipeline</span></span>
<span class="line"><span>#store.redis.single.host=127.0.0.1</span></span>
<span class="line"><span>#store.redis.single.port=6379</span></span>
<span class="line"><span>#store.redis.sentinel.masterName=</span></span>
<span class="line"><span>#store.redis.sentinel.sentinelHosts=</span></span>
<span class="line"><span>#store.redis.sentinel.sentinelPassword=</span></span>
<span class="line"><span>#store.redis.maxConn=10</span></span>
<span class="line"><span>#store.redis.minConn=1</span></span>
<span class="line"><span>#store.redis.maxTotal=100</span></span>
<span class="line"><span>#store.redis.database=0</span></span>
<span class="line"><span>#store.redis.password=</span></span>
<span class="line"><span>#store.redis.queryLimit=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction rule configuration, only for the server</span></span>
<span class="line"><span>server.recovery.committingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.asynCommittingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.rollbackingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.timeoutRetryPeriod=1000</span></span>
<span class="line"><span>server.maxCommitRetryTimeout=-1</span></span>
<span class="line"><span>server.maxRollbackRetryTimeout=-1</span></span>
<span class="line"><span>server.rollbackRetryTimeoutUnlockEnable=false</span></span>
<span class="line"><span>server.distributedLockExpireTime=10000</span></span>
<span class="line"><span>server.session.branchAsyncQueueSize=5000</span></span>
<span class="line"><span>server.session.enableBranchAsyncRemove=false</span></span>
<span class="line"><span>server.enableParallelRequestHandle=true</span></span>
<span class="line"><span>server.enableParallelHandleBranch=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>server.raft.cluster=127.0.0.1:7091,127.0.0.1:7092,127.0.0.1:7093</span></span>
<span class="line"><span>server.raft.snapshotInterval=600</span></span>
<span class="line"><span>server.raft.applyBatch=32</span></span>
<span class="line"><span>server.raft.maxAppendBufferSize=262144</span></span>
<span class="line"><span>server.raft.maxReplicatorInflightMsgs=256</span></span>
<span class="line"><span>server.raft.disruptorBufferSize=16384</span></span>
<span class="line"><span>server.raft.electionTimeoutMs=2000</span></span>
<span class="line"><span>server.raft.reporterEnabled=false</span></span>
<span class="line"><span>server.raft.reporterInitialDelay=60</span></span>
<span class="line"><span>server.raft.serialization=jackson</span></span>
<span class="line"><span>server.raft.compressor=none</span></span>
<span class="line"><span>server.raft.sync=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Metrics configuration, only for the server</span></span>
<span class="line"><span>metrics.enabled=false</span></span>
<span class="line"><span>metrics.registryType=compact</span></span>
<span class="line"><span>metrics.exporterList=prometheus</span></span>
<span class="line"><span>metrics.exporterPrometheusPort=9898</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>sql脚本</h3>
<blockquote>
<p>脚本位置：D:\software\seata\seata-server-2.0.0\script\server\db\mysql.sql</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>--</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>3-nacos-server-2.3.2-安装及配置</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/3-nacos-server-2.3.2-%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/3-nacos-server-2.3.2-%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">3-nacos-server-2.3.2-安装及配置</source>
      <description>一、准备工作 下载地址：https://github.com/alibaba/nacos/releases nacos官网：https://nacos.io/download/release-history/ 安装及配置 1、修改application.properties配置： D:\software\nacos\nacos-server-2.3.1...</description>
      <category>lamp-cloud</category>
      <pubDate>Thu, 04 Jul 2024 15:37:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、准备工作</h2>
<p>下载地址：<a href="https://github.com/alibaba/nacos/releases" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos/releases</a></p>
<p>nacos官网：<a href="https://nacos.io/download/release-history/" target="_blank" rel="noopener noreferrer">https://nacos.io/download/release-history/</a></p>
<h2>安装及配置</h2>
<h3>1、修改application.properties配置：</h3>
<blockquote>
<p>D:\software\nacos\nacos-server-2.3.1\conf\application.properties</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 放开mysql平台</span></span>
<span class="line"><span>spring.datasource.platform=mysql</span></span>
<span class="line"><span># spring.sql.init.platform=mysql</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Count of DB:</span></span>
<span class="line"><span># db数量</span></span>
<span class="line"><span>db.num=1</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 修改mysql数据源，库、用户名、密码</span></span>
<span class="line"><span>db.url.0=jdbc:mysql://127.0.0.1:3306/lamp_nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC</span></span>
<span class="line"><span>db.user=root</span></span>
<span class="line"><span>db.password=root</span></span>
<span class="line"><span></span></span>
<span class="line"><span>nacos.core.auth.enabled=true</span></span>
<span class="line"><span>nacos.core.auth.server.identity.key=nacos</span></span>
<span class="line"><span>nacos.core.auth.server.identity.value=nacos</span></span>
<span class="line"><span></span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.cache.enable=false</span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.expire.seconds=18000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.secret.key=SecretKey012345678901234567890123456789012345678901234567890123456789</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>1、在配置 application.properties中修改对应数据库名、用户名、密码</p>
<p>2、设置了Nacos访问密码</p>
</blockquote>
<h3>2、sql导入</h3>
<p>创建数据库：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>CREATE DATABASE IF NOT EXISTS `lamp_nacos` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>D:\software\nacos\nacos-server-2.3.1\conf\mysql-schema.sql</p>
</blockquote>
<p>导入mysql-schema.sql脚本数据到 lamp_nacos库</p>
<h3>3、启动Nacos</h3>
<blockquote>
<p>在D:\software\nacos\nacos\bin执行cmd命令，并执行以下命令</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\startup.cmd -m standalone</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>访问地址：<a href="http://localhost:8848/nacos/index.html" target="_blank" rel="noopener noreferrer">http://localhost:8848/nacos/index.html</a></p>
<blockquote>
<p>用户名：nacos</p>
<p>密码：nacos</p>
</blockquote>
<h2>附件</h2>
<h3>参考</h3>
<p>阅读官方文档： <a href="https://nacos.io/zh-cn/docs/quick-start.html" target="_blank" rel="noopener noreferrer">https://nacos.io/zh-cn/docs/quick-start.html</a></p>
<p>nacos设置密码：<a href="https://blog.csdn.net/taotao_guiwang/article/details/135359247" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/taotao_guiwang/article/details/135359247</a></p>
<h3>具体配置</h3>
<blockquote>
<p>详细配置已修改：</p>
<p>D:\software\nacos\nacos-server-2.3.1\conf\application.properties</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#</span></span>
<span class="line"><span># Copyright 1999-2021 Alibaba Group Holding Ltd.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Licensed under the Apache License, Version 2.0 (the "License");</span></span>
<span class="line"><span># you may not use this file except in compliance with the License.</span></span>
<span class="line"><span># You may obtain a copy of the License at</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#      http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><span># distributed under the License is distributed on an "AS IS" BASIS,</span></span>
<span class="line"><span># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><span># See the License for the specific language governing permissions and</span></span>
<span class="line"><span># limitations under the License.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Spring Boot Related Configurations ***************#</span></span>
<span class="line"><span>### Default web context path:</span></span>
<span class="line"><span>server.servlet.contextPath=/nacos</span></span>
<span class="line"><span>### Include message field</span></span>
<span class="line"><span>server.error.include-message=ALWAYS</span></span>
<span class="line"><span>### Default web server port:</span></span>
<span class="line"><span>server.port=8848</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Network Related Configurations ***************#</span></span>
<span class="line"><span>### If prefer hostname over ip for Nacos server addresses in cluster.conf:</span></span>
<span class="line"><span># nacos.inetutils.prefer-hostname-over-ip=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Specify local server's IP:</span></span>
<span class="line"><span># nacos.inetutils.ip-address=</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Config Module Related Configurations ***************#</span></span>
<span class="line"><span>### If use MySQL as datasource:</span></span>
<span class="line"><span>### Deprecated configuration property, it is recommended to use `spring.sql.init.platform` replaced.</span></span>
<span class="line"><span>spring.datasource.platform=mysql</span></span>
<span class="line"><span># spring.sql.init.platform=mysql</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Count of DB:</span></span>
<span class="line"><span>db.num=1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Connect URL of DB:</span></span>
<span class="line"><span>db.url.0=jdbc:mysql://127.0.0.1:3306/lamp_nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC</span></span>
<span class="line"><span>db.user=root</span></span>
<span class="line"><span>db.password=root</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Connection pool configuration: hikariCP</span></span>
<span class="line"><span>db.pool.config.connectionTimeout=30000</span></span>
<span class="line"><span>db.pool.config.validationTimeout=10000</span></span>
<span class="line"><span>db.pool.config.maximumPoolSize=20</span></span>
<span class="line"><span>db.pool.config.minimumIdle=2</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### the maximum retry times for push</span></span>
<span class="line"><span>nacos.config.push.maxRetryTime=50</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Naming Module Related Configurations ***************#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### If enable data warmup. If set to false, the server would accept request without local data preparation:</span></span>
<span class="line"><span># nacos.naming.data.warmup=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### If enable the instance auto expiration, kind like of health check of instance:</span></span>
<span class="line"><span># nacos.naming.expireInstance=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Add in 2.0.0</span></span>
<span class="line"><span>### The interval to clean empty service, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.clean.empty-service.interval=60000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The expired time to clean empty service, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.clean.empty-service.expired-time=60000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The interval to clean expired metadata, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.clean.expired-metadata.interval=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The expired time to clean metadata, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.clean.expired-metadata.expired-time=60000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The delay time before push task to execute from service changed, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.push.pushTaskDelay=500</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The timeout for push task execute, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.push.pushTaskTimeout=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The delay time for retrying failed push task, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.push.pushTaskRetryDelay=1000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Since 2.0.3</span></span>
<span class="line"><span>### The expired time for inactive client, unit: milliseconds.</span></span>
<span class="line"><span># nacos.naming.client.expired.time=180000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** CMDB Module Related Configurations ***************#</span></span>
<span class="line"><span>### The interval to dump external CMDB in seconds:</span></span>
<span class="line"><span># nacos.cmdb.dumpTaskInterval=3600</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The interval of polling data change event in seconds:</span></span>
<span class="line"><span># nacos.cmdb.eventTaskInterval=10</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The interval of loading labels in seconds:</span></span>
<span class="line"><span># nacos.cmdb.labelTaskInterval=300</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### If turn on data loading task:</span></span>
<span class="line"><span># nacos.cmdb.loadDataAtStart=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#***********Metrics for tomcat **************************#</span></span>
<span class="line"><span>server.tomcat.mbeanregistry.enabled=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#***********Expose prometheus and health **************************#</span></span>
<span class="line"><span>#management.endpoints.web.exposure.include=prometheus,health</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Metrics for elastic search</span></span>
<span class="line"><span>management.metrics.export.elastic.enabled=false</span></span>
<span class="line"><span>#management.metrics.export.elastic.host=http://localhost:9200</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Metrics for influx</span></span>
<span class="line"><span>management.metrics.export.influx.enabled=false</span></span>
<span class="line"><span>#management.metrics.export.influx.db=springboot</span></span>
<span class="line"><span>#management.metrics.export.influx.uri=http://localhost:8086</span></span>
<span class="line"><span>#management.metrics.export.influx.auto-create-db=true</span></span>
<span class="line"><span>#management.metrics.export.influx.consistency=one</span></span>
<span class="line"><span>#management.metrics.export.influx.compressed=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Access Log Related Configurations ***************#</span></span>
<span class="line"><span>### If turn on the access log:</span></span>
<span class="line"><span>server.tomcat.accesslog.enabled=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### file name pattern, one file per hour</span></span>
<span class="line"><span>server.tomcat.accesslog.rotate=true</span></span>
<span class="line"><span>server.tomcat.accesslog.file-date-format=.yyyy-MM-dd-HH</span></span>
<span class="line"><span>### The access log pattern:</span></span>
<span class="line"><span>server.tomcat.accesslog.pattern=%h %l %u %t "%r" %s %b %D %{User-Agent}i %{Request-Source}i</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The directory of access log:</span></span>
<span class="line"><span>server.tomcat.basedir=file:.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Access Control Related Configurations ***************#</span></span>
<span class="line"><span>### If enable spring security, this option is deprecated in 1.2.0:</span></span>
<span class="line"><span>#spring.security.enabled=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The ignore urls of auth</span></span>
<span class="line"><span>nacos.security.ignore.urls=/,/error,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-ui/public/**,/v1/auth/**,/v1/console/health/**,/actuator/**,/v1/console/server/**</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### The auth system to use, currently only 'nacos' and 'ldap' is supported:</span></span>
<span class="line"><span>nacos.core.auth.system.type=nacos</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### If turn on auth system:</span></span>
<span class="line"><span>nacos.core.auth.enabled=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Turn on/off caching of auth information. By turning on this switch, the update of auth information would have a 15 seconds delay.</span></span>
<span class="line"><span>nacos.core.auth.caching.enabled=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Since 1.4.1, Turn on/off white auth for user-agent: nacos-server, only for upgrade from old version.</span></span>
<span class="line"><span>nacos.core.auth.enable.userAgentAuthWhite=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Since 1.4.1, worked when nacos.core.auth.enabled=true and nacos.core.auth.enable.userAgentAuthWhite=false.</span></span>
<span class="line"><span>### The two properties is the white list for auth and used by identity the request from other server. </span></span>
<span class="line"><span>nacos.core.auth.server.identity.key=nacos</span></span>
<span class="line"><span>nacos.core.auth.server.identity.value=nacos</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### worked when nacos.core.auth.system.type=nacos</span></span>
<span class="line"><span>### The token expiration in seconds:</span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.cache.enable=false</span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.expire.seconds=18000</span></span>
<span class="line"><span>### The default token (Base64 String):</span></span>
<span class="line"><span>nacos.core.auth.plugin.nacos.token.secret.key=SecretKey012345678901234567890123456789012345678901234567890123456789</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### worked when nacos.core.auth.system.type=ldap，{0} is Placeholder,replace login username</span></span>
<span class="line"><span>#nacos.core.auth.ldap.url=ldap://localhost:389</span></span>
<span class="line"><span>#nacos.core.auth.ldap.basedc=dc=example,dc=org</span></span>
<span class="line"><span>#nacos.core.auth.ldap.userDn=cn=admin,${nacos.core.auth.ldap.basedc}</span></span>
<span class="line"><span>#nacos.core.auth.ldap.password=admin</span></span>
<span class="line"><span>#nacos.core.auth.ldap.userdn=cn={0},dc=example,dc=org</span></span>
<span class="line"><span>#nacos.core.auth.ldap.filter.prefix=uid</span></span>
<span class="line"><span>#nacos.core.auth.ldap.case.sensitive=true</span></span>
<span class="line"><span>#nacos.core.auth.ldap.ignore.partial.result.exception=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Control Plugin Related Configurations ***************#</span></span>
<span class="line"><span># plugin type</span></span>
<span class="line"><span>#nacos.plugin.control.manager.type=nacos</span></span>
<span class="line"><span></span></span>
<span class="line"><span># local control rule storage dir, default ${nacos.home}/data/connection and ${nacos.home}/data/tps</span></span>
<span class="line"><span>#nacos.plugin.control.rule.local.basedir=${nacos.home}</span></span>
<span class="line"><span></span></span>
<span class="line"><span># external control rule storage type, if exist</span></span>
<span class="line"><span>#nacos.plugin.control.rule.external.storage=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Config Change Plugin Related Configurations ***************#</span></span>
<span class="line"><span># webhook</span></span>
<span class="line"><span>#nacos.core.config.plugin.webhook.enabled=false</span></span>
<span class="line"><span># It is recommended to use EB https://help.aliyun.com/document_detail/413974.html</span></span>
<span class="line"><span>#nacos.core.config.plugin.webhook.url=http://localhost:8080/webhook/send?token=***</span></span>
<span class="line"><span># The content push max capacity ,byte</span></span>
<span class="line"><span>#nacos.core.config.plugin.webhook.contentMaxCapacity=102400</span></span>
<span class="line"><span></span></span>
<span class="line"><span># whitelist</span></span>
<span class="line"><span>#nacos.core.config.plugin.whitelist.enabled=false</span></span>
<span class="line"><span># The import file suffixs</span></span>
<span class="line"><span>#nacos.core.config.plugin.whitelist.suffixs=xml,text,properties,yaml,html</span></span>
<span class="line"><span># fileformatcheck,which validate the import file of type and content</span></span>
<span class="line"><span>#nacos.core.config.plugin.fileformatcheck.enabled=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Istio Related Configurations ***************#</span></span>
<span class="line"><span>### If turn on the MCP server:</span></span>
<span class="line"><span>nacos.istio.mcp.server.enabled=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Core Related Configurations ***************#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### set the WorkerID manually</span></span>
<span class="line"><span># nacos.core.snowflake.worker-id=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Member-MetaData</span></span>
<span class="line"><span># nacos.core.member.meta.site=</span></span>
<span class="line"><span># nacos.core.member.meta.adweight=</span></span>
<span class="line"><span># nacos.core.member.meta.weight=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### MemberLookup</span></span>
<span class="line"><span>### Addressing pattern category, If set, the priority is highest</span></span>
<span class="line"><span># nacos.core.member.lookup.type=[file,address-server]</span></span>
<span class="line"><span>## Set the cluster list with a configuration file or command-line argument</span></span>
<span class="line"><span># nacos.member.list=192.168.16.101:8847?raft_port=8807,192.168.16.101?raft_port=8808,192.168.16.101:8849?raft_port=8809</span></span>
<span class="line"><span>## for AddressServerMemberLookup</span></span>
<span class="line"><span># Maximum number of retries to query the address server upon initialization</span></span>
<span class="line"><span># nacos.core.address-server.retry=5</span></span>
<span class="line"><span>## Server domain name address of [address-server] mode</span></span>
<span class="line"><span># address.server.domain=jmenv.tbsite.net</span></span>
<span class="line"><span>## Server port of [address-server] mode</span></span>
<span class="line"><span># address.server.port=8080</span></span>
<span class="line"><span>## Request address of [address-server] mode</span></span>
<span class="line"><span># address.server.url=/nacos/serverlist</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** JRaft Related Configurations ***************#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Sets the Raft cluster election timeout, default value is 5 second</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.election_timeout_ms=5000</span></span>
<span class="line"><span>### Sets the amount of time the Raft snapshot will execute periodically, default is 30 minute</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.snapshot_interval_secs=30</span></span>
<span class="line"><span>### raft internal worker threads</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.core_thread_num=8</span></span>
<span class="line"><span>### Number of threads required for raft business request processing</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.cli_service_thread_num=4</span></span>
<span class="line"><span>### raft linear read strategy. Safe linear reads are used by default, that is, the Leader tenure is confirmed by heartbeat</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.read_index_type=ReadOnlySafe</span></span>
<span class="line"><span>### rpc request timeout, default 5 seconds</span></span>
<span class="line"><span># nacos.core.protocol.raft.data.rpc_request_timeout_ms=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#*************** Distro Related Configurations ***************#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data sync delay time, when sync task delayed, task will be merged for same data key. Default 1 second.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.sync.delayMs=1000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data sync timeout for one sync data, default 3 seconds.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.sync.timeoutMs=3000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data sync retry delay time when sync data failed or timeout, same behavior with delayMs, default 3 seconds.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.sync.retryDelayMs=3000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data verify interval time, verify synced data whether expired for a interval. Default 5 seconds.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.verify.intervalMs=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data verify timeout for one verify, default 3 seconds.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.verify.timeoutMs=3000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Distro data load retry delay when load snapshot data failed, default 30 seconds.</span></span>
<span class="line"><span># nacos.core.protocol.distro.data.load.retryDelayMs=30000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### enable to support prometheus service discovery</span></span>
<span class="line"><span>#nacos.prometheus.metrics.enabled=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### Since 2.3</span></span>
<span class="line"><span>#*************** Grpc Configurations ***************#</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## sdk grpc(between nacos server and client) configuration</span></span>
<span class="line"><span>## Sets the maximum message size allowed to be received on the server.</span></span>
<span class="line"><span>#nacos.remote.server.grpc.sdk.max-inbound-message-size=10485760</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets the time(milliseconds) without read activity before sending a keepalive ping. The typical default is two hours.</span></span>
<span class="line"><span>#nacos.remote.server.grpc.sdk.keep-alive-time=7200000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets a time(milliseconds) waiting for read activity after sending a keepalive ping. Defaults to 20 seconds.</span></span>
<span class="line"><span>#nacos.remote.server.grpc.sdk.keep-alive-timeout=20000</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets a time(milliseconds) that specify the most aggressive keep-alive time clients are permitted to configure. The typical default is 5 minutes</span></span>
<span class="line"><span>#nacos.remote.server.grpc.sdk.permit-keep-alive-time=300000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## cluster grpc(inside the nacos server) configuration</span></span>
<span class="line"><span>#nacos.remote.server.grpc.cluster.max-inbound-message-size=10485760</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets the time(milliseconds) without read activity before sending a keepalive ping. The typical default is two hours.</span></span>
<span class="line"><span>#nacos.remote.server.grpc.cluster.keep-alive-time=7200000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets a time(milliseconds) waiting for read activity after sending a keepalive ping. Defaults to 20 seconds.</span></span>
<span class="line"><span>#nacos.remote.server.grpc.cluster.keep-alive-timeout=20000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## Sets a time(milliseconds) that specify the most aggressive keep-alive time clients are permitted to configure. The typical default is 5 minutes</span></span>
<span class="line"><span>#nacos.remote.server.grpc.cluster.permit-keep-alive-time=300000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## open nacos default console ui</span></span>
<span class="line"><span>#nacos.console.ui.enabled=true</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>sql脚本</h3>
<blockquote>
<p>mysql数据库</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/*</span></span>
<span class="line"><span> * Copyright 1999-2018 Alibaba Group Holding Ltd.</span></span>
<span class="line"><span> *</span></span>
<span class="line"><span> * Licensed under the Apache License, Version 2.0 (the "License");</span></span>
<span class="line"><span> * you may not use this file except in compliance with the License.</span></span>
<span class="line"><span> * You may obtain a copy of the License at</span></span>
<span class="line"><span> *</span></span>
<span class="line"><span> *      http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span> *</span></span>
<span class="line"><span> * Unless required by applicable law or agreed to in writing, software</span></span>
<span class="line"><span> * distributed under the License is distributed on an "AS IS" BASIS,</span></span>
<span class="line"><span> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span>
<span class="line"><span> * See the License for the specific language governing permissions and</span></span>
<span class="line"><span> * limitations under the License.</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = config_info                  */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `config_info` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) DEFAULT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `content` longtext NOT NULL COMMENT 'content',</span></span>
<span class="line"><span>  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  `src_user` text COMMENT 'source user',</span></span>
<span class="line"><span>  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',</span></span>
<span class="line"><span>  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT '租户字段',</span></span>
<span class="line"><span>  `c_desc` varchar(256) DEFAULT NULL COMMENT 'configuration description',</span></span>
<span class="line"><span>  `c_use` varchar(64) DEFAULT NULL COMMENT 'configuration usage',</span></span>
<span class="line"><span>  `effect` varchar(64) DEFAULT NULL COMMENT '配置生效的描述',</span></span>
<span class="line"><span>  `type` varchar(64) DEFAULT NULL COMMENT '配置的类型',</span></span>
<span class="line"><span>  `c_schema` text COMMENT '配置的模式',</span></span>
<span class="line"><span>  `encrypted_data_key` text NOT NULL COMMENT '密钥',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_configinfo_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = config_info_aggr             */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `config_info_aggr` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `datum_id` varchar(255) NOT NULL COMMENT 'datum_id',</span></span>
<span class="line"><span>  `content` longtext NOT NULL COMMENT '内容',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL COMMENT '修改时间',</span></span>
<span class="line"><span>  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT '租户字段',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_configinfoaggr_datagrouptenantdatum` (`data_id`,`group_id`,`tenant_id`,`datum_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='增加租户字段';</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = config_info_beta             */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `config_info_beta` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',</span></span>
<span class="line"><span>  `content` longtext NOT NULL COMMENT 'content',</span></span>
<span class="line"><span>  `beta_ips` varchar(1024) DEFAULT NULL COMMENT 'betaIps',</span></span>
<span class="line"><span>  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  `src_user` text COMMENT 'source user',</span></span>
<span class="line"><span>  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT '租户字段',</span></span>
<span class="line"><span>  `encrypted_data_key` text NOT NULL COMMENT '密钥',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_configinfobeta_datagrouptenant` (`data_id`,`group_id`,`tenant_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_beta';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = config_info_tag              */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `config_info_tag` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT 'tenant_id',</span></span>
<span class="line"><span>  `tag_id` varchar(128) NOT NULL COMMENT 'tag_id',</span></span>
<span class="line"><span>  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',</span></span>
<span class="line"><span>  `content` longtext NOT NULL COMMENT 'content',</span></span>
<span class="line"><span>  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  `src_user` text COMMENT 'source user',</span></span>
<span class="line"><span>  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_configinfotag_datagrouptenanttag` (`data_id`,`group_id`,`tenant_id`,`tag_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_info_tag';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = config_tags_relation         */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `config_tags_relation` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL COMMENT 'id',</span></span>
<span class="line"><span>  `tag_name` varchar(128) NOT NULL COMMENT 'tag_name',</span></span>
<span class="line"><span>  `tag_type` varchar(64) DEFAULT NULL COMMENT 'tag_type',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT 'tenant_id',</span></span>
<span class="line"><span>  `nid` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'nid, 自增长标识',</span></span>
<span class="line"><span>  PRIMARY KEY (`nid`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_configtagrelation_configidtag` (`id`,`tag_name`,`tag_type`),</span></span>
<span class="line"><span>  KEY `idx_tenant_id` (`tenant_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='config_tag_relation';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = group_capacity               */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `group_capacity` (</span></span>
<span class="line"><span>  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL DEFAULT '' COMMENT 'Group ID，空字符表示整个集群',</span></span>
<span class="line"><span>  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '配额，0表示使用默认值',</span></span>
<span class="line"><span>  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用量',</span></span>
<span class="line"><span>  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个配置大小上限，单位为字节，0表示使用默认值',</span></span>
<span class="line"><span>  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '聚合子配置最大个数，，0表示使用默认值',</span></span>
<span class="line"><span>  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值',</span></span>
<span class="line"><span>  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最大变更历史数量',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_group_id` (`group_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='集群、各Group容量信息表';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = his_config_info              */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `his_config_info` (</span></span>
<span class="line"><span>  `id` bigint(20) unsigned NOT NULL COMMENT 'id',</span></span>
<span class="line"><span>  `nid` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT 'nid, 自增标识',</span></span>
<span class="line"><span>  `data_id` varchar(255) NOT NULL COMMENT 'data_id',</span></span>
<span class="line"><span>  `group_id` varchar(128) NOT NULL COMMENT 'group_id',</span></span>
<span class="line"><span>  `app_name` varchar(128) DEFAULT NULL COMMENT 'app_name',</span></span>
<span class="line"><span>  `content` longtext NOT NULL COMMENT 'content',</span></span>
<span class="line"><span>  `md5` varchar(32) DEFAULT NULL COMMENT 'md5',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  `src_user` text COMMENT 'source user',</span></span>
<span class="line"><span>  `src_ip` varchar(50) DEFAULT NULL COMMENT 'source ip',</span></span>
<span class="line"><span>  `op_type` char(10) DEFAULT NULL COMMENT 'operation type',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) DEFAULT '' COMMENT '租户字段',</span></span>
<span class="line"><span>  `encrypted_data_key` text NOT NULL COMMENT '密钥',</span></span>
<span class="line"><span>  PRIMARY KEY (`nid`),</span></span>
<span class="line"><span>  KEY `idx_gmt_create` (`gmt_create`),</span></span>
<span class="line"><span>  KEY `idx_gmt_modified` (`gmt_modified`),</span></span>
<span class="line"><span>  KEY `idx_did` (`data_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='多租户改造';</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>/*   表名称 = tenant_capacity              */</span></span>
<span class="line"><span>/******************************************/</span></span>
<span class="line"><span>CREATE TABLE `tenant_capacity` (</span></span>
<span class="line"><span>  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT '主键ID',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) NOT NULL DEFAULT '' COMMENT 'Tenant ID',</span></span>
<span class="line"><span>  `quota` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '配额，0表示使用默认值',</span></span>
<span class="line"><span>  `usage` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用量',</span></span>
<span class="line"><span>  `max_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个配置大小上限，单位为字节，0表示使用默认值',</span></span>
<span class="line"><span>  `max_aggr_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '聚合子配置最大个数',</span></span>
<span class="line"><span>  `max_aggr_size` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值',</span></span>
<span class="line"><span>  `max_history_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最大变更历史数量',</span></span>
<span class="line"><span>  `gmt_create` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '修改时间',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_tenant_id` (`tenant_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='租户容量信息表';</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE TABLE `tenant_info` (</span></span>
<span class="line"><span>  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'id',</span></span>
<span class="line"><span>  `kp` varchar(128) NOT NULL COMMENT 'kp',</span></span>
<span class="line"><span>  `tenant_id` varchar(128) default '' COMMENT 'tenant_id',</span></span>
<span class="line"><span>  `tenant_name` varchar(128) default '' COMMENT 'tenant_name',</span></span>
<span class="line"><span>  `tenant_desc` varchar(256) DEFAULT NULL COMMENT 'tenant_desc',</span></span>
<span class="line"><span>  `create_source` varchar(32) DEFAULT NULL COMMENT 'create_source',</span></span>
<span class="line"><span>  `gmt_create` bigint(20) NOT NULL COMMENT '创建时间',</span></span>
<span class="line"><span>  `gmt_modified` bigint(20) NOT NULL COMMENT '修改时间',</span></span>
<span class="line"><span>  PRIMARY KEY (`id`),</span></span>
<span class="line"><span>  UNIQUE KEY `uk_tenant_info_kptenantid` (`kp`,`tenant_id`),</span></span>
<span class="line"><span>  KEY `idx_tenant_id` (`tenant_id`)</span></span>
<span class="line"><span>) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='tenant_info';</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE TABLE `users` (</span></span>
<span class="line"><span>	`username` varchar(50) NOT NULL PRIMARY KEY COMMENT 'username',</span></span>
<span class="line"><span>	`password` varchar(500) NOT NULL COMMENT 'password',</span></span>
<span class="line"><span>	`enabled` boolean NOT NULL COMMENT 'enabled'</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE TABLE `roles` (</span></span>
<span class="line"><span>	`username` varchar(50) NOT NULL COMMENT 'username',</span></span>
<span class="line"><span>	`role` varchar(50) NOT NULL COMMENT 'role',</span></span>
<span class="line"><span>	UNIQUE INDEX `idx_user_role` (`username` ASC, `role` ASC) USING BTREE</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>CREATE TABLE `permissions` (</span></span>
<span class="line"><span>    `role` varchar(50) NOT NULL COMMENT 'role',</span></span>
<span class="line"><span>    `resource` varchar(128) NOT NULL COMMENT 'resource',</span></span>
<span class="line"><span>    `action` varchar(8) NOT NULL COMMENT 'action',</span></span>
<span class="line"><span>    UNIQUE INDEX `uk_role_permission` (`role`,`resource`,`action`) USING BTREE</span></span>
<span class="line"><span>);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>INSERT INTO users (username, password, enabled) VALUES ('nacos', '$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu', TRUE);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>INSERT INTO roles (username, role) VALUES ('nacos', 'ROLE_ADMIN');</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>2-Redis安装及配置</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/2-Redis%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/2-Redis%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">2-Redis安装及配置</source>
      <description>一、准备工作 redis版本下载：https://redis.io/downloads/ 需要登录 redis客户端下载：https://github.com/RedisInsight/RedisDesktopManager 二、安装 &amp; 配置 安装教程：https://blog.csdn.net/m0_62617719/article/details...</description>
      <category>lamp-cloud</category>
      <pubDate>Thu, 04 Jul 2024 10:30:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、准备工作</h2>
<p>redis版本下载：<a href="https://redis.io/downloads/" target="_blank" rel="noopener noreferrer">https://redis.io/downloads/</a></p>
<blockquote>
<p>需要登录</p>
</blockquote>
<p>redis客户端下载：<a href="https://github.com/RedisInsight/RedisDesktopManager" target="_blank" rel="noopener noreferrer">https://github.com/RedisInsight/RedisDesktopManager</a></p>
<h2>二、安装 &amp; 配置</h2>
<blockquote>
<p>安装教程：<a href="https://blog.csdn.net/m0_62617719/article/details/131243067" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/m0_62617719/article/details/131243067</a></p>
</blockquote>
<blockquote>
<p>安装步骤下一步下一步</p>
</blockquote>
<blockquote>
<p>注意：</p>
<p>1、配置redis.windows.conf默认或者修改你需要的端口，</p>
<p>2、redis默认没有设置密码</p>
</blockquote>
<p>启动Redis：</p>
<blockquote>
<p>在D:\software\redis\Redis-x64-5.0.14.1目录下执行以下命令：</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\redis-server.exe redis.windows.conf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>客户端连接：RedisDesktopManager</p>
<p>连接方式：正常输入ip端口即可</p>
<h2>附件</h2>
<p>redis配置：</p>
<blockquote>
<p>位置：D:\software\redis\Redis-x64-5.0.14.1\redis.windows.conf</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># Redis configuration file example</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Note on units: when memory size is needed, it is possible to specify</span></span>
<span class="line"><span># it in the usual form of 1k 5GB 4M and so forth:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 1k =&gt; 1000 bytes</span></span>
<span class="line"><span># 1kb =&gt; 1024 bytes</span></span>
<span class="line"><span># 1m =&gt; 1000000 bytes</span></span>
<span class="line"><span># 1mb =&gt; 1024*1024 bytes</span></span>
<span class="line"><span># 1g =&gt; 1000000000 bytes</span></span>
<span class="line"><span># 1gb =&gt; 1024*1024*1024 bytes</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># units are case insensitive so 1GB 1Gb 1gB are all the same.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################## INCLUDES ###################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Include one or more other config files here.  This is useful if you</span></span>
<span class="line"><span># have a standard template that goes to all Redis servers but also need</span></span>
<span class="line"><span># to customize a few per-server settings.  Include files can include</span></span>
<span class="line"><span># other files, so use this wisely.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Notice option "include" won't be rewritten by command "CONFIG REWRITE"</span></span>
<span class="line"><span># from admin or Redis Sentinel. Since Redis always uses the last processed</span></span>
<span class="line"><span># line as value of a configuration directive, you'd better put includes</span></span>
<span class="line"><span># at the beginning of this file to avoid overwriting config change at runtime.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># If instead you are interested in using includes to override configuration</span></span>
<span class="line"><span># options, it is better to use include as the last line.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># include .\path\to\local.conf</span></span>
<span class="line"><span># include c:\path\to\other.conf</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################## MODULES #####################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Load modules at startup. If the server is not able to load modules</span></span>
<span class="line"><span># it will abort. It is possible to use multiple loadmodule directives.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># loadmodule .\path\to\my_module.dll</span></span>
<span class="line"><span># loadmodule c:\path\to\other_module.dll</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################## NETWORK #####################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span># By default, if no "bind" configuration directive is specified, Redis listens</span></span>
<span class="line"><span># for connections from all the network interfaces available on the server.</span></span>
<span class="line"><span># It is possible to listen to just one or multiple selected interfaces using</span></span>
<span class="line"><span># the "bind" configuration directive, followed by one or more IP addresses.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Examples:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># bind 192.168.1.100 10.0.0.1</span></span>
<span class="line"><span># bind 127.0.0.1 ::1</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the</span></span>
<span class="line"><span># internet, binding to all the interfaces is dangerous and will expose the</span></span>
<span class="line"><span># instance to everybody on the internet. So by default we uncomment the</span></span>
<span class="line"><span># following bind directive, that will force Redis to listen only into</span></span>
<span class="line"><span># the IPv4 loopback interface address (this means Redis will be able to</span></span>
<span class="line"><span># accept connections only from clients running into the same computer it</span></span>
<span class="line"><span># is running).</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES</span></span>
<span class="line"><span># JUST COMMENT THE FOLLOWING LINE.</span></span>
<span class="line"><span># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span class="line"><span>bind 127.0.0.1</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Protected mode is a layer of security protection, in order to avoid that</span></span>
<span class="line"><span># Redis instances left open on the internet are accessed and exploited.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># When protected mode is on and if:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 1) The server is not binding explicitly to a set of addresses using the</span></span>
<span class="line"><span>#    "bind" directive.</span></span>
<span class="line"><span># 2) No password is configured.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># The server only accepts connections from clients connecting from the</span></span>
<span class="line"><span># IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain</span></span>
<span class="line"><span># sockets.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># By default protected mode is enabled. You should disable it only if</span></span>
<span class="line"><span># you are sure you want clients from other hosts to connect to Redis</span></span>
<span class="line"><span># even if no authentication is configured, nor a specific set of interfaces</span></span>
<span class="line"><span># are explicitly listed using the "bind" directive.</span></span>
<span class="line"><span>protected-mode yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Accept connections on the specified port, default is 6379 (IANA #815344).</span></span>
<span class="line"><span># If port 0 is specified Redis will not listen on a TCP socket.</span></span>
<span class="line"><span>port 16379</span></span>
<span class="line"><span></span></span>
<span class="line"><span># TCP listen() backlog.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># In high requests-per-second environments you need an high backlog in order</span></span>
<span class="line"><span># to avoid slow clients connections issues. Note that the Linux kernel</span></span>
<span class="line"><span># will silently truncate it to the value of /proc/sys/net/core/somaxconn so</span></span>
<span class="line"><span># make sure to raise both the value of somaxconn and tcp_max_syn_backlog</span></span>
<span class="line"><span># in order to get the desired effect.</span></span>
<span class="line"><span>tcp-backlog 511</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Unix socket.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Specify the path for the Unix socket that will be used to listen for</span></span>
<span class="line"><span># incoming connections. There is no default, so Redis will not listen</span></span>
<span class="line"><span># on a unix socket when not specified.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># unixsocket /tmp/redis.sock</span></span>
<span class="line"><span># unixsocketperm 700</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Close the connection after a client is idle for N seconds (0 to disable)</span></span>
<span class="line"><span>timeout 0</span></span>
<span class="line"><span></span></span>
<span class="line"><span># TCP keepalive.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence</span></span>
<span class="line"><span># of communication. This is useful for two reasons:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># 1) Detect dead peers.</span></span>
<span class="line"><span># 2) Take the connection alive from the point of view of network</span></span>
<span class="line"><span>#    equipment in the middle.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># On Linux, the specified value (in seconds) is the period used to send ACKs.</span></span>
<span class="line"><span># Note that to close the connection the double of the time is needed.</span></span>
<span class="line"><span># On other kernels the period depends on the kernel configuration.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># A reasonable value for this option is 300 seconds, which is the new</span></span>
<span class="line"><span># Redis default starting with Redis 3.2.1.</span></span>
<span class="line"><span>tcp-keepalive 300</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################# GENERAL #####################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span># By default Redis does not run as a daemon. Use 'yes' if you need it.</span></span>
<span class="line"><span># Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span></span>
<span class="line"><span># NOT SUPPORTED ON WINDOWS daemonize no</span></span>
<span class="line"><span></span></span>
<span class="line"><span># If you run Redis from upstart or systemd, Redis can interact with your</span></span>
<span class="line"><span># supervision tree. Options:</span></span>
<span class="line"><span>#   supervised no      - no supervision interaction</span></span>
<span class="line"><span>#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode</span></span>
<span class="line"><span>#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET</span></span>
<span class="line"><span>#   supervised auto    - detect upstart or systemd method based on</span></span>
<span class="line"><span>#                        UPSTART_JOB or NOTIFY_SOCKET environment variables</span></span>
<span class="line"><span># Note: these supervision methods only signal "process is ready."</span></span>
<span class="line"><span>#       They do not enable continuous liveness pings back to your supervisor.</span></span>
<span class="line"><span># NOT SUPPORTED ON WINDOWS supervised no</span></span>
<span class="line"><span></span></span>
<span class="line"><span># If a pid file is specified, Redis writes it where specified at startup</span></span>
<span class="line"><span># and removes it at exit.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># When the server runs non daemonized, no pid file is created if none is</span></span>
<span class="line"><span># specified in the configuration. When the server is daemonized, the pid file</span></span>
<span class="line"><span># is used even if not specified, defaulting to "/var/run/redis.pid".</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Creating a pid file is best effort: if Redis is not able to create it</span></span>
<span class="line"><span># nothing bad happens, the server will start and run normally.</span></span>
<span class="line"><span># NOT SUPPORTED ON WINDOWS pidfile /var/run/redis.pid</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Specify the server verbosity level.</span></span>
<span class="line"><span># This can be one of:</span></span>
<span class="line"><span># debug (a lot of information, useful for development/testing)</span></span>
<span class="line"><span># verbose (many rarely useful info, but not a mess like the debug level)</span></span>
<span class="line"><span># notice (moderately verbose, what you want in production probably)</span></span>
<span class="line"><span># warning (only very important / critical messages are logged)</span></span>
<span class="line"><span>loglevel notice</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Specify the log file name. Also 'stdout' can be used to force</span></span>
<span class="line"><span># Redis to log on the standard output.</span></span>
<span class="line"><span>logfile ""</span></span>
<span class="line"><span></span></span>
<span class="line"><span># To enable logging to the Windows EventLog, just set 'syslog-enabled' to</span></span>
<span class="line"><span># yes, and optionally update the other syslog parameters to suit your needs.</span></span>
<span class="line"><span># If Redis is installed and launched as a Windows Service, this will</span></span>
<span class="line"><span># automatically be enabled.</span></span>
<span class="line"><span># syslog-enabled no</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Specify the source name of the events in the Windows Application log.</span></span>
<span class="line"><span># syslog-ident redis</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.</span></span>
<span class="line"><span># NOT SUPPORTED ON WINDOWS syslog-facility local0</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Set the number of databases. The default database is DB 0, you can select</span></span>
<span class="line"><span># a different one on a per-connection basis using SELECT &lt;dbid&gt; where</span></span>
<span class="line"><span># dbid is a number between 0 and 'databases'-1</span></span>
<span class="line"><span>databases 16</span></span>
<span class="line"><span></span></span>
<span class="line"><span># By default Redis shows an ASCII art logo only when started to log to the</span></span>
<span class="line"><span># standard output and if the standard output is a TTY. Basically this means</span></span>
<span class="line"><span># that normally a logo is displayed only in interactive sessions.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># However it is possible to force the pre-4.0 behavior and always show a</span></span>
<span class="line"><span># ASCII art logo in startup logs by setting the following option to yes.</span></span>
<span class="line"><span>always-show-logo yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################ SNAPSHOTTING  ################################</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Save the DB on disk:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   save &lt;seconds&gt; &lt;changes&gt;</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   Will save the DB if both the given number of seconds and the given</span></span>
<span class="line"><span>#   number of write operations against the DB occurred.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   In the example below the behaviour will be to save:</span></span>
<span class="line"><span>#   after 900 sec (15 min) if at least 1 key changed</span></span>
<span class="line"><span>#   after 300 sec (5 min) if at least 10 keys changed</span></span>
<span class="line"><span>#   after 60 sec if at least 10000 keys changed</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   Note: you can disable saving completely by commenting out all "save" lines.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   It is also possible to remove all the previously configured save</span></span>
<span class="line"><span>#   points by adding a save directive with a single empty string argument</span></span>
<span class="line"><span>#   like in the following example:</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   save ""</span></span>
<span class="line"><span></span></span>
<span class="line"><span>save 900 1</span></span>
<span class="line"><span>save 300 10</span></span>
<span class="line"><span>save 60 10000</span></span>
<span class="line"><span></span></span>
<span class="line"><span># By default Redis will stop accepting writes if RDB snapshots are enabled</span></span>
<span class="line"><span># (at least one save point) and the latest background save failed.</span></span>
<span class="line"><span># This will make the user aware (in a hard way) that data is not persisting</span></span>
<span class="line"><span># on disk properly, otherwise chances are that no one will notice and some</span></span>
<span class="line"><span># disaster will happen.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># If the background saving process will start working again Redis will</span></span>
<span class="line"><span># automatically allow writes again.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># However if you have setup your proper monitoring of the Redis server</span></span>
<span class="line"><span># and persistence, you may want to disable this feature so that Redis will</span></span>
<span class="line"><span># continue to work as usual even if there are problems with disk,</span></span>
<span class="line"><span># permissions, and so forth.</span></span>
<span class="line"><span>stop-writes-on-bgsave-error yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Compress string objects using LZF when dump .rdb databases?</span></span>
<span class="line"><span># For default that's set to 'yes' as it's almost always a win.</span></span>
<span class="line"><span># If you want to save some CPU in the saving child set it to 'no' but</span></span>
<span class="line"><span># the dataset will likely be bigger if you have compressible values or keys.</span></span>
<span class="line"><span>rdbcompression yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Since version 5 of RDB a CRC64 checksum is placed at the end of the file.</span></span>
<span class="line"><span># This makes the format more resistant to corruption but there is a performance</span></span>
<span class="line"><span># hit to pay (around 10%) when saving and loading RDB files, so you can disable it</span></span>
<span class="line"><span># for maximum performances.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># RDB files created with checksum disabled have a checksum of zero that will</span></span>
<span class="line"><span># tell the loading code to skip the check.</span></span>
<span class="line"><span>rdbchecksum yes</span></span>
<span class="line"><span></span></span>
<span class="line"><span># The filename where to dump the DB</span></span>
<span class="line"><span>dbfilename dump.rdb</span></span>
<span class="line"><span></span></span>
<span class="line"><span># The working directory.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># The DB will be written inside this directory, with the filename specified</span></span>
<span class="line"><span># above using the 'dbfilename' configuration directive.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># The Append Only File will also be created inside this directory.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span># Note that you must specify a directory here, not a file name.</span></span>
<span class="line"><span>dir ./</span></span>
<span class="line"><span></span></span>
<span class="line"><span>################################# REPLICATION #################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Master-Replica replication. Use replicaof to make a Redis instance a copy of</span></span>
<span class="line"><span># another Redis server. A few things to understand ASAP about Redis replication.</span></span>
<span class="line"><span>#</span></span>
<span class="line"><span>#   +</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>1-Mysql8安装及配置</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/1-Mysql8%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/1-Mysql8%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">1-Mysql8安装及配置</source>
      <description>一、准备工作 这使用绿色版进行安装mysql8 版本：mysql-8.0.22 二、安装及配置 MySQL8 绿色版安装教程：https://blog.csdn.net/qq_58608526/article/details/134408777 2.1、安装 解压到指定目录位置 创建data目录： 在D:\software\mysql\mysql-8....</description>
      <category>lamp-cloud</category>
      <pubDate>Wed, 03 Jul 2024 15:37:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、准备工作</h2>
<blockquote>
<p>这使用绿色版进行安装mysql8
版本：mysql-8.0.22</p>
</blockquote>
<h2>二、安装及配置</h2>
<blockquote>
<p>MySQL8 绿色版安装教程：<a href="https://blog.csdn.net/qq_58608526/article/details/134408777" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_58608526/article/details/134408777</a></p>
</blockquote>
<h3>2.1、安装</h3>
<blockquote>
<p>解压到指定目录位置</p>
</blockquote>
<p>创建data目录：</p>
<blockquote>
<p>在D:\software\mysql\mysql-8.0.22-winx64目录下创建data</p>
</blockquote>
<h3>2.2、创建配置</h3>
<p>创建my.ini配置：</p>
<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置3306端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">3306</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql的安装目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">basedir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">D:\\software\\mysql\\mysql-8.0.22-winx64</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql数据库的数据的存放目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">datadir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">D:\\software\\mysql\\mysql-8.0.22-winx64\\data</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许最大连接数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">max_connections</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">200</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">max_connect_errors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端使用的字符集默认为UTF8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">character-set-server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-storage-engine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">INNODB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 默认使用“mysql_native_password”插件认证</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default_authentication_plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[mysql]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql客户端默认字符集</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[client]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql客户端连接服务端时默认使用的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">3306</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>basedir和datadir自行修改本地目录地址</p>
</blockquote>
<h3>2.3 初始化数据库</h3>
<p>执行：</p>
<blockquote>
<p>在D:\software\mysql\mysql-8.0.22-winx64\bin目录，输入cmd回车，执行一下命令</p>
<p>注意：这里需要使用管理员运行cmd</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mysqld --initialize --console</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：记得保存root@localhost对应的密码</p>
</blockquote>
<h3>2.4 安装<strong>MySQL的服务mysqld</strong></h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mysqld --install mysql8</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>格式：mysqld --install 你的服务名 (这里设置为mysql8)</p>
</blockquote>
<h3>2.5 启动服务</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>net start mysql8</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>关闭服务：net stop mysql8</p>
<p>删除服务：sc delete 服务名</p>
</blockquote>
<h3>2.6、连接mysql8</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mysql -u root -p</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p><strong>其中-u root表示用户名为root，-p表示登录密码</strong></p>
<p>回车输入，刚刚保存的密码</p>
</blockquote>
<h3>2.7、修改密码</h3>
<blockquote>
<p>修改root用户密码：</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ALTER USER root@localhost IDENTIFIED BY 'root';</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>附件</h2>
<h3>常用命令</h3>
<p><strong>退出mysql</strong></p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>exit;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>修改root用户密码：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ALTER USER root@localhost IDENTIFIED BY 'root';</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看mysql版本：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mysql --version</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>数据库授权:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GRANT ALL PRIVILEGES ON . TO ‘root’@’%’ IDENTIFIED BY ‘123456’ WITH GRANT OPTION;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>刷新权限</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>FLUSH PRIVILEGES;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>允许外部访问：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>update user set host ='%' where user ='root' and host = 'localhost';</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>可以理解为大家都能在局域网内连接同一台机器的mysql</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>0-环境安装-整体</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/0-%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-%E6%95%B4%E4%BD%93.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/0-%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85-%E6%95%B4%E4%BD%93.html</guid>
      <source url="https://blog.lxip.top/rss.xml">0-环境安装-整体</source>
      <description>mysql mysql8绿色安装教程： https://blog.csdn.net/qq_58608526/article/details/134408777 创建my.ini配置： 执行： 在D:\software\mysql\mysql-8.0.22-winx64\bin目录，输入cmd回车，执行一下命令 maven maven配置： https:...</description>
      <category>lamp-cloud</category>
      <pubDate>Wed, 03 Jul 2024 11:30:17 GMT</pubDate>
      <content:encoded><![CDATA[<h3>mysql</h3>
<p>mysql8绿色安装教程：</p>
<p><a href="https://blog.csdn.net/qq_58608526/article/details/134408777" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_58608526/article/details/134408777</a></p>
<p>创建my.ini配置：</p>
<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置3306端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">3306</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql的安装目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">basedir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">D:\\software\\mysql\\mysql-8.0.22-winx64</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql数据库的数据的存放目录</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">datadir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">D:\\software\\mysql\\mysql-8.0.22-winx64\\data</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许最大连接数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">max_connections</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">200</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">max_connect_errors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端使用的字符集默认为UTF8</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">character-set-server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-storage-engine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">INNODB</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 默认使用“mysql_native_password”插件认证</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default_authentication_plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[mysql]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql客户端默认字符集</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[client]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置mysql客户端连接服务端时默认使用的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">3306</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">default-character-set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">utf8</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行：</p>
<blockquote>
<p>在D:\software\mysql\mysql-8.0.22-winx64\bin目录，输入cmd回车，执行一下命令</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>mysqld --initialize --console</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>maven</h3>
<p>maven配置：</p>
<p><a href="https://blog.csdn.net/weixin_47698656/article/details/139228198" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_47698656/article/details/139228198</a></p>
<p><a href="https://gitcode.csdn.net/65ec3f5d1a836825ed794f33.html" target="_blank" rel="noopener noreferrer">https://gitcode.csdn.net/65ec3f5d1a836825ed794f33.html</a></p>
<h3>nacos</h3>
<blockquote>
<p>版本下载对照：<a href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E</a></p>
<p>nacos官方文档：<a href="https://nacos.io/download/release-history/" target="_blank" rel="noopener noreferrer">https://nacos.io/download/release-history/</a></p>
</blockquote>
<p>Nacos下载地址：<a href="https://github.com/alibaba/nacos/releases" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos/releases</a></p>
<p>Spring Cloud Alibaba Version：2021.0.5.0</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nacos.version&gt;2.2.4</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>创建库：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>CREATE DATABASE IF NOT EXISTS `lamp_nacos` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>导入sql到lamp_nacos库：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>D:\software\nacos\nacos-server-2.3.1\conf\mysql-schema.sql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>nacos配置文件修参考：</p>
<p><a href="https://tangyh.top/doc/start/%E5%8D%95%E6%9C%BA%E7%89%88Nacos%E5%90%AF%E5%8A%A8.html" target="_blank" rel="noopener noreferrer">https://tangyh.top/doc/start/%E5%8D%95%E6%9C%BA%E7%89%88Nacos%E5%90%AF%E5%8A%A8.html</a></p>
<p>nacos启动：</p>
<p>参考：<a href="https://blog.csdn.net/JIE_PLAY/article/details/136482194" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/JIE_PLAY/article/details/136482194</a></p>
<p>在bin目录下cmd，执行命令启动：</p>
<blockquote>
<p>D:\software\nacos\nacos-server-2.3.2\bin</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\startup.cmd -m standalone</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>Windows 启动命令(standalone代表着单机模式运行，非集群模式): startup.cmd -m standalone</p>
<p>参考：https://blog.csdn.net/weixin_44203609/article/details/120951913</p>
</blockquote>
<p>访问地址：<a href="http://192.168.1.79:8848/nacos/index.html" target="_blank" rel="noopener noreferrer">http://192.168.1.79:8848/nacos/index.html</a></p>
<p>nacos设置密码：<a href="https://blog.csdn.net/taotao_guiwang/article/details/135359247" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/taotao_guiwang/article/details/135359247</a></p>
<h3>Sentinel</h3>
<p>Sentinel Version：1.8.6</p>
<p>Seata下载与配置、启动：<a href="https://blog.csdn.net/qq_36551991/article/details/135968940" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_36551991/article/details/135968940</a></p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>seata-server.bat -h 127.0.0.1 -m db</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>参考：<a href="https://www.cnblogs.com/vic-tory/p/17827908.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/vic-tory/p/17827908.html</a></p>
</blockquote>
<blockquote>
<p>seata的快速入门和实战：<a href="https://blog.csdn.net/2301_78646673/article/details/136771034%5D" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/2301_78646673/article/details/136771034</a></p>
</blockquote>
<h3>redis</h3>
<p>源码下载地址：<a href="https://github.com/redis/redis/releases/tag/7.2.5" target="_blank" rel="noopener noreferrer">https://github.com/redis/redis/releases/tag/7.2.5 </a></p>
<p>下载：<a href="https://github.com/tporadowski/redis/releases/tag/v5.0.14.1" target="_blank" rel="noopener noreferrer">https://github.com/tporadowski/redis/releases/tag/v5.0.14.1</a></p>
<p>参考：<a href="https://blog.csdn.net/weixin_46370595/article/details/130681444" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_46370595/article/details/130681444</a></p>
<p>参考：<a href="https://blog.csdn.net/qq_41966713/article/details/129134058" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_41966713/article/details/129134058</a></p>
<p>redis启动：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>1、启动服务器：cmd  </span></span>
<span class="line"><span>redis-server.exe redis.windows.conf</span></span>
<span class="line"><span>2、默认端口号：6379</span></span>
<span class="line"><span>3、关闭服务器：直接关闭窗口</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>nvm 安装</h3>
<blockquote>
<p>直接安装nvm最新版，然后使用nvm命令，安装node版本</p>
<p>nvm安装教程：<a href="https://blog.csdn.net/qq_22182989/article/details/125387145" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_22182989/article/details/125387145</a></p>
</blockquote>
<p>设置nvm源：</p>
<blockquote>
<p>位置：D:\software\nvm\settings.txt新增以下配置</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>node_mirror: https://npmmirror.com/mirrors/node/</span></span>
<span class="line"><span>npm_mirror: https://npmmirror.com/mirrors/npm/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>对Node设置npm源：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm config set registry=https://registry.npmmirror.com/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>安装依赖命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm i</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>启动命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm run dev</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：使用Node18及以后得版本，启动会报错，故需要package.json中设置</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> SET NODE_OPTIONS=--openssl-legacy-provider &amp;&amp; vue-cli-service serve</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>lamp-cloud-项目熟悉</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/lamp-project/lamp-cloud-%E9%A1%B9%E7%9B%AE%E7%86%9F%E6%82%89.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/lamp-project/lamp-cloud-%E9%A1%B9%E7%9B%AE%E7%86%9F%E6%82%89.html</guid>
      <source url="https://blog.lxip.top/rss.xml">lamp-cloud-项目熟悉</source>
      <description>一、项目地址 本项目统一使用master分支，lamp-cloud mater分支版本是3.10.0 项目地址：https://gitee.com/dromara/lamp-cloud 项目依赖工具：https://gitee.com/zuihou111/lamp-util 代码生成器：https://gitee.com/zuihou111/lamp-...</description>
      <category>lamp-cloud</category>
      <pubDate>Tue, 02 Jul 2024 16:30:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、项目地址</h2>
<blockquote>
<p>本项目统一使用master分支，lamp-cloud mater分支版本是3.10.0</p>
</blockquote>
<p>项目地址：<a href="https://gitee.com/dromara/lamp-cloud" target="_blank" rel="noopener noreferrer">https://gitee.com/dromara/lamp-cloud</a></p>
<p>项目依赖工具：<a href="https://gitee.com/zuihou111/lamp-util" target="_blank" rel="noopener noreferrer">https://gitee.com/zuihou111/lamp-util</a></p>
<p>代码生成器：<a href="https://gitee.com/zuihou111/lamp-generator" target="_blank" rel="noopener noreferrer">https://gitee.com/zuihou111/lamp-generator</a></p>
<p>lamp-job（任务调度）：<a href="https://gitee.com/zuihou111/lamp-job" target="_blank" rel="noopener noreferrer">https://gitee.com/zuihou111/lamp-job</a></p>
<p>前台：<a href="https://gitee.com/zuihou111/lamp-web" target="_blank" rel="noopener noreferrer">https://gitee.com/zuihou111/lamp-web</a></p>
<blockquote>
<p>注意：想启动 lamp-cloud 项目，需要先将 lamp-util 和 lamp-job编译打包</p>
<p>项目的编译顺序是：lamp-util -&gt; lamp-cloud -&gt; lamp-job</p>
</blockquote>
<h2>二、环境安装及配置启动</h2>
<h3>2.1 准备工作</h3>
<p>idea2022.3.3、VSCode 1.90.2</p>
<p>maven3.9.1、Jdk1.8</p>
<p>mysql-8.0.22-winx64、Redis-x64-5.0.14.1</p>
<p>nacos-server-2.3.2、seata-server-2.0.0</p>
<p>Node版本管理工具：nvm 1.1.12</p>
<p>Node v20.15.0</p>
<blockquote>
<p>lamp-web项目支持Node 16版本以上</p>
</blockquote>
<h3>2.2 环境安装</h3>
<blockquote>
<p>详细安装见：<a href="">0-环境安装-整体.md</a> 、<a href="">1-Mysql8安装及配置.md</a>、<a href="">2-Redis安装及配置.md</a>、<a href="">3-nacos-server-2.3.2-安装及配置.md</a>、<a href="">4-Sentinel-2.0.0-安装及配置.md</a>、<a href="/questionskills/pracprojects/lamp-project/5-Node%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE.html" target="_blank">5-Node安装及配置.md</a></p>
<p>lamp-web master分支，node版本21，实际上是低于这版本，又高于16版本</p>
</blockquote>
<h3>2.3 数据库导入</h3>
<blockquote>
<p>前提：本地安装好mysql</p>
<p>mysql脚本位置：D:\workspace\code\gitee\lamp-cloud\01-docs\sql\mysql</p>
</blockquote>
<p>1、创建表：lamp_defaults</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>CREATE DATABASE IF NOT EXISTS `lamp_defaults` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2、导入数据</p>
<p>然后将lamp_defaults、lamp_base_0000、lamp_extend_0000、lamp_column脚本数据到导入到lamp_defaults库</p>
<blockquote>
<p>执行顺序：lamp_defaults、lamp_base_0000、lamp_extend_0000、lamp_column</p>
</blockquote>
<blockquote>
<p>注意：master分支项目没有进行跨库操作，即都放在lamp_defaults表中了。</p>
</blockquote>
<h3>2.4 服务启动</h3>
<blockquote>
<p>服务启动顺序：Mysql、Redis、Nacos、Seata</p>
</blockquote>
<p>1、启动Redis：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\redis-server.exe redis.windows.conf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：不能启动的使用，点加斜杠运行需要运行的命令，  .\命令</p>
<p>注意启动顺序：先启动nacos、再启动seata</p>
</blockquote>
<p>2、nacos启动:</p>
<blockquote>
<p>D:\software\nacos\nacos-server-2.3.2\bin目录下执行</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\startup.cmd  -m standalone</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3、Seata启动：</p>
<blockquote>
<p>D:\software\seata\seata-server-2.0.0\bin目录下执行</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.\seata-server.bat -p 8091 -h 192.168.1.79 -m db -n 1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意事项：</p>
<p>如不能正常启动请检查相应的配置</p>
<p>Redis配置在nacos中需要修改，原因：本地redis没有设置密码，需要在nacos配置中去掉密码</p>
<p>本地Nacos配置、Seata配置需要注意修改，具体的</p>
</blockquote>
<h2>三、项目运行</h2>
<blockquote>
<p>启动项目前：</p>
<p>在nacos中导入相关配置</p>
<p>参考：<a href="https://tangyh.top/opendoc/start/cloud/%E5%B0%86%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5Nacos.html" target="_blank" rel="noopener noreferrer">https://tangyh.top/opendoc/start/cloud/%E5%B0%86%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5Nacos.html</a></p>
<p>其中：D:\workspace\code\gitee\lamp-cloud\01-third-party对应的nacos压缩包配置和seata配置都需要导入</p>
</blockquote>
<h2>3.0 nacos创建seata配置</h2>
<blockquote>
<p>参考：https://tangyh.top/doc/start/%E5%8D%95%E6%9C%BA%E7%89%88Seata%E5%90%AF%E5%8A%A8.html</p>
</blockquote>
<p>在新建的命名空间中新增配置： <code>seataServer.properties</code>， 将修改后的 config.txt 文件中的内容复制进来。</p>
<p>命名空间id： <code>5b51e46a-4aeb-4d40-8398-8a9d33e2f0ad</code></p>
<p>seataServer.properties配置：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#For details about configuration items, see https://seata.io/zh-cn/docs/user/configurations.html</span></span>
<span class="line"><span>#Transport configuration, for client and server</span></span>
<span class="line"><span>transport.type=TCP</span></span>
<span class="line"><span>transport.server=NIO</span></span>
<span class="line"><span>transport.heartbeat=true</span></span>
<span class="line"><span>transport.enableTmClientBatchSendRequest=false</span></span>
<span class="line"><span>transport.enableRmClientBatchSendRequest=true</span></span>
<span class="line"><span>transport.enableTcServerBatchSendResponse=false</span></span>
<span class="line"><span>transport.rpcRmRequestTimeout=30000</span></span>
<span class="line"><span>transport.rpcTmRequestTimeout=30000</span></span>
<span class="line"><span>transport.rpcTcRequestTimeout=30000</span></span>
<span class="line"><span>transport.threadFactory.bossThreadPrefix=NettyBoss</span></span>
<span class="line"><span>transport.threadFactory.workerThreadPrefix=NettyServerNIOWorker</span></span>
<span class="line"><span>transport.threadFactory.serverExecutorThreadPrefix=NettyServerBizHandler</span></span>
<span class="line"><span>transport.threadFactory.shareBossWorker=false</span></span>
<span class="line"><span>transport.threadFactory.clientSelectorThreadPrefix=NettyClientSelector</span></span>
<span class="line"><span>transport.threadFactory.clientSelectorThreadSize=1</span></span>
<span class="line"><span>transport.threadFactory.clientWorkerThreadPrefix=NettyClientWorkerThread</span></span>
<span class="line"><span>transport.threadFactory.bossThreadSize=1</span></span>
<span class="line"><span>transport.threadFactory.workerThreadSize=default</span></span>
<span class="line"><span>transport.shutdown.wait=3</span></span>
<span class="line"><span>transport.serialization=seata</span></span>
<span class="line"><span>transport.compressor=none</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction routing rules configuration, only for the client</span></span>
<span class="line"><span># 待修改 start</span></span>
<span class="line"><span>service.vgroupMapping.lamp_cloud_seata_tx_group=default</span></span>
<span class="line"><span>#If you use a registry, you can ignore it</span></span>
<span class="line"><span>service.default.grouplist=192.168.1.190:8091</span></span>
<span class="line"><span># 待修改 end</span></span>
<span class="line"><span></span></span>
<span class="line"><span>service.enableDegrade=false</span></span>
<span class="line"><span>service.disableGlobalTransaction=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction rule configuration, only for the client</span></span>
<span class="line"><span>client.rm.asyncCommitBufferLimit=10000</span></span>
<span class="line"><span>client.rm.lock.retryInterval=10</span></span>
<span class="line"><span>client.rm.lock.retryTimes=30</span></span>
<span class="line"><span>client.rm.lock.retryPolicyBranchRollbackOnConflict=true</span></span>
<span class="line"><span>client.rm.reportRetryCount=5</span></span>
<span class="line"><span>client.rm.tableMetaCheckEnable=true</span></span>
<span class="line"><span>client.rm.tableMetaCheckerInterval=60000</span></span>
<span class="line"><span>client.rm.sqlParserType=druid</span></span>
<span class="line"><span>client.rm.reportSuccessEnable=false</span></span>
<span class="line"><span>client.rm.sagaBranchRegisterEnable=false</span></span>
<span class="line"><span>client.rm.sagaJsonParser=fastjson</span></span>
<span class="line"><span>client.rm.tccActionInterceptorOrder=-2147482648</span></span>
<span class="line"><span>client.tm.commitRetryCount=5</span></span>
<span class="line"><span>client.tm.rollbackRetryCount=5</span></span>
<span class="line"><span>client.tm.defaultGlobalTransactionTimeout=60000</span></span>
<span class="line"><span>client.tm.degradeCheck=false</span></span>
<span class="line"><span>client.tm.degradeCheckAllowTimes=10</span></span>
<span class="line"><span>client.tm.degradeCheckPeriod=2000</span></span>
<span class="line"><span>client.tm.interceptorOrder=-2147482648</span></span>
<span class="line"><span>client.undo.dataValidation=true</span></span>
<span class="line"><span># 待修改 start</span></span>
<span class="line"><span>client.undo.logSerialization=protostuff</span></span>
<span class="line"><span># 待修改 end</span></span>
<span class="line"><span>client.undo.onlyCareUpdateColumns=true</span></span>
<span class="line"><span>server.undo.logSaveDays=7</span></span>
<span class="line"><span>server.undo.logDeletePeriod=86400000</span></span>
<span class="line"><span>client.undo.logTable=undo_log</span></span>
<span class="line"><span>client.undo.compress.enable=true</span></span>
<span class="line"><span>client.undo.compress.type=zip</span></span>
<span class="line"><span>client.undo.compress.threshold=64k</span></span>
<span class="line"><span>#For TCC transaction mode</span></span>
<span class="line"><span>tcc.fence.logTableName=tcc_fence_log</span></span>
<span class="line"><span>tcc.fence.cleanPeriod=1h</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Log rule configuration, for client and server</span></span>
<span class="line"><span>log.exceptionRate=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction storage configuration, only for the server. The file, db, and redis configuration values are optional.</span></span>
<span class="line"><span>store.mode=db</span></span>
<span class="line"><span>store.lock.mode=file</span></span>
<span class="line"><span>store.session.mode=file</span></span>
<span class="line"><span>#Used for password encryption</span></span>
<span class="line"><span>store.publicKey=</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#If `store.mode,store.lock.mode,store.session.mode` are not equal to `file`, you can remove the configuration block.</span></span>
<span class="line"><span>store.file.dir=file_store/data</span></span>
<span class="line"><span>store.file.maxBranchSessionSize=16384</span></span>
<span class="line"><span>store.file.maxGlobalSessionSize=512</span></span>
<span class="line"><span>store.file.fileWriteBufferCacheSize=16384</span></span>
<span class="line"><span>store.file.flushDiskMode=async</span></span>
<span class="line"><span>store.file.sessionReloadReadSize=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `db`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `db`, you can remove the configuration block.</span></span>
<span class="line"><span>store.db.datasource=druid</span></span>
<span class="line"><span>store.db.dbType=mysql</span></span>
<span class="line"><span># 待修改 start</span></span>
<span class="line"><span>store.db.driverClassName=com.mysql.jdbc.Driver</span></span>
<span class="line"><span>store.db.url=jdbc:mysql://127.0.0.1:3306/lamp_seata?useUnicode=true&amp;rewriteBatchedStatements=true</span></span>
<span class="line"><span>store.db.user=root</span></span>
<span class="line"><span>store.db.password=root</span></span>
<span class="line"><span># 待修改 end</span></span>
<span class="line"><span>store.db.minConn=5</span></span>
<span class="line"><span>store.db.maxConn=30</span></span>
<span class="line"><span>store.db.globalTable=global_table</span></span>
<span class="line"><span>store.db.branchTable=branch_table</span></span>
<span class="line"><span>store.db.distributedLockTable=distributed_lock</span></span>
<span class="line"><span>store.db.queryLimit=100</span></span>
<span class="line"><span>store.db.lockTable=lock_table</span></span>
<span class="line"><span>store.db.maxWait=5000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#These configurations are required if the `store mode` is `redis`. If `store.mode,store.lock.mode,store.session.mode` are not equal to `redis`, you can remove the configuration block.</span></span>
<span class="line"><span>store.redis.mode=single</span></span>
<span class="line"><span>store.redis.single.host=127.0.0.1</span></span>
<span class="line"><span>store.redis.single.port=6379</span></span>
<span class="line"><span>store.redis.sentinel.masterName=</span></span>
<span class="line"><span>store.redis.sentinel.sentinelHosts=</span></span>
<span class="line"><span>store.redis.maxConn=10</span></span>
<span class="line"><span>store.redis.minConn=1</span></span>
<span class="line"><span>store.redis.maxTotal=100</span></span>
<span class="line"><span>store.redis.database=0</span></span>
<span class="line"><span>store.redis.password=</span></span>
<span class="line"><span>store.redis.queryLimit=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Transaction rule configuration, only for the server</span></span>
<span class="line"><span>server.recovery.committingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.asynCommittingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.rollbackingRetryPeriod=1000</span></span>
<span class="line"><span>server.recovery.timeoutRetryPeriod=1000</span></span>
<span class="line"><span>server.maxCommitRetryTimeout=-1</span></span>
<span class="line"><span>server.maxRollbackRetryTimeout=-1</span></span>
<span class="line"><span>server.rollbackRetryTimeoutUnlockEnable=false</span></span>
<span class="line"><span>server.distributedLockExpireTime=10000</span></span>
<span class="line"><span>server.xaerNotaRetryTimeout=60000</span></span>
<span class="line"><span>server.session.branchAsyncQueueSize=5000</span></span>
<span class="line"><span>server.session.enableBranchAsyncRemove=false</span></span>
<span class="line"><span>server.enableParallelRequestHandle=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#Metrics configuration, only for the server</span></span>
<span class="line"><span>metrics.enabled=false</span></span>
<span class="line"><span>metrics.registryType=compact</span></span>
<span class="line"><span>metrics.exporterList=prometheus</span></span>
<span class="line"><span>metrics.exporterPrometheusPort=9898</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>3.1 后端项目启动</h3>
<blockquote>
<p>1、先确保<code>nacos</code>、<code>MySQL</code>、<code>Redis</code>、<code>Seata</code>、 <code>RabbitMQ</code>(可选)、等基础服务是否启动成功</p>
<p>2、执行顺序，逐一启动：OauthServerApplication、AuthorityServerApplication、FileServerApplication、MsgServerApplication、TenantServerApplication、GatewayServerApplication、MonitorApplication</p>
</blockquote>
<blockquote>
<p>参考：<a href="https://tangyh.top/doc/start/cloud/%E5%90%8E%E7%AB%AF%E5%90%AF%E5%8A%A8.html" target="_blank" rel="noopener noreferrer">https://tangyh.top/doc/start/cloud/%E5%90%8E%E7%AB%AF%E5%90%AF%E5%8A%A8.html</a></p>
</blockquote>
<h3>3.2 前台项目启动</h3>
<p>1、拉取依赖：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm i</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2、运行命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>npm run dev</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>lamp-web项目目录下运行</p>
</blockquote>
<h3>3.3 服务访问</h3>
<p>nacos服务</p>
<p><a href="http://localhost:8848/nacos/index.html" target="_blank" rel="noopener noreferrer">http://localhost:8848/nacos/index.html</a></p>
<p>用户名：nacos</p>
<p>密码：nacos</p>
<p>seata服务</p>
<p><a href="http://localhost:7091/" target="_blank" rel="noopener noreferrer">http://localhost:7091/</a></p>
<p>用户名：seata</p>
<p>密码：seata</p>
<p>Swagger文档: 		<a href="http://192.168.1.79:8778/doc.html" target="_blank" rel="noopener noreferrer">http://192.168.1.79:8778/doc.html</a>
数据库监控: 		<a href="http://127.0.0.1:8778/druid" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8778/druid</a></p>
<blockquote>
<p>用户名：lamp</p>
<p>密码：lamp</p>
</blockquote>
<p>lamp-web访问地址：</p>
<p><a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">http://localhost:8080/</a></p>
<h2>附件</h2>
<h3>参考</h3>
<p>lamp-cloud官方文档：<a href="https://tangyh.top/opendoc/%E7%AE%80%E4%BB%8B.html" target="_blank" rel="noopener noreferrer">https://tangyh.top/opendoc/%E7%AE%80%E4%BB%8B.html</a> (开源版)</p>
<p>启动后的效果图：</p>
<p>链接：<a href="https://lcnutsmhwcrk.feishu.cn/docx/O12Qd6NsDovF0Kx5uDBcpEivnce" target="_blank" rel="noopener noreferrer">https://lcnutsmhwcrk.feishu.cn/docx/O12Qd6NsDovF0Kx5uDBcpEivnce </a></p>
<blockquote>
<p>密码：X4#33414</p>
</blockquote>
<h3>介绍</h3>
<p>微服务：</p>
<p>lamp-cloud每个服务都有一个server模块，存放各个服务自己的配置文件和启动类。</p>
<h3>服务访问扩展</h3>
<p>应用 'lamp-authority-server' 运行成功! 访问连接:
Swagger文档: 		http://192.168.1.79:8764/doc.html
数据库监控: 		http://127.0.0.1:8764/druid</p>
<p>应用 'lamp-gateway-server' 运行成功! 访问连接:
Swagger文档: 		http://192.168.1.79:8760/api/doc.html</p>
<p>​	
应用 'lamp-file-server' 运行成功! 访问连接:
Swagger文档: 		http://192.168.1.79:8765/doc.html
数据库监控: 		http://127.0.0.1:8765/druid</p>
<p>应用 'lamp-msg-server' 运行成功! 访问连接:
Swagger文档: 		http://192.168.1.79:8768/doc.html
数据库监控: 		http://192.168.1.79:8768/druid</p>
<p>应用 'lamp-oauth-server' 运行成功! 访问连接:
Swagger文档: 		http://192.168.1.79:8773/doc.html
数据库监控: 		http://127.0.0.1:8773/druid</p>
]]></content:encoded>
    </item>
    <item>
      <title>window下配置ssh</title>
      <link>https://blog.lxip.top/notes/git/window%E4%B8%8B%E9%85%8D%E7%BD%AEssh.html</link>
      <guid>https://blog.lxip.top/notes/git/window%E4%B8%8B%E9%85%8D%E7%BD%AEssh.html</guid>
      <source url="https://blog.lxip.top/rss.xml">window下配置ssh</source>
      <description>背景 在window下使用git，我习惯使用ssh方式进行拉取推送代码，其他方式流程就没有这么繁琐了。为什么使用SSH方式呢，我不想每次切换不同账号的时候重复输入密码，像github不支持直接输入密码，建议使用ssh方式。gitlab、云效等支持输入访问令牌方式连接远程仓库。 ssh配置 配置ssh cofnig文件 在C:\Users\catcat\...</description>
      <category>运维</category>
      <pubDate>Tue, 02 Jul 2024 10:18:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>在window下使用git，我习惯使用ssh方式进行拉取推送代码，其他方式流程就没有这么繁琐了。为什么使用SSH方式呢，我不想每次切换不同账号的时候重复输入密码，像github不支持直接输入密码，建议使用ssh方式。gitlab、云效等支持输入访问令牌方式连接远程仓库。</p>
<h2>ssh配置</h2>
<h3>配置ssh cofnig文件</h3>
<blockquote>
<p>在C:\Users\catcat\.ssh目录下创建 <strong>config</strong> 文件，并自由添加需要的配置</p>
<p>这里的catcat表示window电脑对应的用户名，每个电脑的用户名都是自己设置的，自行修改即可。</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># GitHub</span></span>
<span class="line"><span>Host github.com</span></span>
<span class="line"><span>    HostName github.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_ed25519_github_mytest</span></span>
<span class="line"><span>    User mytest</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span># Github2</span></span>
<span class="line"><span>Host imtest.github.com</span></span>
<span class="line"><span>    HostName github.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_ed25519_github_imtest</span></span>
<span class="line"><span>    User imtest    </span></span>
<span class="line"><span></span></span>
<span class="line"><span># gitee</span></span>
<span class="line"><span>Host gitee.com</span></span>
<span class="line"><span>    HostName gitee.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_ed25519_gitee_mytest</span></span>
<span class="line"><span>    User mytest    	</span></span>
<span class="line"><span></span></span>
<span class="line"><span># gitee</span></span>
<span class="line"><span>Host imtest.gitee.com</span></span>
<span class="line"><span>    HostName gitee.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_ed25519_gitee_imtest</span></span>
<span class="line"><span>    User imtest 	</span></span>
<span class="line"><span>	</span></span>
<span class="line"><span># gitee</span></span>
<span class="line"><span>Host gitcode.net</span></span>
<span class="line"><span>    HostName gitcode.net</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_ed25519_gitcode_nxgtest</span></span>
<span class="line"><span>    User test</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>为什么配置两个github呢，我是想分开两个账号的公钥，虽然可以共用一个公钥，但是我还是习惯于分开。</p>
</blockquote>
<h3>生成秘钥</h3>
<p>在目录下执行：</p>
<blockquote>
<p>位置：C:\Users\catcat\.ssh</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh-keygen -t ed25519 -C "&lt;注释内容&gt;"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>推荐使用<strong>ed25519</strong>算法方式生成秘钥</p>
</blockquote>
<p>生成效果：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> catcat    .ssh     0ms⠀   ssh-keygen -t ed25519 -C "mytest@qq.com"             pwsh   96  15:48:07 </span></span>
<span class="line"><span>Generating public/private ed25519 key pair.</span></span>
<span class="line"><span>Enter file in which to save the key (C:\Users\catcat/.ssh/id_ed25519):</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输入自定义的名称，并回车</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> catcat    .ssh     0ms⠀   ssh-keygen -t ed25519 -C "mytest@qq.com"             pwsh   96  15:48:07 </span></span>
<span class="line"><span>Generating public/private ed25519 key pair.</span></span>
<span class="line"><span>Enter file in which to save the key (C:\Users\catcat/.ssh/id_ed25519): id_ed25519_github_mytest</span></span>
<span class="line"><span>Enter passphrase (empty for no passphrase):</span></span>
<span class="line"><span>Enter same passphrase again:</span></span>
<span class="line"><span>Your identification has been saved in id_ed25519_github_mytest</span></span>
<span class="line"><span>Your public key has been saved in id_ed25519_github_mytest.pub</span></span>
<span class="line"><span>The key fingerprint is:</span></span>
<span class="line"><span>SHA256:FREWfhgLoEWqn21ewQWE65s+MGFoamjj0CWQvHG124 mytest@qq.com</span></span>
<span class="line"><span>The key's randomart image is:</span></span>
<span class="line"><span>+--[ED25519 256]--+</span></span>
<span class="line"><span>|+.    .. .+      |</span></span>
<span class="line"><span>|o. . .  ..o+     |</span></span>
<span class="line"><span>| .. .    oo+     |</span></span>
<span class="line"><span>|.  . .   .+ .    |</span></span>
<span class="line"><span>|.o+ o o S  .     |</span></span>
<span class="line"><span>|+o *o*           |</span></span>
<span class="line"><span>|+ =**..          |</span></span>
<span class="line"><span>|=o+++o.          |</span></span>
<span class="line"><span>|B*o.+E.          |</span></span>
<span class="line"><span>+</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
    <item>
      <title>SpringBoot整合xxx-job</title>
      <link>https://blog.lxip.top/notes/projectintegration/SpringBoot%E6%95%B4%E5%90%88xxx-job.html</link>
      <guid>https://blog.lxip.top/notes/projectintegration/SpringBoot%E6%95%B4%E5%90%88xxx-job.html</guid>
      <source url="https://blog.lxip.top/rss.xml">SpringBoot整合xxx-job</source>
      <description>SpringBoot整合xxl-job 前提是本地或者远程启动了xxl-job服务 引入依赖 2.增加配置 在application-dev.yml中增加 增加XxlJobConfig配置： 3.增加任务调用方法 SampleXxlJob类： 参考：xxl-job使用 附件 参考： https://www.cnblogs.com/sowler/p/17...</description>
      <category>xxl-job</category>
      <category>项目整合</category>
      <pubDate>Sun, 02 Jun 2024 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>SpringBoot整合xxl-job</h2>
<blockquote>
<p>前提是本地或者远程启动了xxl-job服务</p>
</blockquote>
<ol>
<li>引入依赖</li>
</ol>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;!--  xxl-job --&gt;  </span></span>
<span class="line"><span>&lt;dependency&gt;  </span></span>
<span class="line"><span>    &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;  </span></span>
<span class="line"><span>    &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;  </span></span>
<span class="line"><span>    &lt;version&gt;2.4.1&lt;/version&gt;  </span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.增加配置</p>
<p>在application-dev.yml中增加</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># xxl-job配置  </span></span>
<span class="line"><span>xxl:  </span></span>
<span class="line"><span>  job:  </span></span>
<span class="line"><span>    accessToken: default_token  </span></span>
<span class="line"><span>    admin:  </span></span>
<span class="line"><span>      # 调度中心部署跟地址 [选填]：如调度中心集群部署存在多个地址则用逗号分隔。执行器将会使用该地址进行"执行器心跳注册"和"任务结果回调"；为空则关闭自动注册；  </span></span>
<span class="line"><span>      addresses: http://127.0.0.1:30020/xxl-job-admin  </span></span>
<span class="line"><span>    executor:  </span></span>
<span class="line"><span>      # 执行器注册 [选填]：优先使用该配置作为注册地址，为空时使用内嵌服务 ”IP:PORT“ 作为注册地址。从而更灵活的支持容器类型执行器动态IP和动态映射端口问题。  </span></span>
<span class="line"><span>      address:  </span></span>
<span class="line"><span>      # 执行器AppName [选填]：执行器心跳注册分组依据；为空则关闭自动注册  </span></span>
<span class="line"><span>      appname: xxl-job-test  </span></span>
<span class="line"><span>      # 执行器IP [选填]：默认为空表示自动获取IP，多网卡时可手动设置指定IP，该IP不会绑定Host仅作为通讯实用；地址信息用于 "执行器注册" 和 "调度中心请求并触发任务"；  </span></span>
<span class="line"><span>      ip:  </span></span>
<span class="line"><span>      # 执行器端口号 [选填]：小于等于0则自动获取；默认端口为9999，单机部署多个执行器时，注意要配置不同执行器端口；  </span></span>
<span class="line"><span>      port: 9999  </span></span>
<span class="line"><span>      # 执行器运行日志文件存储磁盘路径 [选填] ：需要对该路径拥有读写权限；为空则使用默认路径；  </span></span>
<span class="line"><span>      logpath:  </span></span>
<span class="line"><span>      # 执行器日志文件保存天数 [选填] ： 过期日志自动清理, 限制值大于等于3时生效; 否则, 如-1, 关闭自动清理功能；  </span></span>
<span class="line"><span>      logretentiondays: 15  </span></span>
<span class="line"><span>      # 执行器通讯TOKEN [选填]：非空时启用；</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>增加XxlJobConfig配置：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> com.xxl.job.core.executor.impl.XxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> com.xxl.job.core.util.IpUtil</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> lombok.extern.slf4j.Slf4j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.beans.factory.annotation.Value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.context.annotation.Bean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.context.annotation.Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Slf4j</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> XxlJobConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.admin.addresses}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> adminAddresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.accessToken}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> accessToken</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.appname}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> appname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.address}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.ip}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> ip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.port}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.logpath}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> logPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Value</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.logretentiondays}"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> logRetentionDays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Bean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> XxlJobSpringExecutor</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> xxlJobExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; xxl-job config init."</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);  </span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">        XxlJobSpringExecutor</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> XxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setAdminAddresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(adminAddresses);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setAppname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(appname);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(address);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setIp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">IpUtil</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getIp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(port);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setAccessToken</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(accessToken);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setLogPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(logPath);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        xxlJobSpringExecutor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setLogRetentionDays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(logRetentionDays);  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> xxlJobSpringExecutor;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /**  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     * 针对多网卡、容器内部署等情况，可借助 "spring-cloud-commons" 提供的 "InetUtils" 组件灵活定制注册IP；  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *      1、引入依赖：  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *          &lt;dependency&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *             &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *             &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *             &lt;version&gt;${version}&lt;/version&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *         &lt;/dependency&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *      2、配置文件，或者容器启动变量  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *          spring.cloud.inetutils.preferred-networks: 'xxx.xxx.xxx.'  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *     *      3、获取IP  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     *          String ip_ = inetUtils.findFirstNonLoopbackHostInfo().getIpAddress();     */</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.增加任务调用方法
SampleXxlJob类：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> com.xxl.job.core.context.XxlJobHelper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> com.xxl.job.core.handler.annotation.XxlJob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.slf4j.Logger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.slf4j.LoggerFactory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.stereotype.Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.io.BufferedInputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.io.BufferedReader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.io.DataOutputStream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.io.InputStreamReader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.net.HttpURLConnection</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.net.URL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.util.Arrays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> java.util.concurrent.TimeUnit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">/**  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * XxlJob开发示例（Bean模式）  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * 开发步骤：  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *      1、任务开发：在Spring Bean实例中，开发Job方法；  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *      2、注解配置：为Job方法添加注解 "@XxlJob(value="自定义jobhandler名称", init = "JobHandler初始化方法", destroy = "JobHandler销毁方法")"，注解value值对应的是调度中心新建任务的JobHandler属性的值。  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *      3、执行日志：需要通过 "XxlJobHelper.log" 打印执行日志；  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *      4、任务结果：默认任务结果为 "成功" 状态，不需要主动设置；如有诉求，比如设置任务结果为失败，可以通过 "XxlJobHelper.handleFail/handleSuccess" 自主设置任务结果；  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> *  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> * </span><span style="--shiki-light:#A626A4;--shiki-light-font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">@author</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> xuxueli 2019-12-11 21:52:51  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> SampleXxlJob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Logger</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> logger </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> LoggerFactory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getLogger</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">SampleXxlJob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    /**  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     * 1、简单任务示例（Bean模式）  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     */</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">XxlJob</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"demoJobHandler"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> demoJobHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> throws</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        XxlJobHelper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"XXL-JOB, Hello World."</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> i</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">; i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">; i++) {  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">            XxlJobHelper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"beat at:"</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> i);  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">            TimeUnit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">SECONDS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        // default success  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  }</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参考：<a href="./xxl-job%E4%BD%BF%E7%94%A8">xxl-job使用</a></p>
<h2>附件</h2>
<p>参考：
<a href="https://www.cnblogs.com/sowler/p/17350403.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/sowler/p/17350403.html</a></p>
<p><a href="https://blog.csdn.net/qq_20957669/article/details/128845865" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_20957669/article/details/128845865</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>SpringBoot整合Knife4j</title>
      <link>https://blog.lxip.top/notes/projectintegration/SpringBoot%E6%95%B4%E5%90%88Knife4j.html</link>
      <guid>https://blog.lxip.top/notes/projectintegration/SpringBoot%E6%95%B4%E5%90%88Knife4j.html</guid>
      <source url="https://blog.lxip.top/rss.xml">SpringBoot整合Knife4j</source>
      <description>介绍 Knife4j 是 springfox 3.0.0 和 springdoc-openapi 的增强。 knife4j是一个集Swagger2 和 OpenAPI3为一体的增强解决方案，帮助开发者快速聚合使用OpenAPI规范，快速生成API文档，并且提供一些额外的功能. 参考：https://doc.xiaominfo.com/docs/quic...</description>
      <category>项目整合</category>
      <category>Knife4j</category>
      <pubDate>Sat, 01 Jun 2024 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>介绍</h2>
<p>Knife4j 是 <strong>springfox 3.0.0</strong> 和 <strong>springdoc-openapi</strong> 的增强。</p>
<blockquote>
<p>knife4j是一个集Swagger2 和 OpenAPI3为一体的增强解决方案，帮助开发者快速聚合使用OpenAPI规范，快速生成API文档，并且提供一些额外的功能.</p>
<p>参考：<a href="https://doc.xiaominfo.com/docs/quick-start" target="_blank" rel="noopener noreferrer">https://doc.xiaominfo.com/docs/quick-start</a></p>
</blockquote>
<h2>Spring Boot 集成 Knife4j</h2>
<ol>
<li>添加依赖：引入 Knife4j 包</li>
</ol>
<p>在 Spring Boot 项目的<code>pom.xml</code>文件中添加以下依赖:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;!--  knife4j-openapi3 --&gt;  </span></span>
<span class="line"><span>&lt;dependency&gt;  </span></span>
<span class="line"><span>    &lt;groupId&gt;com.github.xiaoymin&lt;/groupId&gt;  </span></span>
<span class="line"><span>    &lt;artifactId&gt;knife4j-openapi3-spring-boot-starter&lt;/artifactId&gt;  </span></span>
<span class="line"><span>    &lt;version&gt;4.4.0&lt;/version&gt;  </span></span>
<span class="line"><span>&lt;/dependency&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2">
<li>配置 Knife4j</li>
</ol>
<p>在配置包下增加 SwaggerConfig</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> io.swagger.v3.oas.models.ExternalDocumentation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> io.swagger.v3.oas.models.OpenAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> io.swagger.v3.oas.models.info.Info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> io.swagger.v3.oas.models.info.License</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> lombok.extern.slf4j.Slf4j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.context.annotation.Bean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> org.springframework.context.annotation.Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Slf4j</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> SwaggerConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Bean</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> OpenAPI</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> springShopOpenAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {  </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> OpenAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> Info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"十六进制说"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"十六进制说API文档"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"v1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">license</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> License</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"Apache 2.0"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://springdoc.org"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)))  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">externalDocs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> ExternalDocumentation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"外部文档"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">                        .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"https://springshop.wiki.github.org/docs"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在application-dev.yml文件中增加：</p>
<div class="language-yml line-numbers-mode" data-highlighter="shiki" data-ext="yml" data-title="yml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># springdoc-openapi项目配置，访问地址：http://127.0.0.1:8080/doc.html  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">springdoc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  swagger-ui</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/swagger-ui.html</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    tags-sorter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">alpha</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    operations-sorter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">alpha</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  api-docs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/v3/api-docs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  group-configs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">'default'</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      paths-to-match</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">'/**'</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      packages-to-scan</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">com.java.trigger</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># knife4j的增强配置，不需要增强可以不配  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 参考：https://doc.xiaominfo.com/docs/quick-start  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#参考：https://gitee.com/xiaoym/swagger-bootstrap-ui-demo/tree/master/knife4j-springdoc-openapi-demo  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">knife4j</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  setting</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    language</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">zh_cn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    swagger-model-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">实体类列表</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    home-custom-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  documents</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">标题1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">classpath:markdown/*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">标题2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">classpath:markdown1/*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">      group</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">用户模块</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  basic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">catcat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">lisi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # 自动上传OpenAPI数据源到Knife4jInsight平台中  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # 参考文档：http://knife4j.net  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">  insight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    namespace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">knife4j-demo-openapi3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">http://localhost:10086</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    secret</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">BudeU0urM30JTQ+YPZu1GddkG8h0fMgWuYeViSO4Y7Q=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">    service-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">knife4j-demo-openapi3</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参考：<a href="https://gitee.com/xiaoym/swagger-bootstrap-ui-demo/blob/master/knife4j-springdoc-openapi-demo/src/main/java/com/xiaominfo/knife4j/demo/config/SwaggerConfig.java" target="_blank" rel="noopener noreferrer">https://gitee.com/xiaoym/swagger-bootstrap-ui-demo/blob/master/knife4j-springdoc-openapi-demo/src/main/java/com/xiaominfo/knife4j/demo/config/SwaggerConfig.java</a></p>
<ol start="3">
<li>运行项目</li>
</ol>
<p>在浏览器中访问<code>http://localhost:8080/doc.html</code>，你就能看到 Knife4j 生成的 API 文档啦！</p>
<p>并且你访问：<code>http://localhost:8080/swagger-ui.html</code>，也能查看springdoc接口文档</p>
<h2>附件</h2>
<p>参考：</p>
<p>官方文档：<a href="https://doc.xiaominfo.com/docs/features/enhance" target="_blank" rel="noopener noreferrer">https://doc.xiaominfo.com/docs/features/enhance</a></p>
<p>案例参考：<a href="https://gitee.com/xiaoym/swagger-bootstrap-ui-demo/blob/master/knife4j-springdoc-openapi-demo/src/main/java/com/xiaominfo/knife4j/demo/config/SwaggerConfig.java" target="_blank" rel="noopener noreferrer">https://gitee.com/xiaoym/swagger-bootstrap-ui-demo/blob/master/knife4j-springdoc-openapi-demo/src/main/java/com/xiaominfo/knife4j/demo/config/SwaggerConfig.java</a></p>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/637810792" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/637810792</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>eclipse-卡顿问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/eclipse-%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/eclipse-%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">eclipse-卡顿问题</source>
      <description>2024-05-20 Eclipse卡顿问题 背景 在Eclipse__中，使用快捷键Ctrl+C__进行复制时，可能会遇到编辑器卡顿或者无响应的问题。这主要是因为Eclipse在按下Ctrl键时，会自动切换到与当前代码相关联的文件，如果这些文件较大或者无法找到，就会导致卡顿甚至假死状态。为了解决这个问题，可以将自动进入关联文件的快捷键改为其他键，...</description>
      <category>项目</category>
      <pubDate>Mon, 20 May 2024 10:13:17 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>2024-05-20</p>
</blockquote>
<h2>Eclipse卡顿问题</h2>
<h2>背景</h2>
<p>在<a href="https://www.baidu.com/s?wd=Eclipse&amp;usm=1&amp;ie=utf-8&amp;rsv_pq=b8c9b742000302ef&amp;oq=eclipse%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%BE%88%E5%8D%A1&amp;rsv_t=03a5ayTzLZ46aOK7eaNHCtNe4vUdlw%2BmlxyWgkhliKPoqNxtk0epCAhg8TM&amp;sa=re_dqa_zy&amp;icon=1" target="_blank" rel="noopener noreferrer">Eclipse__</a>中，使用快捷键<a href="https://www.baidu.com/s?wd=Ctrl%2BC&amp;usm=1&amp;ie=utf-8&amp;rsv_pq=b8c9b742000302ef&amp;oq=eclipse%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%BE%88%E5%8D%A1&amp;rsv_t=03a5ayTzLZ46aOK7eaNHCtNe4vUdlw%2BmlxyWgkhliKPoqNxtk0epCAhg8TM&amp;sa=re_dqa_zy&amp;icon=1" target="_blank" rel="noopener noreferrer">Ctrl+C__</a>进行复制时，可能会遇到编辑器卡顿或者无响应的问题。这主要是因为Eclipse在按下Ctrl键时，会自动切换到与当前代码相关联的文件，如果这些文件较大或者无法找到，就会导致卡顿甚至假死状态。为了解决这个问题，可以将自动进入关联文件的快捷键改为其他键，例如<a href="https://www.baidu.com/s?wd=Alt&amp;usm=1&amp;ie=utf-8&amp;rsv_pq=b8c9b742000302ef&amp;oq=eclipse%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E5%BE%88%E5%8D%A1&amp;rsv_t=03a5ayTzLZ46aOK7eaNHCtNe4vUdlw%2BmlxyWgkhliKPoqNxtk0epCAhg8TM&amp;sa=re_dqa_zy&amp;icon=1" target="_blank" rel="noopener noreferrer">Alt__</a>。</p>
<blockquote>
<p><strong>在Eclipse中编辑代码时，使用快捷键进行复制粘贴，经常会导致编辑器短暂的停顿，光标不跟随，居然反应不过来，就一直卡在那，很是浪费时间,让人抓耳挠腮..</strong></p>
</blockquote>
<h2>解决方法：</h2>
<p>Window -&gt; Preferences -&gt; General -&gt; Editors -&gt; Text Editors -&gt;Hyperlinking</p>
<p><strong>把超链的快捷键改为其他键比如Alt（不能改为shift）</strong></p>
<p>具体的解决办法如下：</p>
<ol>
<li>进入Eclipse的Preferences设置，路径为Window -&gt; Preferences。</li>
<li>在Preferences窗口中，选择General -&gt; Editors -&gt; Text Editors -&gt; Hyperlinking。</li>
<li>在Hyperlinking设置页面，将“Default modifier key”从Ctrl改为Alt，或者选择其他你喜欢的键。例如，可以设置为当按下Alt键时，Eclipse不会自动切换到代码超链接。</li>
<li>保存设置。</li>
</ol>
<p>此外，如果更改快捷键后仍然出现卡顿，可以尝试进一步禁用某些超链接导航功能。在Hyperlinking页中，取消勾选“Enable on demand hyperlink style navigation”，这样可以减少Eclipse在编辑时的负担，从而可能避免卡顿。</p>
<p>请注意，虽然更改快捷键可以解决复制粘贴时的卡顿问题，但这样做可能会影响到其他依赖于Ctrl+鼠标单击导航的操作。因此，根据个人需求选择是否进行此更改。</p>
<p>其他方法：
取消 Validate 校验</p>
<h2>附件</h2>
<p>参考：<a href="https://www.cnblogs.com/abministrator/p/17881905.html" target="_blank" rel="noopener noreferrer">Eclipse复制（Ctrl+C）粘贴（Ctrl+V）会卡顿</a></p>
<p><a href="https://blog.csdn.net/qq_37022150/article/details/78193294" target="_blank" rel="noopener noreferrer">Ecilpse复制粘贴很慢，出现卡死现象及解决方法</a></p>
<p><a href="https://blog.csdn.net/qq_44695727/article/details/104092148" target="_blank" rel="noopener noreferrer">eclipse经常卡死、反应慢、内存溢出的解决方案</a></p>
<p>eclipse优化技巧：</p>
<p><a href="https://blog.csdn.net/yangniceyangyang/article/details/96309283" target="_blank" rel="noopener noreferrer">eclipse经常卡死、反应慢、内存溢出的解决方案</a></p>
<p><a href="https://blog.csdn.net/ArtemisC/article/details/87954568" target="_blank" rel="noopener noreferrer">Eclipse频繁卡顿的解决办法</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>git指定单文件提交</title>
      <link>https://blog.lxip.top/notes/git/git%E6%8C%87%E5%AE%9A%E5%8D%95%E6%96%87%E4%BB%B6%E6%8F%90%E4%BA%A4.html</link>
      <guid>https://blog.lxip.top/notes/git/git%E6%8C%87%E5%AE%9A%E5%8D%95%E6%96%87%E4%BB%B6%E6%8F%90%E4%BA%A4.html</guid>
      <source url="https://blog.lxip.top/rss.xml">git指定单文件提交</source>
      <description>背景 在使用idea提交文件时，当提交大文件或者文件数量过多时，你想要提交文件是提交不上去的，这样在idea设置中也可以解决，但是有时候并不方便，于是就有了使用git指定文件提交的方式来解决idea提交问题。 基本命令操作 git指定文件提交 提交代码前，先拉取代码 检查文件状态 将修改后的文件，暂存在暂存区 提交这个文件： 推送到仓库 扩展： 表示增...</description>
      <category>运维</category>
      <pubDate>Fri, 10 May 2024 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>在使用idea提交文件时，当提交大文件或者文件数量过多时，你想要提交文件是提交不上去的，这样在idea设置中也可以解决，但是有时候并不方便，于是就有了使用git指定文件提交的方式来解决idea提交问题。</p>
<h2>基本命令操作</h2>
<p>git指定文件提交</p>
<p>提交代码前，先拉取代码</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git pull</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>检查文件状态</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git status</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>将修改后的文件，暂存在暂存区</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git add 项目路径</span></span>
<span class="line"><span># 例如：git add D:\workspace\code\gitlab\company_project_learn\com\node-v18.17.1-x64.msi</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>提交这个文件：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git commit -m "增加某某功能"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>推送到仓库</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git push</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>扩展：</p>
<p>表示增加所有文件到暂存区，慎用</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git add .</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>原因：有的配置修改并不提交，只是为了本地运行调试使用。在开发的时候，只提交我们需要提交的的文件。</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>eclipse引入lombok不生效问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/eclipse%E5%BC%95%E5%85%A5lombok%E4%B8%8D%E7%94%9F%E6%95%88%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/eclipse%E5%BC%95%E5%85%A5lombok%E4%B8%8D%E7%94%9F%E6%95%88%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">eclipse引入lombok不生效问题</source>
      <description>遇到的问题 在eclipse中使用lombok，省get/set方法，但是在新的环境中引入lombok.jar包并不生效，代码中有get方法就会飘红。 原因：lombok在项目中没有生效，get/set也就没有。 解决方法 在D:\programTool\eclipse2019\eclipse.ini 最后一行添加你lombok.jar所在的路径 最后...</description>
      <category>项目</category>
      <pubDate>Tue, 07 May 2024 15:20:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>遇到的问题</h2>
<p>在eclipse中使用lombok，省get/set方法，但是在新的环境中引入lombok.jar包并不生效，代码中有get方法就会飘红。</p>
<p>原因：lombok在项目中没有生效，get/set也就没有。</p>
<h2>解决方法</h2>
<blockquote>
<p>在D:\programTool\eclipse2019\eclipse.ini 最后一行添加你lombok.jar所在的路径</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-javaagent:D:\jar\lombok.jar</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>最后，保存并关闭 eclipse.ini 文件，重新启动 Eclipse 即可。</p>
<blockquote>
<p>请注意，在使用 Lombok 之前，还需要确保已经将 Lombok JAR 文件添加到项目的 Classpath 中。这通常可以通过 Maven 或 Gradle 等构建工具来完成。如果你需要在 Eclipse 中手动添加 Lombok JAR 文件，可以按照以下步骤进行操作：</p>
<ol>
<li>右键单击项目，选择“Properties”；</li>
<li>在“Java Build Path”选项卡中，选择“Libraries”；</li>
<li>点击“Add JARs...”或“Add External JARs...”按钮，选择 Lombok JAR 文件并添加到项目中。</li>
</ol>
</blockquote>
<p>题外话：若感觉Eclipse挺卡的，就把Eclipse 所有的校验都关闭；</p>
<p>若eclipse使用起来还是卡，就看看eclipse.ini 中内存分配了多少，进行适当调整。</p>
<h2>附件</h2>
<p>参考：<a href="https://www.caogenjava.com/detail/127.html" target="_blank" rel="noopener noreferrer">https://www.caogenjava.com/detail/127.html</a></p>
<p>lombok eclipse.ini：
<a href="https://juejin.cn/s/lombok%20eclipse.ini" target="_blank" rel="noopener noreferrer">https://juejin.cn/s/lombok%20eclipse.ini</a></p>
<p>eclipse.ini配置介绍：
<a href="https://wjw465150.github.io/blog/java/my_data/Eclipse/eclipse%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE.htm" target="_blank" rel="noopener noreferrer">https://wjw465150.github.io/blog/java/my_data/Eclipse/eclipse%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE.htm</a></p>
<p>直接右键eclipse的快捷方式，在"目标"中填入下行</p>
<p>D:\eclipse\eclipse.exe -debug options -vm javaw.exe -nl en_US -clean -vmargs -Xverify:none -XX:+UseParallelGC -XX:PermSize=20M -XX:MaxNewSize=32M -XX:NewSize=32M -Xms128m -Xmx256m</p>
<p>参数注解：</p>
<p>【-debug options -vm javaw.exe】显示JVM当前内存使用量（注：详见下方《让你的eclipse也能显示JVM当前内存使用量》）</p>
<p>【-nl】后面跟的是语言：英语 en_US 简体中文 zh_CN</p>
<p>【-clean 】是当启动Eclipse IDE时清空缓冲，一般来说在没有更新插件的情况下，去掉这个参数启动速度更快。</p>
<p>【-vmargs】使用JRE的参数，后面就是JRE的参数了：</p>
<p>【-Xverify:none】去掉JAR包数据验证，一般来说只有在网络环境下才需要验证JAR包数据的有效性。本地的话可以不用验证。</p>
<p>【-XX:+UseParallelGC】使用并行垃圾收集机制，据说这个GC算法比较快。具体不清楚。</p>
<p>【-XX:PermSize=20M -XX:MaxNewSize=32M -XX:NewSize=32M】这三个就是设置详细的缓冲数据了。详情看Java官方网站的介绍吧。</p>
<p>【-Xms128m】Java虚拟机初始化内存容量。</p>
<p>【-Xmx256m】Java虚拟机最大使用内存容量，根据你所使用机器的内容大小设置，只要不超过最大内存容量就好。</p>
<p>-arch [processor architecture]<br>
描述：指定所使用的处理器的类别<br>
举例：eclipse -arch x86或eclipse -arch sparc</p>
<p>-application [id]<br>
描述：指定要运行的应用，id为扩展org.eclipse.core.applications扩展点的插件id加扩展id<br>
举例：例如有个插件id为edu.sdu.app，扩展id为myapp，则eclipse -application edu.sdu.app.myapp，就会执行你的扩展应用</p>
<p>-clean<br>
描述：清空插件缓存内容<br>
举例：eclipse -clean，有时插件显示不出来是因为Eclipse将插件进行了缓存以加速启动过程，若指定此参数则会清空缓存，从头加载</p>
<p>-configuration [cofigfile location]<br>
描述：指定配置文件的位置，在启动时使用此目录下的配置文件config.ini来启动<br>
举例：eclipse -configuration d:/eclipse/configuration</p>
<p>-data [workspace location]<br>
描述：指定启动时的Workspace位置<br>
举例：例如Workspace位置设在D:/myworkspace，则eclipse -data D:/myworkspace</p>
<p>-debug [option file]<br>
描述：以Debug状态启动Eclipse，所有的Debug开关在.options文件中指定<br>
举例：eclipse -debug d:/eclipse/.options</p>
<p>-dev [classpath entry]<br>
描述：以开发状态启动Eclipse，这会添加所有指定的路径作为每个插件的Classpath<br>
举例：例如eclipse -dev bin，会将产生在bin目录下的所有类加载到类路径中，这在开发插件时非常有用</p>
<p>-nosplash<br>
描述：指定启动时不显示闪屏<br>
举例：eclipse -nosplash</p>
<p>-vm [jre path]<br>
描述：指定启动时所使用的Java虚拟机<br>
举 例：例如要使用自己的Java虚拟机，则eclipse -vmD:/j2sdk1.4.2_04/jre/bin/java.exe，这样还有一个好处，就是可以开启一个Console，能够显示控制台信息， 当然若使用eclipse -vm D:/j2sdk1.4.2_04/jre/bin/javaw.exe则不会再显示控制台</p>
<p>-vmargs [Java VM arguments]<br>
描述：指定启动时要使用的Java虚拟机参数<br>
举例：例如要指定使用的内存容量，则eclipse -vmargs "-Xms256m -Xmx1024m"<br>
注：此参数一定要放在所有参数变量的最后面</p>
<p>如果你觉得你的Eclipse在启动的时候很慢（比如说超过20秒钟），也许你要调整一下你的Eclipse启动参数了，以下是一些``小贴士'':</p>
<ol>
<li>检查启动Eclipse的JVM设置。 在Help\About Eclipse SDK\Configuration Detail里面，你可以看到启动Eclipse的JVM。 这个JVM和你在Eclipse中设置的Installed JDK是两回事情。 如果启动Eclipse的JVM还是JDK 1.4的话，那最好改为JDK 5，因为JDK 5的性能比1.4更好。</li>
</ol>
<p><code>C:\eclipse\eclipse.exe -vm "C:\Program Files\Java\jdk1.5.0_08\ bin\javaw.exe"</code></p>
<ol start="2">
<li>检查Eclipse所使用的heap的大小。 在C:\eclipse目录下有一个配置文件eclipse.ini，其中配置了Eclipse启动的默认heap大小</li>
</ol>
<p><code>-vmargs   -Xms40M   -Xmx256M</code></p>
<p>所以你可以把默认值改为:</p>
<p><code>-vmargs   -Xms256M   -Xmx512M</code></p>
<p>当然，也可以这样做，把堆的大小改为256 - 512。</p>
<p><code>C:\eclipse\eclipse.exe -vm "C:\Program Files\Java\jdk1.5.0_08\ bin\javaw.exe" -vmargs -Xms256M -Xmx512M</code></p>
<ol start="3">
<li>其他的启动参数。 如果你有一个双核的CPU，也许可以尝试这个参数:</li>
</ol>
<p><code>-XX:+UseParallelGC</code></p>
<p>让GC可以更快的执行。（只是JDK 5里对GC新增加的参数）</p>
]]></content:encoded>
    </item>
    <item>
      <title>项目打包之java compiled by a more recent version of the Java Runtime (class file version 61.0)</title>
      <link>https://blog.lxip.top/questionskills/workquestions/question10-%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/question10-%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">项目打包之java compiled by a more recent version of the Java Runtime (class file version 61.0)</source>
      <description>背景 使用2023年最新版本的idea编译器、JDK1.8，可以正常启动项目SpringBoot项目，使用maven插件打包项目时报错。 遇到的问题： 报错： 原因： 最开始我想到的是，官方最新版本编译器强制使用JDK17， 后续验证，才发现并不是这样，你也能正常引用jdk1.8。 如果没有指定 spring-boot-maven-plugin 的版本...</description>
      <category>Springboot</category>
      <pubDate>Wed, 13 Mar 2024 09:13:17 GMT</pubDate>
      <content:encoded><![CDATA[<p>背景</p>
<p>使用2023年最新版本的idea编译器、JDK1.8，可以正常启动项目SpringBoot项目，使用maven插件打包项目时报错。</p>
<h2>遇到的问题：</h2>
<p>报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> java compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>原因：
最开始我想到的是，官方最新版本编译器强制使用JDK17，</p>
<p>后续验证，才发现并不是这样，你也能正常引用jdk1.8。</p>
<blockquote>
<p>如果没有指定 spring-boot-maven-plugin 的版本，Maven 会使用最新版本的插件进行打包。但是，最新版本的插件可能不适用于 1.8 的 JDK</p>
</blockquote>
<h2>解决方法：</h2>
<p>1、检查idea编译器中的jdk版本（编译版本）
2、检查pom文件中的maven插件版本 （<strong>推荐</strong>）</p>
<blockquote>
<p>可能在使用maven插件版本时，你并没有指定maven插件版本，默认引用的就是最新版本的maven插件。
这也是在升级项目时常遇到的问题，之前使用项目是可以正常打包，但后来升级了项目之后，项目可以正常打包，但到打包环节就出现了问题。</p>
</blockquote>
<p><strong>指定 spring-boot-maven-plugin 的版本</strong></p>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">build</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">plugins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;spring-boot-maven-plugin&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;         </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			 &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;2.7.0&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">	&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">plugins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">build</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>附件</h2>
<p>具体报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>org/springframework/boot/maven/RepackageMojo has been compiled by a more recent</span></span>
<span class="line"><span> java compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>参考：</p>
<p><a href="https://blog.csdn.net/qq_44664231/article/details/131544077" target="_blank" rel="noopener noreferrer">Java异常】完美解决this version of the Java Runtime only recognizes class file versions up to xx.0异常</a></p>
<p><a href="https://blog.csdn.net/qq_26898033/article/details/128915500" target="_blank" rel="noopener noreferrer">Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file</a></p>
<p><a href="https://stackoverflow.com/questions/72867018/someservice-required-a-bean-named-entitymanagerfactory-that-could-not-be-found" target="_blank" rel="noopener noreferrer">someService required a bean named 'entityManagerFactory' that could not be found</a></p>
<p><a href="https://www.04007.cn/article/840.html" target="_blank" rel="noopener noreferrer">https://www.04007.cn/article/840.html</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>maven私服批量上传本地依赖</title>
      <link>https://blog.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E4%BE%9D%E8%B5%96.html</link>
      <guid>https://blog.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%89%B9%E9%87%8F%E4%B8%8A%E4%BC%A0%E4%BE%9D%E8%B5%96.html</guid>
      <source url="https://blog.lxip.top/rss.xml">maven私服批量上传本地依赖</source>
      <description>maven本地仓库依赖上传到远程仓库 本地仓库上传到远程仓库 批量上传： 批量本地仓库依赖（jar包）上传脚本： 在maven本地仓库目录下创建 batch_upload_repo2.sh 脚本，并将上述内容添加进去脚本文件中 在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口： 执行以下命令： sh 脚本名称.s...</description>
      <category>maven</category>
      <pubDate>Tue, 12 Mar 2024 15:01:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>maven本地仓库依赖上传到远程仓库</h2>
<blockquote>
<p>本地仓库上传到远程仓库</p>
</blockquote>
<p>批量上传：</p>
<p>批量本地仓库依赖（jar包）上传脚本：</p>
<div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># copy and run this script to the root of the repository directory containing files</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># this script attempts to exclude uploading itself explicitly so the script name is important</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Get command line params</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">while</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2"> getopts</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ":r:u:p:"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> opt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">do</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    case</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> $opt</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> in</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75">        r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">REPO_URL</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        ;;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75">        u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">USERNAME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        ;;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75">        p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">PASSWORD</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$OPTARG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        ;;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    esac</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">done</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> .</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> './mavenimport\.sh*'</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '*/\.*'</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '*/\^archetype\-catalog\.xml*'</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '*/\^maven\-metadata\-local*\.xml'</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -not</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '*/\^maven\-metadata\-deployment*\.xml'</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "s|^\./||"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">xargs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '{}'</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$USERNAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$PASSWORD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -X</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> PUT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -T</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> {}</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">REPO_URL</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/{}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> ;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在maven本地仓库目录下创建 <strong>batch_upload_repo2.sh</strong> 脚本，并将上述内容添加进去脚本文件中
</p>
<p>在maven本地仓库目录下，右键打开 git 自带的 git bash Here命令窗口：
</p>
<p>执行以下命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>sh batch_upload_repo2.sh -u admin -p nxg_123456 -r http://localhost:8081/repository/nxgtest/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>sh 脚本名称.sh -u 用户名 -p 密码 -r  http://localhost:8081/repository/仓库名</p>
</blockquote>
<p>执行完成是下图的效果：
</p>
<h2>注意事项</h2>
<p>删除本地maven仓库目录下所有的 .lastUpdated 文件</p>
<p>如果上传失败，可以将本地maven仓库目录下所有的 _remote.repositories 文件删除</p>
<h2>附件</h2>
<p>参考：
<a href="https://mdzzw.cn/archives/mavenimport" target="_blank" rel="noopener noreferrer">本地仓库所有Jar批量上传到Nexus</a></p>
<p><a href="https://www.sharkchili.com/pages/076b9d/" target="_blank" rel="noopener noreferrer">基于自动化脚本批量上传依赖到nexus内网私服</a></p>
<p><a href="http://www.angyum.com/archives/pi-liang-shang-chuan-ben-de-maven-ku-dao-nexus-fu-wu-qi-zhong" target="_blank" rel="noopener noreferrer">批量上传本地maven库到Nexus服务器中</a></p>
<p><a href="https://blog.csdn.net/qq_36299991/article/details/134349345" target="_blank" rel="noopener noreferrer">Maven内网开发使用离线仓库</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/678331669" target="_blank" rel="noopener noreferrer">持续集成工作原理 - maven私服</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>maven私服搭建教程</title>
      <link>https://blog.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html</link>
      <guid>https://blog.lxip.top/questionskills/maven/maven%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html</guid>
      <source url="https://blog.lxip.top/rss.xml">maven私服搭建教程</source>
      <description>sonatype-nexus私服搭建 搭建 下载安装包： 官方地址：https://www.sonatype.com/products/sonatype-nexus-oss-download 这里我提供安装包： https://www.123pan.com/s/tB5A-F4GYd.html 提取码:I3hp 这里以window10安装为例： nexu...</description>
      <category>maven</category>
      <pubDate>Mon, 11 Mar 2024 11:19:17 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>sonatype-nexus私服搭建</p>
</blockquote>
<h2>搭建</h2>
<p>下载安装包：</p>
<blockquote>
<p>官方地址：<a href="https://www.sonatype.com/products/sonatype-nexus-oss-download" target="_blank" rel="noopener noreferrer">https://www.sonatype.com/products/sonatype-nexus-oss-download</a></p>
</blockquote>
<p>这里我提供安装包：</p>
<blockquote>
<p><a href="https://www.123pan.com/s/tB5A-F4GYd.html" target="_blank" rel="noopener noreferrer">https://www.123pan.com/s/tB5A-F4GYd.html</a>
提取码:I3hp</p>
</blockquote>
<p>这里以window10安装为例：</p>
<figure><figcaption></figcaption></figure>
<blockquote>
<p>nexus-3.66.0-02
sonatype-work</p>
</blockquote>
<p>进入 nexus-3.66.0-02 目录，在地址栏输入 cmd命令，并回车，进入终端窗口

在终端窗口输入以下启动命令，回车：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nexus.exe /run nexus</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<blockquote>
<p>开始初始化maven私服仓库</p>
</blockquote>
<p>等初始化完成，我们访问 <a href="http://localhost:8081/" target="_blank" rel="noopener noreferrer">http://localhost:8081/</a> 到达登录页面，提示你需要登录
这时需要在你安装maven私服  D:\programTool\nexus-3.66.0-02-win64\sonatype-work\nexus3
目录下找到 admin.password 文件，打开复制那一串秘钥，
用户名默认是 admin  ，密码是刚刚复制的秘钥，点击登录，然后进行设置密码</p>
<h2>具体使用</h2>
<p>接下来的使用教程可以参考这里：</p>
<p><a href="https://blog.csdn.net/weixin_43888891/article/details/130818293" target="_blank" rel="noopener noreferrer">Maven私服仓库配置-Nexus详解</a></p>
<p>参考：<a href="https://blog.csdn.net/shi450561200/article/details/134096074" target="_blank" rel="noopener noreferrer">Nexus入门学习使用</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>mac配置gitlab</title>
      <link>https://blog.lxip.top/notes/git/mac%E9%85%8D%E7%BD%AEgitlab.html</link>
      <guid>https://blog.lxip.top/notes/git/mac%E9%85%8D%E7%BD%AEgitlab.html</guid>
      <source url="https://blog.lxip.top/rss.xml">mac配置gitlab</source>
      <description>使用ssh方式拉取gitlab仓库代码 背景 在公司mac电脑上需要将gitee仓库代码迁移到公司gitlab代码仓库中，而我习惯使用ssh方式关联git仓库。我也喜欢使用下面简单粗暴的方式来配置git，之前玩git在window10系统上玩的比较多，各种操作都玩过，比如：创建分支、切换分支、分支代码合并、单文件历史查看、当前文件与上一个版本文件进行比...</description>
      <category>git</category>
      <pubDate>Wed, 31 Jan 2024 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>使用ssh方式拉取gitlab仓库代码</p>
<h2>背景</h2>
<p>在公司mac电脑上需要将gitee仓库代码迁移到公司gitlab代码仓库中，而我习惯使用ssh方式关联git仓库。我也喜欢使用下面简单粗暴的方式来配置git，之前玩git在window10系统上玩的比较多，各种操作都玩过，比如：创建分支、切换分支、分支代码合并、单文件历史查看、当前文件与上一个版本文件进行比对、各个分支各自的用处等。
再扯点，我使用过idea和Android提交代码，并且它们提交的方式差不多，我也使用svn提交代码，但觉得并不优雅。我通常使用两种方式来提交代码，一种是命令方式、一种是可视化方式，点点就行。高级一点的方式就是Sourcetree。</p>
<h2>执行步骤</h2>
<h3>1、配置</h3>
<blockquote>
<p><strong>以下命令</strong>都是在终端中进入 /Users/<strong>用户/.ssh目录下</strong>执行下面的命令：</p>
</blockquote>
<p>1.1手动方式配置
config文件</p>
<blockquote>
<p>.ssh/目录下，如果没有config文件，需要创建一个config
创建命令方式：touch config</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># gitlab</span></span>
<span class="line"><span>Host gitlab.com</span></span>
<span class="line"><span>  HostName gitlab.com </span></span>
<span class="line"><span>  IdentityFile ~/.ssh/id_rsa_gitlab</span></span>
<span class="line"><span>  User usertest</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>.gitconfig文件</p>
<blockquote>
<p>用户目录下，根据实际情况查找</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[user]</span></span>
<span class="line"><span>	name = usertest</span></span>
<span class="line"><span>	email = test@qq.com</span></span>
<span class="line"><span>[core]</span></span>
<span class="line"><span>	autocrlf = input</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>windows 和 Mac 协同开发，会碰到一个问题:<br>
提示修改 git core.autocrlf，<br>
这个是由于编辑器的不同或者Windows程序员在跨平台项目中的文件行尾加入了回车换行符， 一些细微的空格变化会不经意地进入大家合作的工作或提交的补丁中。</p>
<p>参考：<a href="https://blog.csdn.net/u012364372/article/details/123215289" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/u012364372/article/details/123215289</a></p>
<p>在Mac上设置 autocrlf = input, 在Windows上设置autocrlf = true（默认值）</p>
</blockquote>
<p>1.2 命令方式：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git config --global user.name "your_name" </span></span>
<span class="line"><span>git config --global user.email "your_email@qq.com"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h3>2、生成秘钥</h3>
<p>生成秘钥：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh-keygen -t rsa -C "your_email@qq.com"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>具体git配置ssh秘钥请移步：<a href="https://blog.nnxx.me/posts/e238cc11.html" target="_blank" rel="noopener noreferrer">git账号多配置</a></p>
</blockquote>
<h3>3、验证是否成功</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh git@gitlab.com</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>自建的gitlab仓库地址不同，根据实际情况更改。</p>
</blockquote>
<h3>4、在gitlab远程仓库配置ssh秘钥</h3>
<p>参考：<a href="https://blog.csdn.net/XX_123_1_RJ/article/details/103332668" target="_blank" rel="noopener noreferrer">Mac 配置Git与常用命令_mac git配置</a></p>
<blockquote>
<p>不同版本的gitlab的SSH keys秘钥配置位置有细微的差别，自行在设置中找到</p>
</blockquote>
<h2>附件</h2>
<p>参考：<a href="https://blog.csdn.net/nxg0916/article/details/135911954" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/nxg0916/article/details/135911954</a></p>
<p><a href="https://blog.nnxx.me/posts/e238cc11.html" target="_blank" rel="noopener noreferrer">git账号多配置</a></p>
<p><a href="https://blog.nnxx.me/posts/de0da321.html" target="_blank" rel="noopener noreferrer">git提交代码到本地分支</a></p>
<p>再啰嗦点：</p>
<p>提交代码最关键的几步：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git status</span></span>
<span class="line"><span>git pull</span></span>
<span class="line"><span>git status</span></span>
<span class="line"><span>git add .</span></span>
<span class="line"><span>git commit -m "描述"</span></span>
<span class="line"><span>git push</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：在提交代码之前，先拉取代码，再提交代码。</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>gitlab导入本地或远程仓库代码</title>
      <link>https://blog.lxip.top/questionskills/workquestions/gitlab%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0%E6%88%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/gitlab%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0%E6%88%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81.html</guid>
      <source url="https://blog.lxip.top/rss.xml">gitlab导入本地或远程仓库代码</source>
      <description>gitee仓库项目迁移到gitlab仓库 背景 之前一直使用gitee代码仓库提交代码，现在需要将gitee仓库中的代码迁移到gitlab中，并保留原有的提交记录。 前提 配置好了本地git，并本地与gitlab仓库已连接。 我这里使用 ssh方式拉去代码，因此需要配置ssh密钥 步骤 也可以直接使用gitee仓库中url地址直接导入整个仓库到gitl...</description>
      <category>git</category>
      <pubDate>Mon, 29 Jan 2024 11:36:13 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>gitee仓库项目迁移到gitlab仓库</p>
</blockquote>
<p>背景</p>
<blockquote>
<p>之前一直使用gitee代码仓库提交代码，现在需要将gitee仓库中的代码迁移到gitlab中，并保留原有的提交记录。</p>
</blockquote>
<h2>前提</h2>
<p>配置好了本地git，并本地与gitlab仓库已连接。</p>
<blockquote>
<p>我这里使用 ssh方式拉去代码，因此需要配置ssh密钥</p>
</blockquote>
<h2>步骤</h2>
<blockquote>
<p>也可以直接使用gitee仓库中url地址直接导入整个仓库到gitlab中，
例如：http://gitee.com:xiaoming/test.git</p>
</blockquote>
<p>1、将gitee上的仓库代码 git clone至本地</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git clone  git@gitee.com:xiaoming/test.git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2、在gitlab 上创建空项目，并复制克隆地址</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git@gitlab.com:xiaoming/project-test.git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：需要配置好gitlab与本地关联的ssh密钥</p>
</blockquote>
<p>3、 cd至项目内部，查看git remote是否是origin</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> git branch -r</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#  origin/HEAD -&gt; origin/main</span></span>
<span class="line"><span># origin/main</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4、是origin则直接修改origin的url，url为刚才复制的新建项目的url</p>
<blockquote>
<p>这里也可以手动替换 url地址，具体位置：在项目 test\.git\config 文件中</p>
</blockquote>
<p>命令方式替换：</p>
<blockquote>
<p>在test项目目录下执行下方命令</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git remote set-url origin git@gitlab.com:xiaoming/project-test.git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>5、查看test项目是否已修改为新项目地址的url
在test项目目录下使用此命令查看：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cat .git\config</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>效果如下：</p>
<blockquote>
<p>文件位置：test\.git\config</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[core]</span></span>
<span class="line"><span>	repositoryformatversion = 0</span></span>
<span class="line"><span>	filemode = false</span></span>
<span class="line"><span>	bare = false</span></span>
<span class="line"><span>	logallrefupdates = true</span></span>
<span class="line"><span>	symlinks = false</span></span>
<span class="line"><span>	ignorecase = true</span></span>
<span class="line"><span>[remote "origin"]</span></span>
<span class="line"><span>#	   url = git@gitee.com:xiaoming/test.git   # 修改前的url</span></span>
<span class="line"><span>	url = git@gitlab.com:xiaoming/project-test.git   # 修改后的url</span></span>
<span class="line"><span>	fetch = +refs/heads/*:refs/remotes/origin/*</span></span>
<span class="line"><span>[branch "main"]</span></span>
<span class="line"><span>	remote = origin</span></span>
<span class="line"><span>	merge = refs/heads/main</span></span>
<span class="line"><span>[user]</span></span>
<span class="line"><span>	name = xiaominga # 用户名</span></span>
<span class="line"><span>	email = xiaoming@qq.com  # 邮箱</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6、推送代码至新仓库</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git push origin master</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>默认也可以使用git push</p>
<p>mater表示是master分支名的代码提交到project-test仓库</p>
</blockquote>
<h2>附件</h2>
<p>参考：<a href="https://blog.nnxx.me/posts/e238cc11.html" target="_blank" rel="noopener noreferrer">git账号多配置</a></p>
<p><a href="https://blog.csdn.net/weixin_44549646/article/details/127494340" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_44549646/article/details/127494340</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>idea中文乱码问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/question07-idea%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/question07-idea%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">idea中文乱码问题</source>
      <description>背景 在idea2022版本中运行项目时，server控制台中文出现乱码。之前解决的是在debug时，返回的数据中的中文乱码，原因是tomcat8.5的编码问题，在edit configurations中找到vm options并添加设置UTF-8即可解决。而这并不能解决控制台中文乱码，网上多数都是说改这改那，但并没有解决自己的需求。 遇到问题 ide...</description>
      <category>项目</category>
      <pubDate>Fri, 19 Jan 2024 09:13:17 GMT</pubDate>
      <content:encoded><![CDATA[<p>背景
在idea2022版本中运行项目时，server控制台中文出现乱码。之前解决的是在debug时，返回的数据中的中文乱码，原因是tomcat8.5的编码问题，在edit  configurations中找到vm options并添加设置UTF-8即可解决。而这并不能解决控制台中文乱码，网上多数都是说改这改那，但并没有解决自己的需求。</p>
<h2>遇到问题</h2>
<p>idea控制台运行项目是打印日志，出现中文乱码</p>
<h2>解决方法</h2>
<p>控制台中文乱码，实际上是控制打印编码的问题，需要找到根源。
在file --&gt; settings --&gt; Editor --&gt; General --&gt; Console，然后点击Console在这界面找到<code>Default Encoding</code> 选择 UTF-8 即可解决。</p>
<blockquote>
<p>注意：不同idea版本可能位置不同，但Console位置应该是不变的</p>
</blockquote>
<h2>附件</h2>
<p>参考：
<a href="https://blog.csdn.net/nxg0916/article/details/135697602" target="_blank" rel="noopener noreferrer">idea中文乱码解决四种方法</a></p>
<p><a href="https://blog.csdn.net/nxg0916/article/details/135697221" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/nxg0916/article/details/135697221</a></p>
<p><a href="https://www.quanxiaoha.com/idea/idea-chinese-garbled-code.html" target="_blank" rel="noopener noreferrer">https://www.quanxiaoha.com/idea/idea-chinese-garbled-code.html</a></p>
<p><a href="https://www.cnblogs.com/itzkd/articles/17384934.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/itzkd/articles/17384934.html</a></p>
<p><a href="https://www.cnblogs.com/itzkd/articles/17384934.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/itzkd/articles/17384934.html</a></p>
<blockquote>
<p>这里面是包含文件（xml、java文件等）内容的中文乱码的修改配置。</p>
<p>注意：<code>idea64.exe.vmoptions</code>&nbsp;文件的修改需要慎重修改，修改后有可能出现编译器打不开问题。
还有就是 在新版本idea编译器中并没有 <code>idea.exe.vmoptions</code></p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>项目中文乱码</title>
      <link>https://blog.lxip.top/questionskills/workquestions/question06-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/question06-%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81.html</guid>
      <source url="https://blog.lxip.top/rss.xml">项目中文乱码</source>
      <description>背景 在spring大杂烩项目中，调用第三方接口时，出现中文乱码。 这里使用到spring、springmvc、本地tomcat、idea 找问题心流： 在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是...</description>
      <category>项目</category>
      <pubDate>Thu, 18 Jan 2024 09:11:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>在spring大杂烩项目中，调用第三方接口时，出现中文乱码。
这里使用到spring、springmvc、本地tomcat、idea</p>
<p>找问题心流：
在电脑中使用idea打开项目，配置好了相应环境。之前使用的另外一个spring项目，可以正常使用，使用postman调接口返回的数据并没有中文乱码。现在使用的另外一个项目，我是想吐槽一下了，项目拉下是不能正常运行的，需要注释掉对应的测试类，在idea中运行项目，一点错误都不能有，比如测试类中有错误，项目就跑不起来，idea中就是这样的。在eclipse中就没有这么样的情况，它也不会检测你测试类中是否丢失了哪些包或者不存在，你还是能正常运行项目。而且拉下来的项目，连配置文件中的内容都缺少，我也是服了。其实这里缺少的是两行配置，加在配置文件中即可，看似两行简单配置，可能会让你在突然拿到这个项目时，启动项目调接口时调不同，你去调别人的接口也貌似调不通。找啊找，很纠结。于是去看同事电脑上对应的项目的配置文件，才发现少了这两行代码，代码仓库居然不提交。我服了。这问题解决了，新的问题又来了。数据返回的中文乱码，但在单元测试中调用接口却没有出现中文乱码的问题。使用postman调用却出现了。
于是我检查idea所有的与编码相关的，在检查postman请求头中的，都没有发现问题，找啊找，意外发现是tomcat的问题。但是我使用之前的项目是可以正常调用接口，也没发现中文乱码问题。</p>
<h2>遇到的问题</h2>
<p>返回的数据出现中文乱码</p>
<p>原因：
tomcat字符集问题</p>
<h2>解决方法</h2>
<p>检查字符编码，将所有跟编码相关的都更改为 UTF-8 编码格式</p>
<blockquote>
<p>tomcat安装目录下的conf/server.xml中，搜索 元素，找到URIEncoding属性（没有就新增），并将其设置为UTF-8:</p>
</blockquote>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Connector</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> URIEncoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"UTF-8"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> .../&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>IDEA的配置tomcat页面VM options  添加   <code>-Dfile.encoding=UTF-8</code></p>
</blockquote>
<p>其他问题检查：
参考这里：<a href="https://blog.csdn.net/qq_44549652/article/details/131764308" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_44549652/article/details/131764308</a></p>
<p><a href="https://blog.csdn.net/nxg0916/article/details/135697602" target="_blank" rel="noopener noreferrer">idea中文乱码解决四种方法</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>eclipse-内存问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/eclipse-%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/eclipse-%E5%86%85%E5%AD%98%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">eclipse-内存问题</source>
      <description>启动超时问题 对tomcat启动项目，将超时时间（timeouts）延迟 tomcat6内存问题 eclipse使用tomcat6运行项目 eclipse版本是2019-06（4.12.0） 遇到的问题： 原因： 提示内存溢出，电脑内存不够，运行起来卡顿 解决方法 在双击tomcat server at localhost 配置之后，找到open la...</description>
      <category>项目</category>
      <pubDate>Wed, 17 Jan 2024 08:13:17 GMT</pubDate>
      <content:encoded><![CDATA[<h2>启动超时问题</h2>
<p>对tomcat启动项目，将超时时间（timeouts）延迟</p>
<h2>tomcat6内存问题</h2>
<p>eclipse使用tomcat6运行项目
eclipse版本是2019-06（4.12.0）</p>
<p>遇到的问题：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> java.lang.OutOfMemoryError: PermGen space</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>原因：
提示内存溢出，电脑内存不够，运行起来卡顿</p>
<p>解决方法
在双击tomcat server at localhost 配置之后，找到open lannch configuration，点击进入后，找到Arguments ，再找到 VM arguments输入框，在最后一行加上一下配置：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-Xms256m -Xmx1024m -XX:PermSize=256m -XX:MaxPermSize=256M</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>参数的解释</p>
<p>-Xms256m : 表示虚拟机占用系统的最小内存为256M。</p>
<p>-Xmx1024m :表示虚拟机占用系统的最大内存为1024M.</p>
<p>-XX:PermSize：最小堆大小。一般报内存不足时,都是说这个太小,堆空间剩余容量小于5%就会警告,建议把这个稍微设大一点,视自己机器内存大小来设置</p>
<p>-XX:MaxPermSize：最大堆大小。这个也适当大些</p>
</blockquote>
<p>eclipse版本不一样，布局可能也不同，自行探究。</p>
<p>参考：<a href="https://www.cnblogs.com/jepson6669/p/9040438.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/jepson6669/p/9040438.html</a></p>
<p><a href="https://blog.csdn.net/leo187/article/details/83866774" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/leo187/article/details/83866774</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>问题集-插件类</title>
      <link>https://blog.lxip.top/questionskills/workquestions/%E9%97%AE%E9%A2%98%E9%9B%86-%E6%8F%92%E4%BB%B6%E7%B1%BB.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/%E9%97%AE%E9%A2%98%E9%9B%86-%E6%8F%92%E4%BB%B6%E7%B1%BB.html</guid>
      <source url="https://blog.lxip.top/rss.xml">问题集-插件类</source>
      <description>lombok在eclipse中不生效问题 遇到的问题 lombok在eclipse中不生效，使用了@Data注解无法调用set/get方法 解决方法： 把lombok.jar包复制到了eclipse安装目录，并在 eclipse.ini 文件中最后一行加入了一句话： 最后在项目中引入lombok.jar，然后重启eclipse，lombok插件就生效了...</description>
      <category>项目</category>
      <category>lombok</category>
      <pubDate>Tue, 26 Dec 2023 10:36:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>lombok在eclipse中不生效问题</h2>
<p>遇到的问题</p>
<p>lombok在eclipse中不生效，使用了@Data注解无法调用set/get方法</p>
<p>解决方法：
把lombok.jar包复制到了eclipse安装目录，并在 eclipse.ini 文件中最后一行加入了一句话：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-javaagent:D:\eclipse_4.4\eclipse\lombok.jar</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>最后在项目中引入lombok.jar，然后重启eclipse，lombok插件就生效了。</p>
<blockquote>
<p>关键步骤</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>无法定位程序输入点 GetProcessMitigationPolicy 于动态链接库 KERNEL32.dll上。</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><a href="https://blog.csdn.net/chengmo123/article/details/108673610" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/chengmo123/article/details/108673610</a></p>
<p><a href="https://blog.csdn.net/chengmo123/article/details/108673610" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/chengmo123/article/details/108673610</a></p>
<p>解决Error running ‘XXX‘：command line is too long.Shorten command line for ‘XXX‘ or also for Junit</p>
<p>解决方法：
<a href="https://blog.csdn.net/weixin_44009447/article/details/118707493" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_44009447/article/details/118707493</a></p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Intel® HAXM installation failed. To install Intel® HAXM follow the instructions found at: https://github.com/intel/haxm/wiki/Installation-Instructions-on-Windows</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>https://blog.csdn.net/qq_24033983/article/details/123335806</p>
<p>https://www.bilibili.com/read/cv26239980/</p>
]]></content:encoded>
    </item>
    <item>
      <title>老项目导入问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/%E9%A1%B9%E7%9B%AE%E5%AF%BC%E5%85%A5%E9%97%AE%E9%A2%98.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/%E9%A1%B9%E7%9B%AE%E5%AF%BC%E5%85%A5%E9%97%AE%E9%A2%98.html</guid>
      <source url="https://blog.lxip.top/rss.xml">老项目导入问题</source>
      <description>背景 导入eclipse项目，可能就会遇到这样那样的问题 比如 该项目时jdk1.7版本的老项目 一、遇到的问题： 参考点：https://blog.csdn.net/qq_45988641/article/details/117474148 https://blog.csdn.net/netwalk/article/details/52005546 ...</description>
      <category>项目</category>
      <category>技巧</category>
      <pubDate>Thu, 21 Dec 2023 09:12:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>导入eclipse项目，可能就会遇到这样那样的问题</p>
<p>比如 该项目时jdk1.7版本的老项目</p>
<h2>一、遇到的问题：</h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>encode.java 非法字符 \65279</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>参考点：<a href="https://blog.csdn.net/qq_45988641/article/details/117474148" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_45988641/article/details/117474148</a></p>
<p><a href="https://blog.csdn.net/netwalk/article/details/52005546" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/netwalk/article/details/52005546</a></p>
<p><a href="https://blog.csdn.net/dszgf5717/article/details/104284198" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/dszgf5717/article/details/104284198</a>
https://blog.csdn.net/yuhaibao324/article/details/108187891</p>
<h2>二、解决方法</h2>
<p>解决方法：</p>
<blockquote>
<p>IDEA编译完成后报非法字符</p>
<p>1、网上有很多说是 File &gt; Setting &gt; File Encoding，将IDE Encoding和Project Encoding 都设置为UTF-8就行，可是我试了不行，</p>
<p>2、上述方法尝试失败之后尝试以下设置，File &gt; Setting &gt;Java Compiler，在 Additional comman line parameters（附加参数）中添加参数 -encoding UTF8</p>
</blockquote>
<p>实在不行就换eclipse吧</p>
]]></content:encoded>
    </item>
    <item>
      <title>Oracle之ORA-29275-部分多字节字符</title>
      <link>https://blog.lxip.top/questionskills/workquestions/Oracle%E4%B9%8BORA-29275-%E9%83%A8%E5%88%86%E5%A4%9A%E5%AD%97%E8%8A%82%E5%AD%97%E7%AC%A6.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/Oracle%E4%B9%8BORA-29275-%E9%83%A8%E5%88%86%E5%A4%9A%E5%AD%97%E8%8A%82%E5%AD%97%E7%AC%A6.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Oracle之ORA-29275-部分多字节字符</source>
      <description>背景： 在Oracle数据库中，通过查询 A表所有数据，发现某个字段出现字符问题 一、遇到的问题 排查过程： 1.先定位到哪条数据有问题，这可以通过二分查找方式缩小查询范围 2.拿出A所有的字段，进行查询，同样通过二分查找的方式缩小查询范围 3.最终定位到 A表中的 w字段有问题 显示如下错误：ORA-29275: 部分多字节字符 原因分析： 可能某个...</description>
      <category>数据库</category>
      <pubDate>Sat, 02 Dec 2023 09:14:17 GMT</pubDate>
      <content:encoded><![CDATA[<p>背景：
在Oracle数据库中，通过查询 A表所有数据，发现某个字段出现字符问题</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT * FROM  A</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>一、遇到的问题</h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ORA-29275: 部分多字节字符</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>排查过程：</p>
<p>1.先定位到哪条数据有问题，这可以通过二分查找方式缩小查询范围</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> A  </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> rownum </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.拿出A所有的字段，进行查询，同样通过二分查找的方式缩小查询范围</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> q,w,e,r... </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> A</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.最终定位到 A表中的 w字段有问题</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> w </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> A</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>显示如下错误：ORA-29275: 部分多字节字符</p>
<p>原因分析：</p>
<blockquote>
<p>可能某个字段中有半个中文字符则会报这个异常，原因为Oracle编码问题。</p>
</blockquote>
<h2>二、解决方法：</h2>
<p>方法1：
在有问题的字段上面加上 to_nchar(字段)</p>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  TO_NCHAR(w) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> A</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">-- 或者</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> TO_SINGLE_BYTE(w) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  A</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法2：</p>
<blockquote>
<p>改数据库字符集</p>
<p>检查他们Oracle的nls_lang环境变量，发现他们客户端的nls_lang设置为 american.</p>
<p>改成export NLS_LANG=AMERICAN_AMERICA.ZHS16CGB231280后， 就正常了。</p>
</blockquote>
<p>方法3：</p>
<blockquote>
<p>在oracle中字段中找出汉字的方法：可以利用length(testname)和lengthb(testname)，其中length(testname)不论数字或者字符都算一个，</p>
<p>而lengthb则不同，比如说testname的值为：54看法12，用length(testname)的值为6，而lengthb(testname)的值为：8。</p>
<p>利用这个就可以非常清楚的判断一个字符中是否包含汉字了(字母除外)。
to_single_byte(c)转换成半角</p>
<p>to_multi_byte(c)转换成全角</p>
</blockquote>
<h2>三、附件</h2>
<p>参考：
<a href="https://blog.csdn.net/zhangzhongzhong/article/details/78722105" target="_blank" rel="noopener noreferrer">ORA-29275部分多字节字符处理</a></p>
<p><a href="https://blog.csdn.net/keueng/article/details/48808085" target="_blank" rel="noopener noreferrer">ORA-29275:部分多字节字符</a></p>
<p><a href="https://www.cnblogs.com/huaji666/p/8489592.html" target="_blank" rel="noopener noreferrer"> Oracle数据库报错: ORA-29275:部分多字节字符</a></p>
<p><a href="https://blog.csdn.net/blood_Z/article/details/123524415" target="_blank" rel="noopener noreferrer">Oracle分页查询</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>maven之‘settings.xml‘-has-syntax-errors</title>
      <link>https://blog.lxip.top/questionskills/workquestions/maven%E4%B9%8B%E2%80%98settings.xml%E2%80%98%20has%20syntax%20errors.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/maven%E4%B9%8B%E2%80%98settings.xml%E2%80%98%20has%20syntax%20errors.html</guid>
      <source url="https://blog.lxip.top/rss.xml">maven之‘settings.xml‘-has-syntax-errors</source>
      <description>背景： 在springboot项目中拉取依赖，出现oracle对应的依赖不存在或没找到，如下所示： 之前一直使用阿里云 http://Maven.aliyun.com/nexus/content/groups/public/ maven仓库地址，拉去依赖的时候报错说没找到ojdbc6对应的 11.2.0.3版本。 一、遇到的问题 二、解决方法 方法1：...</description>
      <category>maven</category>
      <pubDate>Sat, 02 Dec 2023 09:09:17 GMT</pubDate>
      <content:encoded><![CDATA[<p>背景：
在springboot项目中拉取依赖，出现oracle对应的依赖不存在或没找到，如下所示：</p>
<blockquote>
<p>之前一直使用阿里云 http://Maven.aliyun.com/nexus/content/groups/public/ maven仓库地址，拉去依赖的时候报错说没找到ojdbc6对应的 11.2.0.3版本。</p>
</blockquote>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;com.oracle&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;ojdbc6&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;11.2.0.3&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">scope</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;provided&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">scope</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>一、遇到的问题</h2>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>'settings.xml' has syntax errors</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>二、解决方法</h2>
<p>方法1：
删除maven仓库资源，例如：D:\Software\Maven\repository
更换为华为云的仓库</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>  &lt;mirror&gt;</span></span>
<span class="line"><span>    &lt;id&gt;huaweicloud&lt;/id&gt;</span></span>
<span class="line"><span>    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span></span>
<span class="line"><span>    &lt;url&gt;https://mirrors.huaweicloud.com/repository/maven/&lt;/url&gt;</span></span>
<span class="line"><span>  &lt;/mirror&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后重新拉取依赖</p>
<p>方法2：
需要注意settings.xml配置中格式问题，这个需要注意一下，例如：你可能在增加maven仓库地址时少引入单词或者引脚等</p>
<p>settings.xml配置</p>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;?</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">xml</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1.0"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> encoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"UTF-8"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">?&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&lt;!--</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">Licensed to the Apache Software Foundation (ASF) under one</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">or more contributor license agreements.  See the NOTICE file</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">distributed with this work for additional information</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">regarding copyright ownership.  The ASF licenses this file</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">to you under the Apache License, Version 2.0 (the</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">"License"); you may not use this file except in compliance</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">with the License.  You may obtain a copy of the License at</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">Unless required by applicable law or agreed to in writing,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">software distributed under the License is distributed on an</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">KIND, either express or implied.  See the License for the</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">specific language governing permissions and limitations</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">under the License.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">--&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&lt;!--</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> | This is the configuration file for Maven. It can be specified at two levels:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |  1. User Level. This settings.xml file provides configuration for a single user,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 and is normally provided in ${user.home}/.m2/settings.xml.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 NOTE: This location can be overridden with the CLI option:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 -s /path/to/user/settings.xml</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 users on a machine (assuming they're all using the same Maven</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 installation). It's normally provided in</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 ${maven.conf}/settings.xml.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 NOTE: This location can be overridden with the CLI option:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |                 -gs /path/to/global/settings.xml</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> | The sections in this sample file are intended to give you a running start at</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> | getting the most out of your Maven installation. Where appropriate, the default</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> | values (values used when the setting is not specified) are provided.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">settings</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> xmlns</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://maven.apache.org/SETTINGS/1.2.0"</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">          xmlns:xsi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">          xsi:schemaLocation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://maven.apache.org/SETTINGS/1.2.0 https://maven.apache.org/xsd/settings-1.2.0.xsd"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- localRepository</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | The path to the local repository maven will use to store artifacts.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Default: ${user.home}/.m2/repository</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- 配置本地仓库 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localRepository</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;D:\Software\Maven\repository&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">localRepository</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- interactiveMode</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This will determine whether maven prompts you when it needs input. If set to false,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | maven will use a sensible default value, perhaps based on some other setting, for</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | the parameter in question.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Default: true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- offline</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Determines whether maven should attempt to connect to the network when executing a build.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This will have an effect on artifact downloads, artifact deployment, and others.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Default: false</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;offline&gt;false&lt;/offline&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- pluginGroups</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | when invoking a command line like "mvn prefix:goal". Maven will automatically add the group identifiers</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | "org.apache.maven.plugins" and "org.codehaus.mojo" if these are not already contained in the list.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">pluginGroups</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- pluginGroup</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Specifies a further group identifier to use for plugin lookup.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">pluginGroups</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- TODO Since when can proxies be selected as depicted? --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- proxies</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This is a list of proxies which can be used on this machine to connect to the network.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | specification in this list marked as active will be used.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">proxies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- proxy</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Specification for one proxy, to be used in connecting to the network.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;proxy&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;optional&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;active&gt;true&lt;/active&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;protocol&gt;http&lt;/protocol&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;username&gt;proxyuser&lt;/username&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;password&gt;proxypass&lt;/password&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;port&gt;80&lt;/port&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/proxy&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">proxies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- servers</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">servers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- server</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Specifies the authentication information to use when connecting to a particular server, identified by</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | a unique name within the system (referred to by the 'id' attribute below).</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |       used together.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;server&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;username&gt;repouser&lt;/username&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;password&gt;repopwd&lt;/password&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/server&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- Another sample, using keys to authenticate.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;server&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;siteServer&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/server&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">servers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- mirrors</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | it to several places.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | That repository definition will have a unique id, so we can create a mirror reference for that</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | server for that repository.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirrors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- mirror</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;mirrorId&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- &lt;mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;maven-default-http-blocker&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP.&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;url&gt;http://0.0.0.0/&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;blocked&gt;true&lt;/blocked&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/mirror&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">	&lt;!-- 配置阿里云镜像 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- &lt;mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;id&gt;nexus-aliyun&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;name&gt;Nexus aliyun&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;url&gt;http://Maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/mirror&gt;  --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&lt;!-- 配置具体的仓库的下载镜像 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&lt;!--   &lt;mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &amp;lt;!&amp;ndash; 此镜像的唯一标识符，用来区分不同的mirror元素 &amp;ndash;&amp;gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;id&gt;nexus-aliyun&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &amp;lt;!&amp;ndash; 对那种仓库进行镜像，简单说就是替代哪个仓库 &amp;ndash;&amp;gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &amp;lt;!&amp;ndash; 镜像名称 &amp;ndash;&amp;gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;name&gt;Nexus aliyun&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &amp;lt;!&amp;ndash; 镜像URL &amp;ndash;&amp;gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;url&gt;https://maven.aliyun.com/repository/central&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">		&lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/mirror&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">&lt;!--  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;mirror&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;id&gt;nexus-aliyun&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;name&gt;Nexus aliyun&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;url&gt;http://Maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;/mirror&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">	  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirror</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;huaweicloud&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirrorOf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;central&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirrorOf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;https://mirrors.huaweicloud.com/repository/maven/&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">	  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirror</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">mirrors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- profiles</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | specific paths and repository locations which allow the build to work in the local environment.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | dereferenced during the build process to configure the cactus plugin.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | relies on the detection of a property, either matching a particular value for the property,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | Finally, the list of active profiles can be specified directly from the command line.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |       variables for plugins in the POM.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">profiles</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">profile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;jdk-1.8&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">activation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">activeByDefault</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;true&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">activeByDefault</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">jdk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;1.8&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">jdk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">activation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.source</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;1.8&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.source</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;1.8&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">			  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.compilerVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;1.8&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">Maven.compiler.compilerVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">		  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">profile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- profile</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Specifies a set of introductions to the build process, to be activated using one or more of the</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | mechanisms described above. For inheritance purposes, and to activate profiles via &lt;activatedProfiles/&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | or the command line, profiles have to have an ID that is unique.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | An encouraged best practice for profile identification is to use a consistent naming convention</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | for profiles, such as 'env-dev', 'env-test', 'env-production', 'user-jdcasey', 'user-brett', etc.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | This will make it more intuitive to understand what the set of introduced profiles is attempting</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | to accomplish, particularly when you only have a list of profile id's for debug.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | This profile example uses the JDK version to trigger activation, and provides a JDK-specific repo.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;profile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;jdk-1.4&lt;/id&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;activation&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;jdk&gt;1.4&lt;/jdk&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;/activation&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;repositories&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;repository&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;id&gt;jdk14&lt;/id&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;name&gt;Repository for JDK 1.4 builds&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;url&gt;http://www.myhost.com/maven/jdk14&lt;/url&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;layout&gt;default&lt;/layout&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;snapshotPolicy&gt;always&lt;/snapshotPolicy&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;/repository&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;/repositories&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/profile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!--</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | Here is another profile, activated by the property 'target-env' with a value of 'dev', which</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | provides a specific path to the Tomcat instance. To use this, your plugin configuration might</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | hypothetically look like:</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | ...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | &lt;plugin&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |   &lt;groupId&gt;org.myco.myplugins&lt;/groupId&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |   &lt;artifactId&gt;myplugin&lt;/artifactId&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |   &lt;configuration&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |     &lt;tomcatLocation&gt;${tomcatPath}&lt;/tomcatLocation&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |   &lt;/configuration&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | &lt;/plugin&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | ...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     | NOTE: If you just wanted to inject this configuration whenever someone set 'target-env' to</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |       anything, you could just leave off the &lt;value/&gt; inside the activation-property.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">     |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;profile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;id&gt;env-dev&lt;/id&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;activation&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;property&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;name&gt;target-env&lt;/name&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">          &lt;value&gt;dev&lt;/value&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;/property&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;/activation&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;properties&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">        &lt;tomcatPath&gt;/path/to/tomcat/instance&lt;/tomcatPath&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;/properties&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;/profile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">profiles</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;!-- activeProfiles</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   | List of profiles that are active for all builds.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   |</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;activeProfiles&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;activeProfile&gt;alwaysActiveProfile&lt;/activeProfile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;activeProfile&gt;anotherAlwaysActiveProfile&lt;/activeProfile&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  &lt;/activeProfiles&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">settings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>附件</h2>
<p>参考：
<a href="https://www.west999.com/info/html/chengxusheji/Javajishu/20190826/4657334.html" target="_blank" rel="noopener noreferrer">intellij idea 新建springboot工程pom.xml报错</a>
<a href="https://blog.csdn.net/RABCDXB/article/details/123910435" target="_blank" rel="noopener noreferrer">settings.xml‘ has syntax errors 解决办法</a>
<a href="https://blog.csdn.net/RABCDXB/article/details/123910435" target="_blank" rel="noopener noreferrer">‘settings.xml‘ has syntax errors 解决办法</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>eclipse项目在idea中打开</title>
      <link>https://blog.lxip.top/questionskills/workquestions/eclipse%E9%A1%B9%E7%9B%AE%E5%9C%A8idea%E4%B8%AD%E6%89%93%E5%BC%80.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/eclipse%E9%A1%B9%E7%9B%AE%E5%9C%A8idea%E4%B8%AD%E6%89%93%E5%BC%80.html</guid>
      <source url="https://blog.lxip.top/rss.xml">eclipse项目在idea中打开</source>
      <description>首先拿到项目地址： 使用svn拉到本地目录位置（自定义） 背景 当你拿到一个项目时，这个项目可能跟你想象得不一样，它跟你平时写的项目不一致。这时，你需要先确定是先项目是什么项目、使用的环境是怎么的？可能你会遇到这样那样的问题，在同一台服务器上有多人共同使用，遇到权限问题、安装软件重启服务器问题、配置不生效问题等。 开发工具的选择 是选择使用eclips...</description>
      <category>项目</category>
      <category>技巧</category>
      <pubDate>Wed, 22 Nov 2023 10:36:13 GMT</pubDate>
      <content:encoded><![CDATA[<p>首先拿到项目地址：</p>
<p>使用svn拉到本地目录位置（自定义）</p>
<h2>背景</h2>
<p>当你拿到一个项目时，这个项目可能跟你想象得不一样，它跟你平时写的项目不一致。这时，你需要先确定是先项目是什么项目、使用的环境是怎么的？可能你会遇到这样那样的问题，在同一台服务器上有多人共同使用，遇到权限问题、安装软件重启服务器问题、配置不生效问题等。</p>
<h2>开发工具的选择</h2>
<p>是选择使用eclipse还是idea，根据自己的使用习惯。</p>
<p>环境：
可能拿到一个项目，无法直接确定项目中使用的jdk版本、缺失的依赖等。</p>
<p>这里以idea为例</p>
<h2>环境配置</h2>
<p>开发环境：windows Server 2008 R2 Enterprise  64为操作系统</p>
<p>sbf项目</p>
<p>jdk1.8</p>
<p>idea2022.02.02、tomcat8.5</p>
<p>svn1.14.5.29465-x64</p>
<blockquote>
<p>对应需要安装vc_redist.x64.exe环境</p>
</blockquote>
<h2>导入项目</h2>
<p>项目本身是eclipse编写的，由此你需要会如何将eclipse项目导入到idea中：
教程可以参考这：<a href="https://blog.csdn.net/weixin_43435032/article/details/127067473?spm=1001.2014.3001.5506" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_43435032/article/details/127067473?spm=1001.2014.3001.5506</a></p>
<p>在idea中找到File --&gt; New --&gt; Project from Existing Sources，选择你需要导入的项目。</p>
<blockquote>
<p>因为这里是eclipse项目</p>
</blockquote>
<p>导入项目后会弹出 Import Project 界面：
选择 Import project from external model (默认选项)，然后选择选项 Eclipse ，
点击下一步（Next），默认配置，点击下一步，后会进行扫描，等待一下即可。
然后勾选对应的项目，点击下一步，点到最后，选择JDK版本，这里选择JDK1.8，
最后点击创建（Create），项目导入完成。</p>
<h2>配置项目</h2>
<p>打开导入的项目后：</p>
<p>在idea中，找到 File --&gt; Project Structure ，
然后开始配置。</p>
<h3>第一步：确定Project中jdk版本</h3>
<p>选择SDK对应的JDK1.8</p>
<h3>第二步：Modules (模块)</h3>
<p>点击左上方 + （加号），找到 Web 点击加入。
然后点击项目名称，找到 Dependencies后，点击下面的 + （加号），
点击 Library 添加对应的 Tomcat 。</p>
<h3>第三步：Libraries</h3>
<p>点击 Libraries，点击左上方 + （加号），点击Java，然后找到项目对应的依赖路径位置 lib，
点击添加 lib 即可</p>
<blockquote>
<p>一般lib位置在WEB-INF目录下</p>
</blockquote>
<h3>第四步：Facets</h3>
<p>点击 Facets，点击左上方 + （加号），找到 Web 点击添加项目对应的模块</p>
<blockquote>
<p><strong>重点来了</strong></p>
</blockquote>
<p>点击 样式类似于   Web（项目名）的位置后，
定位到Deployment Descriptors位置下方：
点击 type下方的 Web Module Deployment Descriptor 之后，点击编辑（Edit），选择项目中对应的web.xml文件。</p>
<blockquote>
<p>这里注意了，一般项目中 是 web  --&gt; WEB-INF --&gt; web.xml文件，
但是 这个项目的web存放路径也可以自定义，比如 名称叫 interfacePlatform  ，下面存放WEB-INF --&gt; web.xml文件，存放静态资源，存放对应的jar包。</p>
</blockquote>
<p>定位到 Web Resource Directories 位置：
点击下方的路径，然后点击编辑按钮，修改静态资源存放路径的主目录，例如项目存放静态资源的主目录名为 interfacePlatform，</p>
<h3>第五步：Artifacts</h3>
<p>点击 Artifacts，点击左上方 + （加号），找到 Web Application：Exlpoded --&gt; From Modules</p>
<p>选择项目中对应的模块，点OK即可。</p>
<p>第六步：找到 Platform Settings 位置
点击 Problems ，如果有提示 fixed，就点击修复一下</p>
<p>最后，点击右下角的 Apply（应用），点 OK，这里就配置完成了。</p>
<h2>配置tomcat</h2>
<p>在idea中找到 File --&gt; Settings --&gt; Build Execution，Deployment，
然后找到 Application Servers并点击之后，
点击左上方 + （加号），找到 Tomcat Server，
添加Tomcat Home目录位置，然后下方的 Tomcat base directory就自动加上路径，点击OK就可以了，最后点击Apply（应用）和 OK</p>
<p>点击右上角的“Add configuration”，点击左上方 + （加号），找到 Tomcat Server --&gt; Local
点击local后，点击 Tomcat 8.5.23 ，在右边找到Deployment，在下方 Deploy at the server startup，这一步默认可以省掉，原因是在上面  第五步：Artifacts  就已经配置好了。</p>
<p>如果你想请求路径不带有项目名，你就在 Application context下方，去掉项目名称直接留下 / (斜杠)即可。</p>
<p>最后就点击 Apply（应用）和 OK 。</p>
<p>最最后就可以稳定启动项目了。</p>
<h2>启动项目</h2>
<p>可能遇到问题，tomcat端口占用，修改端口即可</p>
<p>项目中依赖问题，缺少依赖就添加对应的jar包，如果是测试类中缺少依赖就注释掉对应的代码。</p>
<p>有时候还是有问题，就需要rebuild --&gt; Rebuild Project (重新构建项目)</p>
<h2>遇到的问题</h2>
<h3>问题一：svn使用问题</h3>
<p>如果你使用的svn是TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi版本时，你在idea的设置中，找到version Control（版本控制），找到Subversion，找到 Path to Subversion executable 配置svn启动exe。
但是在TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi 版本对应的安装目录下，貌似没有svn.exe文件。
idea就会提示找到svn对应的.exe</p>
<p>使用TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi时idea提示报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Cant's use Subversion command line client D:\ProgramFiles\TortoiseSVN\bin\svn.exe</span></span>
<span class="line"><span>The path to the Subversion excutable is probably wrong</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方法：
我是直接换一个svn版本：TortoiseSVN-1.14.5.29465-x64-svn-1.14.2.msi
这个安装时也会提示报错，说缺少windows Server 2008 R2 Enterprise缺少组件，于是找到对应的组件包（vc_redist.x64.exe）安装即可解决问题。</p>
<h2>问题二</h2>
<p>idea中可能报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>java：常量字符串过长</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>原因是：将eclipse项目导入到idea中，会遇到这样的问题。</p>
<p>解决方法：
在idea设置中找到Build，Execution，Deploymentw位置，点击Compiler，点击Java Compiler，找到Use comiler，然后选择eclipse，点击Apply（应用），点OK即可。</p>
<blockquote>
<p>注意：在没有出现这样的问题的情况下，还是使用Javac，每个项目的使用情况可能不同。
还有，如果之前改为了eclipse，后面换了一个项目，建议及时改回Javac，然后后面编译总是报错，也找到问题所在，那就很难受了。</p>
<p>不过呢，对于现在SpringBoot项目一般不会出现这样的问题。</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>工作必会工具</title>
      <link>https://blog.lxip.top/notes/devtool/front-dev-tool.html</link>
      <guid>https://blog.lxip.top/notes/devtool/front-dev-tool.html</guid>
      <source url="https://blog.lxip.top/rss.xml">工作必会工具</source>
      <description>git Gitee、GitHub、GitLab、Gitcode 教程：https://www.bilibili.com/video/BV1fN4y1r7ie https://www.bilibili.com/video/BV14V4y1U7k9/ https://www.bilibili.com/video/BV1Ga4y1G79o 注：有git前置知...</description>
      <category>工具</category>
      <pubDate>Thu, 16 Nov 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>git</h2>
<blockquote>
<p>Gitee、GitHub、GitLab、Gitcode</p>
</blockquote>
<p>教程：<a href="https://www.bilibili.com/video/BV1fN4y1r7ie" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1fN4y1r7ie</a></p>
<p><a href="https://www.bilibili.com/video/BV14V4y1U7k9/" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV14V4y1U7k9/</a></p>
<p><a href="https://www.bilibili.com/video/BV1Ga4y1G79o" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1Ga4y1G79o</a></p>
<blockquote>
<p>注：有git前置知识（会基础的命令），再看这视频会有更好的理解和感受。也可以直接看这个视频，但就没有那种恍然大悟，也不好理解git。</p>
</blockquote>
<h2>编译器：</h2>
<blockquote>
<p>idea、eclipse、Android studio、vscode、Hbuilder、</p>
</blockquote>
<p>需要会将将项目拉取下，配置好环境，并能运行起来。</p>
<p>像老项目很多使用的eclipse开发的，想eclipse项目导入到idea中也需要会配置环境，可能有的项目你在idea中配置好了jdk版本、tomcat、lib（依赖），但项目中还是会飘红、跑不起来，这时你就很迷茫了。不着急，这可能就是提交不规范或有的人提交上去有稍微的问题，但是并不影响本地的项目运行。但对于新拉取的人来说就烦心了，各种问题，特别是eclipse比较老的项目。原因有很多比如我们使用的都是比较新的编译器、可能就会编码问题。解决办法有很多，比如：有的代码根据提示注释即可，并不影响代码运行，特别是一些测试代码，编码问题就需要配置好编译器的编码，但这并不能解决所有问题，当你解决一个问题，又有新的问题。</p>
<p>idea编译器导入eclipse项目还是不行，就换eclipse项目，可能你还会遇到问题，第一步就阻挡了你的去路，这时你会感到崩溃，emo。你从尝试idea，再到尝试eclipse，折腾来会也没有跑起来。有时并不是自己的原因，得换下思路了。从仓库中拉下来得项目，是多人协作提交的。可能有的人并没有将自己新增加的依赖提交上去，但他们会他们会跟你说需要新增加哪几个依赖。但换了一个人就是另一种说法了。接手新项目的时候，可能配环境都到emo了，会劝退一些人，懂的都懂。</p>
<h2>数据库</h2>
<blockquote>
<p>Mysql、Oracle</p>
</blockquote>
<p>对于Mysql连接工具会一两种即可（Navicat Premium 16、SQLyog、idea自带的）
Oracle通常使用 Pl/SQL 连接工具，不过Navicat也能使用，通过使用比较多的还是PL/SQL。PL/SQL可以同时连接6个数据库，感觉不够使用。</p>
<p>Mysql是入门必会的，额，sql server 那就算了，目前使用到的比较少。</p>
<p>Oracle 学习起来还是有一定的成本的，特别是SQL又丑又长，~~</p>
<h2>linux工具</h2>
<blockquote>
<p>XShell、Xftp、FinalShell 、Termius、MobaXterm</p>
</blockquote>
<p>前置Linux基本命令、对Linux有一定了解，一般使用比较多的服务器是centos7</p>
<p>一般在公司会连接多个服务器，为了方便切换服务器有企业版（ Xmanager ）</p>
<p>个人使用推荐：FinalShell、MobaXterm</p>
<h2>测试工具</h2>
<blockquote>
<p>postman、swagger、ApiPost、swagger API</p>
</blockquote>
<p>对于springboot框架很多都引入了swagger，你可以将接口API导入到postman中，一般线上测试都需要加入对应的cookie，并不能像你平时那样直接可以测试的。</p>
<h2>其他工具</h2>
<p>设计工具： 墨刀、Figma</p>
<p>思维导图：XMind、ProcessOn</p>
<p>禅道、IPS、云效</p>
<h2>笔记工具</h2>
<blockquote>
<p>typroa（markdown编译器）、obsidian</p>
</blockquote>
<p>公司内网使用的话，记录一些用户名、密码、地址，就需要一款数据库笔记工具 --  mybase （可设置密码）</p>
]]></content:encoded>
    </item>
    <item>
      <title>常用工具</title>
      <link>https://blog.lxip.top/notes/devtool/use-tool.html</link>
      <guid>https://blog.lxip.top/notes/devtool/use-tool.html</guid>
      <source url="https://blog.lxip.top/rss.xml">常用工具</source>
      <description>云效 阿里云云效git代码管理仓库 git配置：如何配置SSH密钥及自定义SSH认证密钥的路径_云效(Apsara Devops)-阿里云帮助中心 (aliyun.com) pdmaner： http://www.pdmaner.com/download/latest 文档：https://www.yuque.com/pdmaner/docs/pdma...</description>
      <category>工具</category>
      <pubDate>Thu, 16 Nov 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>云效</p>
<blockquote>
<p>阿里云云效git代码管理仓库
git配置：<a href="https://help.aliyun.com/document_detail/153709.html" target="_blank" rel="noopener noreferrer">如何配置SSH密钥及自定义SSH认证密钥的路径_云效(Apsara Devops)-阿里云帮助中心 (aliyun.com)</a></p>
</blockquote>
<p>pdmaner：
http://www.pdmaner.com/download/latest</p>
<blockquote>
<p>文档：<a href="https://www.yuque.com/pdmaner/docs/pdmaner-manual" target="_blank" rel="noopener noreferrer">https://www.yuque.com/pdmaner/docs/pdmaner-manual</a></p>
</blockquote>
<h2>必备工具</h2>
<p>局域网远程桌面连接：
https://blog.csdn.net/chengzia__/article/details/137650526</p>
<h2>在线网址</h2>
<p>大写转小写：
https://jf.homefont.cn/daxiao.html</p>
<p>jar反编译工具：</p>
<blockquote>
<p>官网：https://java-decompiler.github.io/
文档：<a href="https://hksanduo.github.io/2021/06/22/2021-06-22-java-decompiler-tools/" target="_blank" rel="noopener noreferrer">https://hksanduo.github.io/2021/06/22/2021-06-22-java-decompiler-tools/</a></p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>docker之xxl-job</title>
      <link>https://blog.lxip.top/notes/docker/docker%E4%B9%8Bxxl-job.html</link>
      <guid>https://blog.lxip.top/notes/docker/docker%E4%B9%8Bxxl-job.html</guid>
      <source url="https://blog.lxip.top/rss.xml">docker之xxl-job</source>
      <description>xxl-job 拉取镜像： 启动容器： /root/docker-data/xxl-job/application.properties 其中的application.properties文件需要从xxl-job项目中拿到，并需要要修改数据库连接账号密码，然后就是 application.properties xxl-job连接数据库问题 背景： 在项...</description>
      <category>docker</category>
      <category>安装教程</category>
      <pubDate>Thu, 02 Nov 2023 10:00:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>xxl-job</h2>
<p>拉取镜像：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull xuxueli/xxl-job-admin:2.3.1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>启动容器：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -d --name=xxl-job-admin \</span></span>
<span class="line"><span>-p 8088:8080 \</span></span>
<span class="line"><span>-v /root/docker-data/xxl-job/application.properties:/application.properties \</span></span>
<span class="line"><span>-v /root/docker-data/xxl-job/applogs:/data/applogs \</span></span>
<span class="line"><span>xuxueli/xxl-job-admin:2.3.1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>/root/docker-data/xxl-job/application.properties 其中的application.properties文件需要从xxl-job项目中拿到，并需要要修改数据库连接账号密码，然后就是</p>
</blockquote>
<p>application.properties</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>### web</span></span>
<span class="line"><span>server.port=8080</span></span>
<span class="line"><span>server.servlet.context-path=/xxl-job-admin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### actuator</span></span>
<span class="line"><span>management.server.servlet.context-path=/actuator</span></span>
<span class="line"><span>management.health.mail.enabled=false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### resources</span></span>
<span class="line"><span>spring.mvc.servlet.load-on-startup=0</span></span>
<span class="line"><span>spring.mvc.static-path-pattern=/static/**</span></span>
<span class="line"><span>spring.resources.static-locations=classpath:/static/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### freemarker</span></span>
<span class="line"><span>spring.freemarker.templateLoaderPath=classpath:/templates/</span></span>
<span class="line"><span>spring.freemarker.suffix=.ftl</span></span>
<span class="line"><span>spring.freemarker.charset=UTF-8</span></span>
<span class="line"><span>spring.freemarker.request-context-attribute=request</span></span>
<span class="line"><span>spring.freemarker.settings.number_format=0.##########</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### mybatis</span></span>
<span class="line"><span>mybatis.mapper-locations=classpath:/mybatis-mapper/*Mapper.xml</span></span>
<span class="line"><span>#mybatis.type-aliases-package=com.xxl.job.admin.core.model</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### xxl-job, datasource</span></span>
<span class="line"><span>spring.datasource.url=jdbc:mysql://172.17.0.1:3306/xxl_job?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;serverTimezone=Asia/Shanghai</span></span>
<span class="line"><span>spring.datasource.username=root</span></span>
<span class="line"><span>spring.datasource.password=123456</span></span>
<span class="line"><span>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### datasource-pool</span></span>
<span class="line"><span>spring.datasource.type=com.zaxxer.hikari.HikariDataSource</span></span>
<span class="line"><span>spring.datasource.hikari.minimum-idle=10</span></span>
<span class="line"><span>spring.datasource.hikari.maximum-pool-size=30</span></span>
<span class="line"><span>spring.datasource.hikari.auto-commit=true</span></span>
<span class="line"><span>spring.datasource.hikari.idle-timeout=30000</span></span>
<span class="line"><span>spring.datasource.hikari.pool-name=HikariCP</span></span>
<span class="line"><span>spring.datasource.hikari.max-lifetime=900000</span></span>
<span class="line"><span>spring.datasource.hikari.connection-timeout=10000</span></span>
<span class="line"><span>spring.datasource.hikari.connection-test-query=SELECT 1</span></span>
<span class="line"><span>spring.datasource.hikari.validation-timeout=1000</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### xxl-job, email</span></span>
<span class="line"><span>spring.mail.host=smtp.qq.com</span></span>
<span class="line"><span>spring.mail.port=25</span></span>
<span class="line"><span>spring.mail.username=xxx@qq.com</span></span>
<span class="line"><span>spring.mail.from=xxx@qq.com</span></span>
<span class="line"><span>spring.mail.password=xxx</span></span>
<span class="line"><span>spring.mail.properties.mail.smtp.auth=true</span></span>
<span class="line"><span>spring.mail.properties.mail.smtp.starttls.enable=true</span></span>
<span class="line"><span>spring.mail.properties.mail.smtp.starttls.required=true</span></span>
<span class="line"><span>spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### xxl-job, access token</span></span>
<span class="line"><span>xxl.job.accessToken=default_token</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### xxl-job, i18n (default is zh_CN, and you can choose "zh_CN", "zh_TC" and "en")</span></span>
<span class="line"><span>xxl.job.i18n=zh_CN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>## xxl-job, triggerpool max size</span></span>
<span class="line"><span>xxl.job.triggerpool.fast.max=200</span></span>
<span class="line"><span>xxl.job.triggerpool.slow.max=100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>### xxl-job, log retention days</span></span>
<span class="line"><span>xxl.job.logretentiondays=30</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>xxl-job连接数据库问题</h3>
<p>背景：</p>
<p>在项目中需要定时任务调度，需要在docker容器中安装xxl-job</p>
<p>遇到的问题</p>
<p>部署成功后，可以访问xxl-job登录界面，点登录没反应，但过一段时间就弹出数据库拒绝连接，说MyBatis连接用户失败</p>
<p>原因：</p>
<p>在docker容器中，不同容器直接是相互隔离互不影响的，如果使用localhost、或者127.0.0.1是无法生效的。</p>
<p>解决方法：</p>
<p>思路：</p>
<p>1、先检查需要连接的数据库用户名和密码是否正确</p>
<p>2、如果是docker中不同容器之间的连接访问，就需要检查服务器内网地址。</p>
<p>3、检测映射的端口是否对应</p>
<p>方法：</p>
<p>查看服务器内网ip地址：
</p>
<p>修改application.properties配置：</p>
<p>数据库连接地址和密码</p>
<p>或者使用：容器名加端口号的方式访问，例如我的mysql数据库的容器名是 n_mysql</p>
<p>则</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>spring.datasource.url=jdbc:mysql://n_mysql:3306/xxl_job?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;serverTimezone=Asia/Shanghai</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>注意：这些操作都是在同一服务器上操作的</p>
<figure><figcaption></figcaption></figure>
<p>在操作这些步骤中，可能有其他原因：</p>
<p>1、是否在同一服务器中操作的，不同服务器之间就不能直接使用局域网ip地址，需要使用公网ip进行访问连接数据库</p>
<p>2、在创建容器时，映射地址是否正确（不限于，路径名称）</p>
<p>3、检测防火墙是否放行相应的端口，不过都能访问后台地址了，不会是防火墙的问题</p>
<p>扩展：</p>
<blockquote>
<p>docker内的应用访问宿主机上的mysql和Redis<br>
背景：宿主机部署MySQL、Redis，docker内部署tomcat、jdk<br>
需求：tomcat内的应用访问宿主机的MySQL和Redis<br>
方法：<br>
一、连接地址切记不能用localhost和127.0.0.1<br>
这些地址代表的都是容器内的系统，根本没有访问到宿主机，会一直报连接mysql/redis异常。<br>
二、用docker的虚拟网卡地址<br>
在宿主机查询网卡情况</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>docker安装Oracle容器</title>
      <link>https://blog.lxip.top/notes/docker/docker%E5%AE%89%E8%A3%85Oracle%E5%AE%B9%E5%99%A8.html</link>
      <guid>https://blog.lxip.top/notes/docker/docker%E5%AE%89%E8%A3%85Oracle%E5%AE%B9%E5%99%A8.html</guid>
      <source url="https://blog.lxip.top/rss.xml">docker安装Oracle容器</source>
      <description>使用docker方式手动方式安装各类容器（服务） 镜像查找方式：https://hub.docker.com/ 安装Oracle 参考1：https://blog.csdn.net/javaboyweng/article/details/125486242 参考2：Docker-14：Docker安装Oracle11g (赞) 参考3：[docker安...</description>
      <category>docker</category>
      <category>安装教程</category>
      <pubDate>Thu, 26 Oct 2023 10:00:13 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>使用docker方式手动方式安装各类容器（服务）</p>
</blockquote>
<p>镜像查找方式：<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/</a></p>
<h2>安装Oracle</h2>
<blockquote>
<p>参考1：<a href="https://blog.csdn.net/javaboyweng/article/details/125486242" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/javaboyweng/article/details/125486242</a></p>
<p>参考2：<a href="https://developer.aliyun.com/article/1025085" target="_blank" rel="noopener noreferrer">Docker-14：Docker安装Oracle11g</a>  (赞)</p>
<p>参考3：[<a href="https://cloud.tencent.com/developer/article/2177523" target="_blank" rel="noopener noreferrer">docker安装Oracle数据库-腾讯云开发者社区-腾讯云 (tencent.com)</a>] (赞)</p>
<p>镜像：<a href="https://hub.docker.com/r/akaiot/oracle_11g" target="_blank" rel="noopener noreferrer">https://hub.docker.com/r/akaiot/oracle_11g</a></p>
<p>安装视频教程：<a href="https://www.bilibili.com/video/BV1sf4y177md" target="_blank" rel="noopener noreferrer">参考</a></p>
</blockquote>
<p>这里使用云服务器，通过docker方式安装Oracle容器</p>
<blockquote>
<p>服务器使用的是2核4G的，</p>
</blockquote>
<h3>操作</h3>
<blockquote>
<p>前置知识需要熟悉docker常用命令</p>
</blockquote>
<p>拉取镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>启动容器：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -d -it -p 1521:1521 \</span></span>
<span class="line"><span>--name oracle \</span></span>
<span class="line"><span>--restart=always \</span></span>
<span class="line"><span>--mount source=oracle_vol,target=/home/oracle/app/oracle/oradata registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>--mount source=oracle_vol,</p>
<p>target=/home/oracle/app/oracle/oradata ，服务器本地目录，可以自定义，比如：/root/docker-data/oracle/oracledata</p>
<p>registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</p>
</blockquote>
<p>修改文件，先进入容器内，执行一下操作：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker exec -it oracle /bin/bash </span></span>
<span class="line"><span>#切换root用户 </span></span>
<span class="line"><span>su root</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后输入密码</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#密码:</span></span>
<span class="line"><span>helowin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>修改<code>/etc/profile</code>文件，将ORACLE_HOME和ORACLE_SID配置到其中，然后生效。
输入：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vi /etc/profile</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#配置内容</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> ORACLE_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">home</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">oracle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">oracle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">product</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">dbhome_2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> ORACLE_SID</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">helowin</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$ORACLE_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$PATH</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p><code>--restart</code>表示docker重启是容器自动重启</p>
<p><code>--mount</code>表示要将Host上的路径挂载到容器中</p>
<p>export ORACLE_SID=helowin ，ORACLE_SID=自定义sid，后面连接的时候会用到</p>
</blockquote>
<p>然后让配置文件生效：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#配置文件生效</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/profile</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>创建<a href="https://so.csdn.net/so/search?q=%E8%BD%AF%E8%BF%9E%E6%8E%A5&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">软连接</a></p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> $ORACLE_HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/bin/sqlplus</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /usr/bin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>登录sqlplus</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#切换回oracle用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> oracle</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动了一个客户端进程</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sqlplus</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /nolog</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 连接身份</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> as</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sysdba</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#修改system帐号的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identified</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 密码</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#修改sys帐号的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sys</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identified</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 密码</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 设置密码永不过期：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> profile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> default</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> limit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> PASSWORD_LIFE_TIME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> UNLIMITED</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建一个用户(看自己了)</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#创建用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> jiefei</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identified</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 用户名</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#赋权限给用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">grant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> connect,resource,dba</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 用户名</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>顺带修改一下连接次数：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> processes=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1000</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> scope=spfile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>还有一步，修改以上信息后，需要重新启动数据库；</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">conn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /as</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sysdba</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>数据库服务关闭：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">shutdown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> immediate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>数据库服务启动：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">startup</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>退出软链接：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">exit</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>工具连接</h3>
<p>使用的是Navicat Premium16工具连接Oracle数据库进行测试。</p>
<blockquote>
<p>工具下载：<a href="https://blogs.lxip.top/questionskills/software/tool.html" target="_blank" rel="noopener noreferrer">参考这里</a></p>
</blockquote>
<h3>可能遇到问题</h3>
<p>当执行修改密码的时候出现 ： database not open</p>
<p>解决办法：</p>
<p>输入：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> database</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>输入 ：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">alter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> database</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>然后就可修改数据库密码的命令了</p>
<p>改完之后输入：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>刷新下表</p>
<blockquote>
<p>exit 表示退出sql，软连接 i</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>xxl-job使用</title>
      <link>https://blog.lxip.top/notes/projectintegration/xxl-job%E4%BD%BF%E7%94%A8.html</link>
      <guid>https://blog.lxip.top/notes/projectintegration/xxl-job%E4%BD%BF%E7%94%A8.html</guid>
      <source url="https://blog.lxip.top/rss.xml">xxl-job使用</source>
      <description>这里使用xxl-job-admin 2.3.1版本做演示 xxl-job访问地址：http://127.0.0.1:8098/xxl-job-admin 端口跟application.properties 配置对应上，默认的用户名：admin 密码：123456 导入数据库 xxl-job使用的是mysql数据库，版本是mysql5.7或者使用mysq...</description>
      <category>xxl-job</category>
      <pubDate>Sun, 22 Oct 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>这里使用xxl-job-admin 2.3.1版本做演示</p>
</blockquote>
<p>xxl-job访问地址：<a href="http://127.0.0.1:8098/xxl-job-admin" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8098/xxl-job-admin</a></p>
<blockquote>
<p>端口跟application.properties 配置对应上，默认的用户名：admin
密码：123456</p>
</blockquote>
<h2>导入数据库</h2>
<blockquote>
<p>xxl-job使用的是mysql数据库，版本是mysql5.7或者使用mysql8都可以</p>
</blockquote>
<p>将xxl-job项目中的对应版本的对应数据库，导入到mysql数据库中。</p>
<h2>修改配置</h2>
<p>如：数据库名为：xxl_job
则application.properties配置中连接的url为：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>spring.datasource.url=jdbc:mysql://127.0.0.1:3306/xxl_job?useUnicode=true&amp;characterEncoding=UTF-8&amp;autoReconnect=true&amp;serverTimezone=Asia/Shanghai  </span></span>
<span class="line"><span>spring.datasource.username=root  </span></span>
<span class="line"><span>spring.datasource.password=root  </span></span>
<span class="line"><span>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>与自己的数据库的用户名对应上</p>
</blockquote>
<h2>启动xxl-job项目</h2>
<p>xxl-job-admin项目中的application.properties
关键配置修改：</p>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### web  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">8099  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server.servlet.context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/xxl-job-admin  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### actuator  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">management.server.servlet.context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/actuator  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">management.health.mail.enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">false  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### resources  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mvc.servlet.load-on-startup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">0  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mvc.static-path-pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/static/**  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.resources.static-locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/static/  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### freemarker  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.templateLoaderPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/templates/  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.suffix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">.ftl  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.charset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">UTF-8  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.request-context-attribute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">request  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.settings.number_format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">0.</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">##########  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### mybatis  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">mybatis.mapper-locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/mybatis-mapper/*Mapper.xml  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#mybatis.type-aliases-package=com.xxl.job.admin.core.model  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, datasource  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">jdbc:mysql://127.0.0.1:3306/xxl_job?</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">useUnicode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">characterEncoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">UTF-8&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">autoReconnect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">serverTimezone</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">Asia/Shanghai  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">root  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">root  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">com.mysql.cj.jdbc.Driver  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### datasource-pool  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">com.zaxxer.hikari.HikariDataSource  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.minimum-idle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.maximum-pool-size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.auto-commit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.idle-timeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.pool-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">HikariCP  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.max-lifetime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">900000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.connection-timeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.connection-test-query</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">SELECT 1  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, email  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">smtp.qq.com  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">25  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">xxx@qq.com  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">xxx  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.auth</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.starttls.enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.starttls.required</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.socketFactory.class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">javax.net.ssl.SSLSocketFactory  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, access token  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.accessToken</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">default_token</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, i18n (default is zh_CN, and you can choose "zh_CN", "zh_TC" and "en")  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.i18n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">zh_CN  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">## xxl-job, triggerpool max size  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.triggerpool.fast.max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">200  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.triggerpool.slow.max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">100  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, log retention days  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.logretentiondays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：目前只需要修改端口、数据库连接地址（用户名、密码）、accessToken</p>
</blockquote>
<h2>配置任务调度</h2>
<p>找到执行器：
添加xxl.job.executor.appname配置对应的值：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>xxl.job.executor.appname=xxl-job-executor-sample</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><figcaption></figcaption></figure>
<figure><figcaption></figcaption></figure>
<p>配置好，点击保存：
</p>
<p>效果：
</p>
<p>在任务管理中新增任务，配置如下：</p>
<figure><figcaption></figcaption></figure>
<h2>运行案例</h2>
<figure><figcaption></figcaption></figure>
<blockquote>
<p>记得修改对应配置</p>
</blockquote>
<p>案例配置：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># web port  </span></span>
<span class="line"><span>server.port=8079  </span></span>
<span class="line"><span># no web  </span></span>
<span class="line"><span>#spring.main.web-environment=false  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span># log config  </span></span>
<span class="line"><span>logging.config=classpath:logback.xml  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>### xxl-job admin address list, such as "http://address" or "http://address01,http://address02"  </span></span>
<span class="line"><span>xxl.job.admin.addresses=http://127.0.0.1:8098/xxl-job-admin  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>### xxl-job, access token  </span></span>
<span class="line"><span>xxl.job.accessToken=default_token  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>### xxl-job executor appname  </span></span>
<span class="line"><span>xxl.job.executor.appname=xxl-job-executor-sample  </span></span>
<span class="line"><span>### xxl-job executor registry-address: default use address to registry , otherwise use ip:port if address is null  </span></span>
<span class="line"><span>xxl.job.executor.address=  </span></span>
<span class="line"><span>### xxl-job executor server-info  </span></span>
<span class="line"><span>xxl.job.executor.ip=  </span></span>
<span class="line"><span>xxl.job.executor.port=9999  </span></span>
<span class="line"><span>### xxl-job executor log-path  </span></span>
<span class="line"><span>xxl.job.executor.logpath=/data/applogs/xxl-job/jobhandler  </span></span>
<span class="line"><span>### xxl-job executor log-retention-days  </span></span>
<span class="line"><span>xxl.job.executor.logretentiondays=30</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后自动注册到执行器管理对应的配置中：
</p>
<figure><figcaption></figcaption></figure>
<p>在任务管理中执行该任务：
点击执行一次，测试是否调度成功
</p>
<p>在调度日志中查看当前的记录：
</p>
]]></content:encoded>
    </item>
    <item>
      <title>spring项目整合xxl-job</title>
      <link>https://blog.lxip.top/notes/projectintegration/spring%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88xxl-job.html</link>
      <guid>https://blog.lxip.top/notes/projectintegration/spring%E9%A1%B9%E7%9B%AE%E6%95%B4%E5%90%88xxl-job.html</guid>
      <source url="https://blog.lxip.top/rss.xml">spring项目整合xxl-job</source>
      <description>背景 当你的项目中还在使用配置管理定时任务时，为了提高效率，提高可用性，你就需要一个可以可视化的定时任务管理工具来对项目进行管理，而xxl-job就不错的选择。 准备工作 环境和版本确定 这里选择：xxl-job-admin-2.3.1版本、需要用到了jdk1.8 项目地址：https://gitee.com/xuxueli0323/xxl-job/t...</description>
      <category>xxl-job</category>
      <category>项目整合</category>
      <pubDate>Thu, 19 Oct 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>当你的项目中还在使用配置管理定时任务时，为了提高效率，提高可用性，你就需要一个可以可视化的定时任务管理工具来对项目进行管理，而xxl-job就不错的选择。</p>
<h2>准备工作</h2>
<h3>环境和版本确定</h3>
<p>这里选择：xxl-job-admin-2.3.1版本、需要用到了jdk1.8</p>
<p>项目地址：<a href="https://gitee.com/xuxueli0323/xxl-job/tree/2.3.1/" target="_blank" rel="noopener noreferrer">https://gitee.com/xuxueli0323/xxl-job/tree/2.3.1/</a></p>
<blockquote>
<p>项目地址：<a href="https://github.com/xuxueli/xxl-job" target="_blank" rel="noopener noreferrer">xuxueli/xxl-job: A distributed task scheduling framework.（分布式任务调度平台XXL-JOB） (github.com)</a></p>
<p>官方文档：<a href="https://www.xuxueli.com/xxl-job" target="_blank" rel="noopener noreferrer">https://www.xuxueli.com/xxl-job</a></p>
</blockquote>
<h3>xxl-job-admin项目配置修改</h3>
<p>xxl-job-admin项目中的application.properties
关键配置修改：</p>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### web  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">8099  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server.servlet.context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/xxl-job-admin  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### actuator  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">management.server.servlet.context-path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/actuator  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">management.health.mail.enabled</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">false  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### resources  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mvc.servlet.load-on-startup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">0  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mvc.static-path-pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/static/**  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.resources.static-locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/static/  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### freemarker  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.templateLoaderPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/templates/  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.suffix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">.ftl  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.charset</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">UTF-8  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.request-context-attribute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">request  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.freemarker.settings.number_format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">0.</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">##########  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### mybatis  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">mybatis.mapper-locations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">classpath:/mybatis-mapper/*Mapper.xml  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#mybatis.type-aliases-package=com.xxl.job.admin.core.model  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, datasource  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">jdbc:mysql://127.0.0.1:3306/xxl_job?</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">useUnicode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">characterEncoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">UTF-8&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">autoReconnect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true&amp;</span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">serverTimezone</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">Asia/Shanghai  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">root  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">root  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.driver-class-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">com.mysql.cj.jdbc.Driver  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### datasource-pool  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">com.zaxxer.hikari.HikariDataSource  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.minimum-idle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.maximum-pool-size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.auto-commit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.idle-timeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.pool-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">HikariCP  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.max-lifetime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">900000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.connection-timeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">10000  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.datasource.hikari.connection-test-query</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">SELECT 1  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, email  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">smtp.qq.com  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">25  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.username</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">xxx@qq.com  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">xxx  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.auth</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.starttls.enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.starttls.required</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">true  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">spring.mail.properties.mail.smtp.socketFactory.class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">javax.net.ssl.SSLSocketFactory  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, access token  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.accessToken</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">default_token</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, i18n (default is zh_CN, and you can choose "zh_CN", "zh_TC" and "en")  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.i18n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">zh_CN  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">## xxl-job, triggerpool max size  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.triggerpool.fast.max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">200  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.triggerpool.slow.max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">100  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, log retention days  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.logretentiondays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：目前只需要修改端口、数据库连接地址（用户名、密码）、accessToken</p>
</blockquote>
<h2>项目整合xxl-job</h2>
<blockquote>
<p>项目环境：jdk1.8、idea2022.2.2</p>
</blockquote>
<h3>项目目录结构</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>project      # 项目名称</span></span>
<span class="line"><span>├── src</span></span>
<span class="line"><span>│        └── com   # 存放Java源代码</span></span>
<span class="line"><span>│                   └── example</span></span>
<span class="line"><span>│                              └── Foo.java</span></span>
<span class="line"><span>├──  resources   # 存放项目所需的资源（例如配置文件等）</span></span>
<span class="line"><span>└── webapp   # 存放Web应用程序的文件 （名称可自定义）</span></span>
<span class="line"><span>│          └── WEB-INF</span></span>
<span class="line"><span>│                        ├── lib   # 存放jar包的地方</span></span>
<span class="line"><span>│                        ├── web.xml   # 项目的主配置文件</span></span>
<span class="line"><span>│                        └── views   # 存放JSP页面和静态资源</span></span>
<span class="line"><span>├── test  # # 存放测试代码</span></span>
<span class="line"><span>└── README.md   # 项目的说明文档</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>依赖添加</h3>
<p>记得将xxl-job-core-2.3.1.jar引入到项目lib中。</p>
<blockquote>
<p>如你使用的maven，那就添加对应的依赖到pom.xml</p>
</blockquote>
<h3>配置修改</h3>
<p>修改对应的配置在resouce目录下可自行修改</p>
<blockquote>
<p>如你使用的是springboot项目，那就容易多了，就不需要这么繁琐的配置文件了。</p>
</blockquote>
<h4>xxl-job-executor.properties</h4>
<div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job admin address list, such as "http://address" or "http://address01,http://address02"  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.admin.addresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">http://127.0.0.1:8099/xxl-job-admin  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job, access token  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.accessToken</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">default_token  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job executor appname  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.appname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">xxl-job-executor-sample  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job executor registry-address: default use address to registry , otherwise use ip:port if address is null  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job executor server-info  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.ip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">9999  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job executor log-path  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.logpath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">/data/applogs/xxl-job/jobhandler  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">### xxl-job executor log-retention-days  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">xxl.job.executor.logretentiondays</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379">30</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>xxl.job.admin.addresses ：与启动xxl-job-admin项目启动运行的地址对应</p>
<p>xxl.job.accessToken： 与启动xxl-job-admin项目中配置的accessToken对应</p>
<p>xxl.job.executor.appname：执行器的名称自定义，后面配置xxl-job执行器管理会使用到</p>
</blockquote>
<h4>applicationcontext-xxl-job.xml</h4>
<div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;?</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">xml</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1.0"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> encoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"UTF-8"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">?&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">beans</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> xmlns</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://www.springframework.org/schema/beans"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">       xmlns:xsi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://www.w3.org/2001/XMLSchema-instance"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">       xmlns:context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://www.springframework.org/schema/context"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">       xsi:schemaLocation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"http://www.springframework.org/schema/beans  </span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">           http://www.springframework.org/schema/beans/spring-beans.xsd           http://www.springframework.org/schema/context           http://www.springframework.org/schema/context/spring-context.xsd"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bean</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"propertyConfigurer"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"org.springframework.context.support.PropertySourcesPlaceholderConfigurer"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"fileEncoding"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"utf-8"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"locations"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">         &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;            &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;classpath*:xxl-job-executor.properties&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">         &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;   &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    &lt;!-- ********************************* 基础配置 ********************************* --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   &lt;!-- 配置01、JobHandler 扫描路径，更改为自己新建的SampleXxlJob类所在包的路径 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">context:component-scan</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> base-package</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"com.xxl.job.executor.service.jobhandler"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   &lt;!-- 配置02、执行器 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bean</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xxlJobSpringExecutor"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"com.xxl.job.core.executor.impl.XxlJobSpringExecutor"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 执行器注册中心地址[选填]，为空则关闭自动注册 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"adminAddresses"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.admin.addresses}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 访问令牌[选填]，非空则进行匹配校验 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"accessToken"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.accessToken}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 执行器AppName[选填]，为空则关闭自动注册 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"appname"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.appname}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 注册地址[选填]，优先使用该配置作为注册地址，为空时使用内嵌服务 ”IP:PORT“ 作为注册地址 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"address"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.address}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 执行器IP[选填]，为空则自动获取 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"ip"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.ip}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 执行器端口号[选填]，小于等于0则自动获取 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"port"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.port}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 执行器日志路径[选填]，为空则使用默认路径 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"logPath"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.logpath}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      &lt;!-- 日志保存天数[选填]，值大于3时生效 --&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">property</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"logRetentionDays"</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"${xxl.job.executor.logretentiondays}"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> /&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">beans</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这里只需要修改： &lt;context:component-scan base-package="com.xxl.job.executor.service.jobhandler" /&gt; 对应的扫描包</p>
</blockquote>
<h4>XxlJob开发示例类</h4>
<p>SampleXxlJob</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>package com.xxl.job.executor.service.jobhandler;  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>import com.xxl.job.core.biz.model.ReturnT;  </span></span>
<span class="line"><span>import com.xxl.job.core.handler.annotation.XxlJob;  </span></span>
<span class="line"><span>import org.slf4j.Logger;  </span></span>
<span class="line"><span>import org.slf4j.LoggerFactory;  </span></span>
<span class="line"><span>import org.springframework.stereotype.Component;  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>import java.util.concurrent.TimeUnit;  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>/**  </span></span>
<span class="line"><span> * XxlJob开发示例（Bean模式）  </span></span>
<span class="line"><span> *  </span></span>
<span class="line"><span> * 开发步骤：  </span></span>
<span class="line"><span> * 1、在Spring Bean实例中，开发Job方法，方式格式要求为 "public ReturnT&lt;String&gt; execute(String param)"  </span></span>
<span class="line"><span> * 2、为Job方法添加注解 "@XxlJob(value="自定义jobhandler名称", init = "JobHandler初始化方法", destroy = "JobHandler销毁方法")"，注解value值对应的是调度中心新建任务的JobHandler属性的值。  </span></span>
<span class="line"><span> * 3、执行日志：需要通过 "XxlJobLogger.log" 打印执行日志；  </span></span>
<span class="line"><span> */  </span></span>
<span class="line"><span>@Component  </span></span>
<span class="line"><span>public class SampleXxlJob {  </span></span>
<span class="line"><span>    private static Logger logger = LoggerFactory.getLogger(SampleXxlJob.class);  </span></span>
<span class="line"><span>    /**  </span></span>
<span class="line"><span>     * 1、简单任务示例（Bean模式）  </span></span>
<span class="line"><span>     */  </span></span>
<span class="line"><span>    @XxlJob("demoJobHandler")  </span></span>
<span class="line"><span>    public ReturnT&lt;String&gt; demoJobHandler(String param) throws Exception {  </span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>        for (int i = 0; i &lt; 5; i++) {  </span></span>
<span class="line"><span>            logger.info("test:"+i);  </span></span>
<span class="line"><span>            TimeUnit.SECONDS.sleep(2);  </span></span>
<span class="line"><span>        }  </span></span>
<span class="line"><span>        return ReturnT.SUCCESS;  </span></span>
<span class="line"><span>    }  </span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>@XxlJob("demoJobHandler")  ：这里的demoJobHandler会在任务管理器中使用到。
当你执行点执行时，就会触发demoJobHandler方法</p>
</blockquote>
<h4>web.xml</h4>
<p>原本的web.xml配置：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;context-param&gt;</span></span>
<span class="line"><span>	&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span></span>
<span class="line"><span>	&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;</span></span>
<span class="line"><span>&lt;/context-param&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>web.xml修改后为：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;context-param&gt;</span></span>
<span class="line"><span>	&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span></span>
<span class="line"><span>	&lt;param-value&gt;classpath*:applicationContext-*.xml&lt;/param-value&gt;</span></span>
<span class="line"><span>&lt;/context-param&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>这里时匹配applicationContext前缀的xml文件，进行加载对应的配置。</p>
</blockquote>
<h2>xxl-job使用</h2>
<p>参考我的另外一篇教程。</p>
<h2>附件</h2>
<p>最后说明一下项目，本项目是使用eclipse编写的，如使用idea打开，就需要修改相应的环境配置，使用的技术栈有：spring、mybaits、Oracle、mongdb、quartz等。在整合xxl-job时，并不能直接按照项目来配置。</p>
]]></content:encoded>
    </item>
    <item>
      <title>熟悉项目 &amp; idea导入eclipse项目</title>
      <link>https://blog.lxip.top/questionskills/softguide/eclipse%E9%A1%B9%E7%9B%AE%E5%9C%A8idea%E4%B8%AD%E6%89%93%E5%BC%80.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/eclipse%E9%A1%B9%E7%9B%AE%E5%9C%A8idea%E4%B8%AD%E6%89%93%E5%BC%80.html</guid>
      <source url="https://blog.lxip.top/rss.xml">熟悉项目 &amp; idea导入eclipse项目</source>
      <description>背景 当你拿到一个项目时，这个项目可能跟你想象得不一样，它跟你平时写的项目不一致。这时，你需要先确定是先项目是什么项目、使用的环境是怎么的？可能你会遇到这样那样的问题，在同一台服务器上有多人共同使用，遇到权限问题、安装软件重启服务器问题、配置不生效问题等。 开发工具的选择 是选择使用eclipse还是idea，根据自己的使用习惯。 环境： 可能拿到一个...</description>
      <category>项目</category>
      <pubDate>Mon, 16 Oct 2023 10:36:13 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>当你拿到一个项目时，这个项目可能跟你想象得不一样，它跟你平时写的项目不一致。这时，你需要先确定是先项目是什么项目、使用的环境是怎么的？可能你会遇到这样那样的问题，在同一台服务器上有多人共同使用，遇到权限问题、安装软件重启服务器问题、配置不生效问题等。</p>
<h2>开发工具的选择</h2>
<p>是选择使用eclipse还是idea，根据自己的使用习惯。</p>
<p>环境：
可能拿到一个项目，无法直接确定项目中使用的jdk版本、缺失的依赖等。</p>
<p>这里以idea为例</p>
<h2>环境配置</h2>
<p>开发环境：windows Server 2008 R2 Enterprise  64为操作系统</p>
<p>sbf项目</p>
<p>jdk1.8</p>
<p>idea2022.02.02、tomcat8.5</p>
<p>svn1.14.5.29465-x64</p>
<blockquote>
<p>对应需要安装vc_redist.x64.exe环境</p>
</blockquote>
<h2>导入项目</h2>
<p>首先拿到项目地址：</p>
<p>使用svn拉到本地目录位置（自定义）</p>
<p>项目本身是eclipse编写的，由此你需要会如何将eclipse项目导入到idea中：
教程可以参考这：<a href="https://blog.csdn.net/weixin_43435032/article/details/127067473?spm=1001.2014.3001.5506" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_43435032/article/details/127067473?spm=1001.2014.3001.5506</a></p>
<p>在idea中找到File --&gt; New --&gt; Project from Existing Sources，选择你需要导入的项目。</p>
<blockquote>
<p>因为这里是eclipse项目</p>
</blockquote>
<p>导入项目后会弹出 Import Project 界面：
选择 Import project from external model (默认选项)，然后选择选项 Eclipse ，
点击下一步（Next），默认配置，点击下一步，后会进行扫描，等待一下即可。
然后勾选对应的项目，点击下一步，点到最后，选择JDK版本，这里选择JDK1.8，
最后点击创建（Create），项目导入完成。</p>
<h2>配置项目</h2>
<p>打开导入的项目后：</p>
<p>在idea中，找到 File --&gt; Project Structure ，
然后开始配置。</p>
<h3>第一步：确定Project中jdk版本</h3>
<p>选择SDK对应的JDK1.8</p>
<h3>第二步：Modules (模块)</h3>
<p>点击左上方 + （加号），找到 Web 点击加入。
然后点击项目名称，找到 Dependencies后，点击下面的 + （加号），
点击 Library 添加对应的 Tomcat 。</p>
<h3>第三步：Libraries</h3>
<p>点击 Libraries，点击左上方 + （加号），点击Java，然后找到项目对应的依赖路径位置 lib，
点击添加 lib 即可</p>
<blockquote>
<p>一般lib位置在WEB-INF目录下</p>
</blockquote>
<h3>第四步：Facets</h3>
<p>点击 Facets，点击左上方 + （加号），找到 Web 点击添加项目对应的模块</p>
<blockquote>
<p><strong>重点来了</strong></p>
</blockquote>
<p>点击 样式类似于   Web（项目名）的位置后，
定位到Deployment Descriptors位置下方：
点击 type下方的 Web Module Deployment Descriptor 之后，点击编辑（Edit），选择项目中对应的web.xml文件。</p>
<blockquote>
<p>这里注意了，一般项目中 是 web  --&gt; WEB-INF --&gt; web.xml文件，
但是 这个项目的web存放路径也可以自定义，比如 名称叫 interfacePlatform  ，下面存放WEB-INF --&gt; web.xml文件，存放静态资源，存放对应的jar包。</p>
</blockquote>
<p>定位到 Web Resource Directories 位置：
点击下方的路径，然后点击编辑按钮，修改静态资源存放路径的主目录，例如项目存放静态资源的主目录名为 interfacePlatform，</p>
<h3>第五步：Artifacts</h3>
<p>点击 Artifacts，点击左上方 + （加号），找到 Web Application：Exlpoded --&gt; From Modules</p>
<p>选择项目中对应的模块，点OK即可。</p>
<p>第六步：找到 Platform Settings 位置
点击 Problems ，如果有提示 fixed，就点击修复一下</p>
<p>最后，点击右下角的 Apply（应用），点 OK，这里就配置完成了。</p>
<h2>配置tomcat</h2>
<p>在idea中找到 File --&gt; Settings --&gt; Build Execution，Deployment，
然后找到 Application Servers并点击之后，
点击左上方 + （加号），找到 Tomcat Server，
添加Tomcat Home目录位置，然后下方的 Tomcat base directory就自动加上路径，点击OK就可以了，最后点击Apply（应用）和 OK</p>
<p>点击右上角的“Add configuration”，点击左上方 + （加号），找到 Tomcat Server --&gt; Local
点击local后，点击 Tomcat 8.5.23 ，在右边找到Deployment，在下方 Deploy at the server startup，这一步默认可以省掉，原因是在上面  第五步：Artifacts  就已经配置好了。</p>
<p>如果你想请求路径不带有项目名，你就在 Application context下方，去掉项目名称直接留下 / (斜杠)即可。</p>
<p>最后就点击 Apply（应用）和 OK 。</p>
<p>最最后就可以稳定启动项目了。</p>
<h2>启动项目</h2>
<p>可能遇到问题，tomcat端口占用，修改端口即可</p>
<p>项目中依赖问题，缺少依赖就添加对应的jar包，如果是测试类中缺少依赖就注释掉对应的代码。</p>
<p>有时候还是有问题，就需要rebuild --&gt; Rebuild Project (重新构建项目)</p>
<h2>遇到的问题</h2>
<h3>问题一：svn使用问题</h3>
<p>如果你使用的svn是TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi版本时，你在idea的设置中，找到version Control（版本控制），找到Subversion，找到 Path to Subversion executable 配置svn启动exe。
但是在TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi 版本对应的安装目录下，貌似没有svn.exe文件。
idea就会提示找到svn对应的.exe</p>
<p>使用TortoiseSVN-1.8.8.25755-x64-svn-1.8.10.msi时idea提示报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Cant's use Subversion command line client D:\ProgramFiles\TortoiseSVN\bin\svn.exe</span></span>
<span class="line"><span>The path to the Subversion excutable is probably wrong</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方法：
我是直接换一个svn版本：TortoiseSVN-1.14.5.29465-x64-svn-1.14.2.msi
这个安装时也会提示报错，说缺少windows Server 2008 R2 Enterprise缺少组件，于是找到对应的组件包（vc_redist.x64.exe）安装即可解决问题。</p>
<h2>问题二</h2>
<p>idea中可能报错：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>java：常量字符串过长</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>原因是：将eclipse项目导入到idea中，会遇到这样的问题。</p>
<p>解决方法：
在idea设置中找到Build，Execution，Deploymentw位置，点击Compiler，点击Java Compiler，找到Use comiler，然后选择eclipse，点击Apply（应用），点OK即可。</p>
<blockquote>
<p>注意：在没有出现这样的问题的情况下，还是使用Javac，每个项目的使用情况可能不同。
还有，如果之前改为了eclipse，后面换了一个项目，建议及时改回Javac，然后后面编译总是报错，也找到问题所在，那就很难受了。</p>
<p>不过呢，对于现在SpringBoot项目一般不会出现这样的问题。</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>Cloudfare和Telegraph-Image-实现图床搭建</title>
      <link>https://blog.lxip.top/questionskills/techguide/Cloudfare%E5%92%8CTelegraph-Image-%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA.html</link>
      <guid>https://blog.lxip.top/questionskills/techguide/Cloudfare%E5%92%8CTelegraph-Image-%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Cloudfare和Telegraph-Image-实现图床搭建</source>
      <description>基于Cloudflare Pages服务和开源图床项目Telegraph来实现免费使用图床。 核心原理就是利用Cloudflare Workers和Pages的免费额度，将图床系统和图片储存都托管在Cloudflare网络中，从而实现一毛不拔 背景 想有个免费、稳定、访问速度还可以的，并且就算图片丢失也没问题的图床工具，于是就有了Telegraph-I...</description>
      <category>图床</category>
      <pubDate>Sun, 15 Oct 2023 09:49:00 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>基于Cloudflare Pages服务和开源图床项目Telegraph来实现免费使用图床。</p>
<p>核心原理就是利用Cloudflare Workers和Pages的免费额度，将图床系统和图片储存都托管在Cloudflare网络中，从而实现一毛不拔</p>
</blockquote>
<h2>背景</h2>
<p>想有个免费、稳定、访问速度还可以的，并且就算图片丢失也没问题的图床工具，于是就有了Telegraph-Image。</p>
<h2>部署和配置</h2>
<h3>fork 仓库 和 部署Telegraph-Image 静态资源</h3>
<p>将 <a href="https://github.com/cf-pages/Telegraph-Image" target="_blank" rel="noopener noreferrer">https://github.com/cf-pages/Telegraph-Image</a>  这个仓库克隆到自己的仓库，然后通过cloudfare中Workers  &amp; Pages ，将克隆好的Github仓库关联，然后进行部署，基本上是点下一步下一步。</p>
<p>首先点击创建一个应用( create application )：
<img src="https://img.nnxx.me/file/0a4d1702892892007890c.png" alt="" loading="lazy"></p>
<p>选择 Pages ，点击关联自己的Github仓库，然后选择克隆后的 Telegraph-Image 仓库
<img src="https://img.nnxx.me/file/94ae08aabc2a6fe4ee91c.png" alt="" loading="lazy"></p>
<p>点击 Telegraph-Image 仓库，然后部署即可。</p>
<figure><img src="https://img.nnxx.me/file/e2ac933717a0c9840efb4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>部署后的效果图：
<img src="https://img.nnxx.me/file/e1fcfc5881514a4f02961.png" alt="" loading="lazy"></p>
<p>配置环境变量：BASIC_USER、BASIC_PASS、ModerateContentApiKey</p>
<blockquote>
<p>用于图床后台管理</p>
<p>BASIC_USER：用户名</p>
<p>BASIC_PASS：密码</p>
<p>ModerateContentApiKey： 用于图片内容审查的API</p>
</blockquote>
<p>ModerateContentApiKey获取地址API的key：<a href="moderatecontent.com">moderatecontent.com</a></p>
<figure><img src="https://img.nnxx.me/file/1c59abff1132c1fdf0955.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3>创建 KV 存储空间</h3>
<p>然后需要创建 KV 作为图片的存储空间</p>
<p>创建 命名空间：
<img src="https://img.nnxx.me/file/529ea5cd707af55ca1756.png" alt="" loading="lazy"></p>
<p>效果：
<img src="https://img.nnxx.me/file/296e6c1b13d4478a3c8ac.png" alt="" loading="lazy"></p>
<p>找到Functions（函数）</p>
]]></content:encoded>
      <enclosure url="https://img.nnxx.me/file/0a4d1702892892007890c.png" type="image/png"/>
    </item>
    <item>
      <title>frp实现p2p远程连接桌面</title>
      <link>https://blog.lxip.top/questionskills/softguide/frp%E5%AE%9E%E7%8E%B0p2p%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A1%8C%E9%9D%A2.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/frp%E5%AE%9E%E7%8E%B0p2p%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A1%8C%E9%9D%A2.html</guid>
      <source url="https://blog.lxip.top/rss.xml">frp实现p2p远程连接桌面</source>
      <description>背景 国内服务器贵，并且宽带越高越贵。在连接一个远程桌面的时候就可能很卡了。而且你想使用国外vps时，连接的时候延迟太高，连接也很卡。想节省服务器带宽或者服务器带宽不理想，由此frp 使用 p2p 模式，点对点穿透，可节约服务器带宽。 对等式网络（peer-to-peer， 简称P2P），又称点对点技术，是无中心服务器、依靠用户群（peers）交换信息...</description>
      <category>frp</category>
      <pubDate>Sat, 14 Oct 2023 16:24:23 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>国内服务器贵，并且宽带越高越贵。在连接一个远程桌面的时候就可能很卡了。而且你想使用国外vps时，连接的时候延迟太高，连接也很卡。想节省服务器带宽或者服务器带宽不理想，由此frp 使用 p2p 模式，点对点穿透，可节约服务器带宽。</p>
<blockquote>
<p><strong>对等式网络</strong>（peer-to-peer， 简称P2P），又称点对点技术，是无中心服务器、依靠用户群（peers）交换信息的互联网体系，它的作用在于，减低以往网路传输中的节点，以降低资料遗失的风险。</p>
<p>优点：仅少量占用服务器带宽，占用的带宽可忽略不计，传输大文件利器！</p>
</blockquote>
<h2>准备工作</h2>
<p>安装教程参考我的另外一篇教程：<a href="https://blog.nnxx.me/posts/e7d9824f.html" target="_blank" rel="noopener noreferrer">frp实现远程桌面连接</a></p>
<blockquote>
<p>注意：上面的操作能实现，下面的配置操作就基本简单了。</p>
<p>下载frp安装包(frp_0.51.2_windows_386)、一台有公网ip的服务器</p>
</blockquote>
<pre><code>实现p2p远程连接，需要两台电脑都安装和配置好客户端
</code></pre>
<figure><img src="https://s2.ax1x.com/2019/01/12/FjUW0x.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2>配置</h2>
<blockquote>
<p>先了解 被访问端、访问端、服务端</p>
<p>被访问端：win10用户a</p>
<p>访问端：win10用户b</p>
<p>服务端：服务器（这里使用的是centos7）</p>
<p>为了兼顾安全和兼容，所以这里使用stcp代理windows电脑的远程桌面（RDP，端口号3389）</p>
</blockquote>
<h3>被访问端（客户端a）配置</h3>
<p>frpc.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器ip地址（公网ip地址）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">authentication_method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># mstsc直接输入公网的IP和端口就能远程       </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[rdp] </span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 3389</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">remote_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7002</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp]</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 3389</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp_xtcp]</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> xtcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 3389</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>服务端配置</h3>
<p>frps.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">binf_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_udp_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">authentication_method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 认证Token的值包含字母大小写数字等</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 可视化面板</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> admin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Dashboard密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_pwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 123456</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7500</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 超时时间为秒，如果没有报错，可以不设置</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">heartbeat_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 90</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">user_conn_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 60</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vhost_http_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 90</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tcp_mux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志文件地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /root/frp/log/frps.log</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  日志等级,分为trace, debug, info, warn, error</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_level</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> info</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志文件保留天数,我保留5天</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_max_days</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 5</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>访问端（客户端b）配置</h3>
<p>frpc.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器ip地址（公网ip地址）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">authentication_method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp_visitor]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">role</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> visitor</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> p2p_rdp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 9090</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp_visitor2]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">role</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> visitor</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> xtcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> p2p_rdp_xtcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 9091</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>win客户端后台运行及开机自启</h2>
<blockquote>
<p>frpc运行时始终有一个命令行窗口运行在前台，影响美观，我们可以使用一个批处理文件来将其运行在后台，而且可以双击执行，每次打开frpc不用再自己输命令了。<br>
在任何一个目录下新建一个文本文件并将其重命名为“frp.bat”，编辑，粘贴如下内容并保存。</p>
</blockquote>
<p>frp.bat</p>
<div class="language-bat line-numbers-mode" data-highlighter="shiki" data-ext="bat" data-title="bat" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">echo</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "</span><span style="--shiki-light:#50A14F;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">%</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "h"</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> goto</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> begin </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">mshta vbscript:createobject(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"wscript.shell"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">).run(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"""</span><span style="--shiki-light:#50A14F;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">%</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">~nx0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"" h"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,0)(window.close)&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-light-font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">REM</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">cd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> C:\frp </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">frpc -c frpc.ini </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">exit</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>将cd后的路径更改为你的frpc实际存放的目录</p>
</blockquote>
<p>win10开机自启frp
简单操作：win+R 输入 "shell:startup" , 进入到开机自启的位置，然后将上述配置好的 frp.bat 文件的快捷方式复制到开机自启的位置。</p>
<blockquote>
<p>注意：之后直接运行这个 .bat 文件即可启动frpc并隐藏窗口（可在任务管理器中退出）。<br>
至于开机启动，把这个 .bat 文件直接扔进Windows的开机启动文件夹就好了 )<br>
客户端配置完成，之后就是你自己根据需要在frpc.ini后追加规则即可。</p>
<p>强烈建议你在使用frp直接测试内网穿透前，先在局域网内测试好相关功能的正常使用，并配置好可能会影响的Windows防火墙等内容，在内网调试通过后再使用frp进行内网穿透测试。</p>
</blockquote>
<h2>连接远程桌面</h2>
<p>通过 远程桌面连接（mstsc远程程序），输入127.0.0.1:9091 并输入账号和密码进行远程登录。这种不受限于服务器的网络限制，可以进行大文件传输。</p>
<blockquote>
<p>远程桌面连接怎么打开？直接win+Q，输入远程桌面连接，点击即可打开，然后输入地址、账号、密码。</p>
</blockquote>
<p>效果：
<img src="https://img.nnxx.me/file/d96263d8a494ba3a00aed.png" alt="" loading="lazy"></p>
<figure><img src="https://img.nnxx.me/file/99b239d563a82414830e9.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<figure><img src="https://img.nnxx.me/file/f275bbd5eb71225f9b0d3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2>配置说明</h2>
<p>参考：<a href="https://gofrp.org/zh-cn/docs/features/xtcp/" target="_blank" rel="noopener noreferrer">XTCP | frp (gofrp.org)</a></p>
<blockquote>
<p>XTCP 的配置方式和 STCP 很类似。但是会采用 P2P 的方式进行打洞穿透，如果成功，后续的流量将不会经过 frps，而是直接通信，不再受到 frps 所在服务器的带宽限制。</p>
<p>由于打洞成功率取决于所处网络的 NAT 类型，所以 XTCP 的可用性和稳定性无法保证。在需要可靠连接的情况下，建议使用 STCP 替代。</p>
<p>当 visitor 配置了&nbsp;<code>keep_tunnel_open = true</code>&nbsp;时，frpc 会定期检测隧道是否打开，如果没有，则会尝试打洞建立隧道，这样可以始终保持隧道打开，在需要连接对端服务时，可以避免延迟。</p>
<p>默认情况下，visitor 会在接收到用户连接后尝试打洞，如果打洞失败，可以尝试多次建立连接，程序会尝试其他的打洞策略，有可能在多次重试后成功打洞。一旦打洞成功，后续新增连接不必重复打洞，而是可以复用隧道。</p>
</blockquote>
<p>自定义配置：<a href="https://gofrp.org/zh-cn/docs/reference/server-configures/" target="_blank" rel="noopener noreferrer">服务端配置 | frp (gofrp.org)</a></p>
<p>个人具体配置：<a href="https://blog.nnxx.me/posts/e1d1124g.html" target="_blank" rel="noopener noreferrer">frp-p2p配置说明</a></p>
<h2>附件</h2>
<p>扩展资料：</p>
<p>frp udp p2p打洞内网穿透net，xtcp点对点直连win远程桌面，速度超快的高性能内网穿透
<a href="https://imold.wang/technology/computer/420.html/2/" target="_blank" rel="noopener noreferrer">https://imold.wang/technology/computer/420.html/2/</a></p>
<p>frp实现p2p远程连接桌面：
<a href="https://www.2280129.xyz/article/000040/frp.html" target="_blank" rel="noopener noreferrer">https://www.2280129.xyz/article/000040/frp.html</a></p>
<p>frp实现p2p远程连接桌面，非服务器中转：
<a href="https://blog.csdn.net/Asachen/article/details/120845923" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Asachen/article/details/120845923</a></p>
]]></content:encoded>
      <enclosure url="https://s2.ax1x.com/2019/01/12/FjUW0x.jpg?imageView2/2/w/1120/q/90/interlace/1/ignore-error/1" type="image/"/>
    </item>
    <item>
      <title>frp-p2p配置说明</title>
      <link>https://blog.lxip.top/questionskills/softguide/frp-p2p%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/frp-p2p%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E.html</guid>
      <source url="https://blog.lxip.top/rss.xml">frp-p2p配置说明</source>
      <description>标准的配置文件 访问者、被访问者都修改frpc.ini,中间的媒婆服务器修改frps.ini，其中的c就是client客户端，s指server服务器。 被访问者：frpc.ini 服务器：frps.ini 访问者：frpc.ini 个人配置文件 被访问者：frpc.ini mstsc表示远程桌面的命令行指令_mstsc_，原来它的意思是Microsof...</description>
      <category>frp</category>
      <pubDate>Sat, 14 Oct 2023 16:12:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>标准的配置文件</h2>
<p>访问者、被访问者都修改frpc.ini,中间的媒婆服务器修改frps.ini，其中的c就是client客户端，s指server服务器。</p>
<p>被访问者：frpc.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 这里是客户端配置，server_addr后写本客户端要连接的服务器的IP地址,默认是0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器IP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 鉴权使用的 token 值，可以自定义</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  启用 TLS 协议加密连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tls_enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[rdp] </span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  这部分是代理配置，将type改为stcp类型的代理</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># sk是密钥，可以自定义。服务端和访问端的密钥需要一致，访问端才能访问到服务端</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abcd1234</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  不需要写远端端口(remote_port)，因为代理的是本地的3389端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">local_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 3389</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>服务器：frps.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  服务端监听地址,0.0.0.0代表此时服务器监听所有发来请求的客户端的IP</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7500</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> admin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_pwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 这里写自己的仪表板admin账户的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 123456</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tcp_mux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  日志文件地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /root/frp/log/frps.log</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志等级,分为trace, debug, info, warn, error</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_level</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> info</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志文件保留天数,我保留5天</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_max_days</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 5</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>访问者：frpc.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器的公网IP地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器暴露给公网的端口，建议数值尽量大些的非知名端口</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  token需要和服务端设置一样的值才能鉴权通过</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  启用 TLS 协议加密连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tls_enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[rdp_visitor] </span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  角色，server是服务端，visitor表示访问端。默认值是server,所以前面的服务器配置可没这一行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">role</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> visitor</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  要访问的 stcp 代理的名字</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> rdp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abcd1234</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  注意sk 要一致，访问者和被访问者的密钥一致，访问者才能和被访问者建立连接</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  绑定本地端口用于访问 远程桌面 服务，这里理解为访问者作为客户端，访问被访问者（目的服务器，不是中间的代理服务器）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 9090</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>个人配置文件</h2>
<p>被访问者：frpc.ini</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[common]</span></span>
<span class="line"><span># 这里是客户端配置，server_addr后写本客户端要连接的服务器(服务端)的IP地址,默认是0.0.0.0</span></span>
<span class="line"><span>server_addr = 服务器ip地址（公网ip地址）</span></span>
<span class="line"><span>server_port = 7000</span></span>
<span class="line"><span>authentication_method = token</span></span>
<span class="line"><span># 鉴权使用的 token 值，可以自定义</span></span>
<span class="line"><span>token = abc123123</span></span>
<span class="line"><span></span></span>
<span class="line"><span># mstsc直接输入公网的IP和端口就能远程       </span></span>
<span class="line"><span>[rdp] </span></span>
<span class="line"><span>type = tcp</span></span>
<span class="line"><span>local_ip = 127.0.0.1</span></span>
<span class="line"><span>local_port = 3389</span></span>
<span class="line"><span># 远程端口</span></span>
<span class="line"><span>remote_port = 7002</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[p2p_rdp]</span></span>
<span class="line"><span>#  这部分是代理配置，将type改为stcp类型的代理</span></span>
<span class="line"><span>type = stcp</span></span>
<span class="line"><span># sk是密钥，可以自定义。服务端和访问端的密钥需要一致，访问端才能访问到服务端</span></span>
<span class="line"><span>sk = cue121212</span></span>
<span class="line"><span>#  不需要写远端端口(remote_port)，因为代理的是本地的3389端口</span></span>
<span class="line"><span>local_ip = 127.0.0.1</span></span>
<span class="line"><span>local_port = 3389</span></span>
<span class="line"><span># 启用后该代理和服务端之间的通信内容都会被加密传输</span></span>
<span class="line"><span>use_encryption = false</span></span>
<span class="line"><span>use_compression = false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[p2p_rdp_xtcp]</span></span>
<span class="line"><span>type = xtcp</span></span>
<span class="line"><span>sk = cue121212</span></span>
<span class="line"><span>local_ip = 127.0.0.1</span></span>
<span class="line"><span>local_port = 3389</span></span>
<span class="line"><span># 启用后该代理和服务端之间的通信内容都会被加密传输</span></span>
<span class="line"><span>use_encryption = false</span></span>
<span class="line"><span>use_compression = false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>mstsc表示远程桌面的命令行指令_mstsc_，原来它的意思是Microsoft Terminal Server Connection微软终端服务器连接的缩写。</p>
</blockquote>
<p>服务器：frps.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  服务端监听地址,0.0.0.0代表此时服务器监听所有发来请求的客户端的IP</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 还可以写127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">binf_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_udp_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">authentication_method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 认证Token的值包含字母大小写数字等</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 可视化面板</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 面板用户名</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> admin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 这里写自己的面板板admin账户的密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_pwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 123456</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 面板端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dashboard_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7500</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 超时时间为秒，如果没有报错，可以不设置</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">heartbeat_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 90</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">user_conn_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 60</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vhost_http_timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 90</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tcp_mux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志文件地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /root/frp/log/frps.log</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  日志等级,分为trace, debug, info, warn, error</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_level</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> info</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 日志文件保留天数,我保留5天</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log_max_days</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 5</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>访问者：frpc.ini</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务器的公网IP地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器ip地址（公网ip地址）</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务器暴露给公网的端口，建议数值尽量大些的非知名端口</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 7000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">authentication_method</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  token需要和服务端设置一样的值才能鉴权通过</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">token</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> abc123123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp_visitor]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  角色：server是服务端，visitor表示访问端。默认值是server，所以前面的服务器配置可没这一行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">role</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> visitor</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  要访问的 stcp 代理的名字</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> p2p_rdp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  注意sk 要一致，访问者和被访问者的密钥一致，访问者才能和被访问者建立连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  绑定本地端口用于访问 远程桌面 服务，这里理解为访问者作为客户端，访问被访问者（目的服务器，不是中间的代理服务器）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 9090</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启用后该代理和服务端之间的通信内容都会被加密传输</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[p2p_rdp_visitor2]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  角色：server是服务端，visitor表示访问端。默认值是server，所以前面的服务器配置可没这一行</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">role</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> visitor</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> xtcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  要访问的 stcp 代理的名字</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> p2p_rdp_xtcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  注意sk 要一致，访问者和被访问者的密钥一致，访问者才能和被访问者建立连接</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cue121212</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#  绑定本地端口用于访问 远程桌面 服务，这里理解为访问者作为客户端，访问被访问者（目的服务器，不是中间的代理服务器）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_addr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bind_port</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 9091</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启用后该代理和服务端之间的通信内容都会被加密传输</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_encryption</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">use_compression</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>win客户端后台运行及开机自启</h2>
<blockquote>
<p>frpc运行时始终有一个命令行窗口运行在前台，影响美观，我们可以使用一个批处理文件来将其运行在后台，而且可以双击执行，每次打开frpc不用再自己输命令了。<br>
在任何一个目录下新建一个文本文件并将其重命名为“frpc.bat”，编辑，粘贴如下内容并保存。</p>
</blockquote>
<div class="language-bat line-numbers-mode" data-highlighter="shiki" data-ext="bat" data-title="bat" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">echo</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "</span><span style="--shiki-light:#50A14F;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">%</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "h"</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> goto</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> begin </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">mshta vbscript:createobject(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"wscript.shell"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">).run(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"""</span><span style="--shiki-light:#50A14F;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">%</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">~nx0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"" h"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,0)(window.close)&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-light-font-style:italic;--shiki-dark:#C678DD;--shiki-dark-font-style:italic">REM</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">cd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> C:\frp </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">frpc -c frpc.ini </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">exit</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>将cd后的路径更改为你的frpc实际存放的目录。</p>
</blockquote>
<blockquote>
<p>之后直接运行这个 .bat 文件即可启动frpc并隐藏窗口（可在任务管理器中退出）。<br>
至于开机启动，把这个 .bat 文件直接扔进Windows的开机启动文件夹就好了 😃<br>
至此，客户端配置完成，之后就是你自己根据需要在frpc.ini后追加规则即可。<br>
强烈建议你在使用frp直接测试内网穿透前，先在局域网内测试好相关功能的正常使用，并配置好可能会影响的Windows防火墙等内容，在内网调试通过后再使用frp进行内网穿透测试。</p>
</blockquote>
<p>windows开机自启动bat文件：
https://www.cnblogs.com/shengruxiahuaya/p/17150459.html</p>
<p>开机自启可以参考：<a href="https://www.vuar.cn/index.php/archives/74/" target="_blank" rel="noopener noreferrer">https://www.vuar.cn/index.php/archives/74/</a></p>
<h2>附件</h2>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/575316935" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/575316935</a></p>
<p>xtcp使用解释：<a href="https://gofrp.org/docs/features/xtcp/" target="_blank" rel="noopener noreferrer">https://gofrp.org/docs/features/xtcp/</a></p>
<p>xtcp参考：<a href="https://doc.natfrp.com/app/xtcp.html" target="_blank" rel="noopener noreferrer">https://doc.natfrp.com/app/xtcp.html</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>mybatis传数值问题</title>
      <link>https://blog.lxip.top/questionskills/workquestions/mybatis-question.html</link>
      <guid>https://blog.lxip.top/questionskills/workquestions/mybatis-question.html</guid>
      <source url="https://blog.lxip.top/rss.xml">mybatis传数值问题</source>
      <description>mybatis传数值问题： 当传 0时，mybatis默认会处理为空串 https://blog.csdn.net/programmer_sir/article/details/45896431 示例： 如果不空null并且不是空字符串才去修改这个值，但这样写只能针对字符串(String)类型，如果是Integer类型的话就会有问题了。 ，0不为空也不...</description>
      <category>Mybatis</category>
      <pubDate>Fri, 13 Oct 2023 10:13:17 GMT</pubDate>
      <content:encoded><![CDATA[<p>mybatis传数值问题：</p>
<blockquote>
<p>当传 0时，mybatis默认会处理为空串</p>
</blockquote>
<p><a href="https://blog.csdn.net/programmer_sir/article/details/45896431" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/programmer_sir/article/details/45896431</a></p>
<p>示例：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;if test="sampleBatchNo != null and sampleBatchNo != ''" &gt; SAMPLE_BATCH_NO = #{sampleBatchNo,jdbcType=VARCHAR}, &lt;/if&gt;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>如果不空null并且不是空字符串才去修改这个值，但这样写只能针对字符串(String)类型，如果是Integer类型的话就会有问题了。</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>int i = 0; i!=''。 mybatis中会返回true。也就是说，mybatis将i==0的值也认定为空字符串。</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>，0不为空也不是空字符串。所以，针对这个问题，我的解决办法是：如果类型为Integer类型，我就去掉 ！= ”的判断，只判断!=null即可。</p>
</blockquote>
<p>参考：<a href="https://blog.csdn.net/liquisong/article/details/50156067" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/liquisong/article/details/50156067</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>多服务器监测面板</title>
      <link>https://blog.lxip.top/questionskills/softguide/%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A3%80%E6%B5%8B%E9%9D%A2%E6%9D%BF.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A3%80%E6%B5%8B%E9%9D%A2%E6%9D%BF.html</guid>
      <source url="https://blog.lxip.top/rss.xml">多服务器监测面板</source>
      <description>✨ Rust 版 ServerStatus 探针、威力加强版 项目地址：zdz/ServerStatus-Rust: ✨ Rust 版 ServerStatus 探针、威力加强版 (github.com) 官方教程：安装部署 - Rust 版 ServerStatus 云探针 (ssr.rs) 在线地址：ServerStatus (ssr.rs) 这是...</description>
      <category>服务器监测</category>
      <pubDate>Sun, 25 Jun 2023 23:33:57 GMT</pubDate>
      <content:encoded><![CDATA[<p>✨&nbsp;Rust 版 ServerStatus 探针、威力加强版</p>
<blockquote>
<p>项目地址：<a href="https://github.com/zdz/ServerStatus-Rust" target="_blank" rel="noopener noreferrer">zdz/ServerStatus-Rust: ✨ Rust 版 ServerStatus 探针、威力加强版 (github.com)</a></p>
<p>官方教程：<a href="https://doc.ssr.rs/deploy/" target="_blank" rel="noopener noreferrer">安装部署 - Rust 版 ServerStatus 云探针 (ssr.rs)</a></p>
<p>在线地址：<a href="https://ssr.rs/" target="_blank" rel="noopener noreferrer">ServerStatus (ssr.rs)</a></p>
<p>这是一个多服务器监测工具</p>
</blockquote>
<p>效果如下：</p>
<figure><figcaption>image-20230626014338353</figcaption></figure>
<h2>1 准备工作</h2>
<p>环境：centos7服务器两台 （建议使用香港服务器）</p>
<blockquote>
<p>建议使用国外的，国内的服务器拉取仓库代码比较慢，可感人了。</p>
</blockquote>
<p>比如：你的服务器环境不支持国外环境，脚本执行拉取远程仓库代码就出现超时，无法完成情况。
我这里使用手动一步安装，也是大致根据脚本来完成的。</p>
<blockquote>
<p>注：在这之前需要了解服务端和客户端是什么，如何将客户端和服务端关联起来</p>
<p>服务端（Server）通常是指提供某种服务或资源的计算机或设备</p>
<p>客户端（Client）是指使用服务端提供的服务或资源的计算机或设备。</p>
<p>服务端和客户端是计算机网络中的两个角色，服务端提供服务或资源，客户端使用服务或获取资源。它们通过网络进行通信，实现数据的传输和交互。</p>
</blockquote>
<blockquote>
<p>在典型的客户端-服务端模型中，通常会存在多个客户端和一个服务端之间的通信。这是因为服务端的目标是为多个客户端提供服务或资源。</p>
<p>客户端和服务端的数量不仅限于一个对多的关系，也可以存在多个服务端。</p>
<p>客户端和服务端通常不只有一个，而是可以存在多个客户端和一个或多个服务端之间的通信。这种多对一或多对多的关系是为了满足大规模应用或系统的需求，并提供更好的性能、可靠性和可扩展性。</p>
<p>例如：</p>
<p>在搭建frp时，将Frp作为中转服务器，连接远程桌面。</p>
<p>这ServerStatus_Rust跟frp搭建有异曲同工之妙，也是一个服务端一个客户端</p>
<p>大致流程：外网连接服务器，通过frp配置的服务器中转连接本地Windows桌面</p>
<p>这里的配置的frp服务端是服务器，客户端是本地Windows桌面</p>
</blockquote>
<p>来一张图更为贴切：</p>
<figure><figcaption>image-20230626020256880</figcaption></figure>
<blockquote>
<p>其中服务端也可以作为客户端，自己给自己实时发送数据，来检测自身数据变化（不限于负载、流量、内存等）</p>
</blockquote>
<p>检测服务器架构：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">uname</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -a</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>下载：<a href="https://github.com/zdz/ServerStatus-Rust/releases/tag/v1.7.2" target="_blank" rel="noopener noreferrer">Release v1.7.2 · zdz/ServerStatus-Rust (github.com)</a></p>
<blockquote>
<p>如果你的服务器是x86 64，就选择如下图安装包。</p>
</blockquote>
<figure><figcaption></figcaption></figure>
<blockquote>
<p>将其上传到服务器 <code>/opt/ServerStatus/</code> 目录下，服务端需要将客户端和服务端都上传</p>
</blockquote>
<p>创建目录：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2>2 服务端搭建</h2>
<blockquote>
<p>需要安装服务端和客户端</p>
</blockquote>
<p>server.sh 配置：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">set</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -ex</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">WORKSPACE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/opt/ServerStatus</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">WORKSPACE</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">WORKSPACE</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 下载, arm 机器替换 x86_64 为 aarch64</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"x86_64"</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">latest_version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -sL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "https://api.github.com/repos/zdz/ServerStatus-Rust/releases/latest"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "tag_name"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">head</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">awk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ":"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '{print $2}'</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 's/\"//g;s/,//g;s/ //g'</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> --no-check-certificate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -qO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "server-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  "https://github.com/zdz/ServerStatus-Rust/releases/download/</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">latest_version</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/server-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">wget</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> --no-check-certificate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -qO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "client-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  "https://github.com/zdz/ServerStatus-Rust/releases/download/</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">latest_version</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/client-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">unzip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "server-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">unzip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "client-</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">OS_ARCH</span><span style="--shiki-light:#E45649;--shiki-dark:#98C379">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">-unknown-linux-musl.zip"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemd service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_server.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 状态查看</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用以下命令开机自启</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl enable stat_server</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl enable stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 停止</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl stop stat_server</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl stop stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># https://fedoraproject.org/wiki/Systemd/zh-cn</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># https://docs.fedoraproject.org/en-US/quick-docs/understanding-and-administering-systemd/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 修改 /etc/systemd/system/stat_client.service 文件，将IP改为你服务器的IP或你的域名</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bash</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -ex</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> server.sh</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>不能执行，就换用手动方式，一步一步执行。</p>
</blockquote>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//上传服务端和客户端压缩包至/opt/ServerStatus目录下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//解压</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">unzip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> server-x86_64-unknown-linux-musl.zip</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">unzip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> client-x86_64-unknown-linux-musl.zip</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//通过ll命令查看是否解压成功是否有</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//将改文件移动到</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemd service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_server.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 状态查看</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_server</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用以下命令开机自启</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl enable stat_server</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl enable stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 停止</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl stop stat_server</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># systemctl stop stat_client</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改配置：</p>
<p>
去掉注释，也就是去掉#号</p>
<p>后面的地址替换成自己服务端反向代理的域名</p>
<p>例如你的域名是：https://w.lxip.top</p>
<p>则替换后就是https://w.lxip.top/report</p>
<blockquote>
<p>如果不想反向代理，或者觉得麻烦，那就直接使用服务器公网ip地址+端口号</p>
<p>例如地址：http://139.212.12.120:8080 （服务端上的），直接替换也行</p>
</blockquote>
<p>服务端与客户端的关联关系：</p>
<figure><figcaption>image-20230626012319564</figcaption></figure>
<figure><figcaption>image-20230626012950615</figcaption></figure>
<blockquote>
<p>config.toml文件对应服务端</p>
</blockquote>
<p>完成配置如下：</p>
<figure><figcaption>image-20230626013208676</figcaption></figure>
<blockquote>
<p>服务端也可以使用第三方平台搭建，如 Railway 部署</p>
<p><a href="https://github.com/zdz/ServerStatus-Rust/wiki/Railway" target="_blank" rel="noopener noreferrer">Railway部署教程</a></p>
</blockquote>
<h2>3 客户端搭建</h2>
<p>client.sh 配置</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#!/bin/bash</span></span>
<span class="line"><span>set -ex</span></span>
<span class="line"><span></span></span>
<span class="line"><span>WORKSPACE=/opt/ServerStatus</span></span>
<span class="line"><span>mkdir -p ${WORKSPACE}</span></span>
<span class="line"><span>cd ${WORKSPACE}</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 下载, arm 机器替换 x86_64 为 aarch64</span></span>
<span class="line"><span>OS_ARCH="x86_64"</span></span>
<span class="line"><span>latest_version=$(curl -m 10 -sL "https://api.github.com/repos/zdz/ServerStatus-Rust/releases/latest" | grep "tag_name" | head -n 1 | awk -F ":" '{print $2}' | sed 's/\"//g;s/,//g;s/ //g')</span></span>
<span class="line"><span></span></span>
<span class="line"><span>wget --no-check-certificate -qO "client-${OS_ARCH}-unknown-linux-musl.zip"  "https://github.com/zdz/ServerStatus-Rust/releases/download/${latest_version}/client-${OS_ARCH}-unknown-linux-musl.zip"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>unzip -o "client-${OS_ARCH}-unknown-linux-musl.zip"</span></span>
<span class="line"><span></span></span>
<span class="line"><span># systemd service</span></span>
<span class="line"><span>mv -v stat_client.service /etc/systemd/system/stat_client.service</span></span>
<span class="line"><span></span></span>
<span class="line"><span>systemctl daemon-reload</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 启动</span></span>
<span class="line"><span>systemctl start stat_client</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 状态查看</span></span>
<span class="line"><span>systemctl status stat_client</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 使用以下命令开机自启</span></span>
<span class="line"><span>systemctl enable stat_client</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 停止</span></span>
<span class="line"><span># systemctl stop stat_client</span></span>
<span class="line"><span></span></span>
<span class="line"><span># https://fedoraproject.org/wiki/Systemd/zh-cn</span></span>
<span class="line"><span># https://docs.fedoraproject.org/en-US/quick-docs/understanding-and-administering-systemd/index.html</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 修改 /etc/systemd/system/stat_client.service 文件，将IP改为你服务器的IP或你的域名</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行：</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bash</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -ex</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> client.sh</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>不能执行，就换用手动方式，一步一步执行。</p>
</blockquote>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//递归创建目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/ServerStatus</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//上传客户端压缩包至/opt/ServerStatus目录下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//解压</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">unzip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> client-x86_64-unknown-linux-musl.zip</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//通过ll命令查看是否解压成功是否有</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//将改文件移动到</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/stat_client.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">//重启加载一下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 状态查看</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stat_client</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>都安装完成后如图所示：
</p>
<p>将客户端注册到服务端上：</p>
<p>打开 stat_client.service 文件：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vim /etc/systemd/system/stat_client.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>修改如下图所示：</p>
<figure><figcaption></figcaption></figure>
<p>配置修改如下：</p>
<figure><figcaption>image-20230626014148113</figcaption></figure>
<h2>搭建nginx反向代理</h2>
<blockquote>
<p>主要是用于将带有端口号的地址反向代理为一个域名（二级域名）</p>
<p>如果你使用ip地址+端口号的形式访问就不需要反向代理了，也就省下这一步骤。</p>
<p>参考：<a href="https://iocky.com/archives/13" target="_blank" rel="noopener noreferrer">ServerStatus-Rust 搭建反向代理部分</a></p>
<p><a href="https://blog.laoda.de/archives/ward-serverstatus-install" target="_blank" rel="noopener noreferrer">ServerStatus 搭建反向代理部分</a></p>
</blockquote>
<h2>卸载服务端和客户端：</h2>
<ol>
<li>先停掉 之前开启的服务
查看服务状态：</li>
</ol>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl status stat_server</span></span>
<span class="line"><span>systemctl status stat_client</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>如果服务状态是active（激活）就需要先停止，使用下面的命令</p>
</blockquote>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl stop stat_server</span></span>
<span class="line"><span>systemctl stop stat_client</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>再执行简单粗暴的方式删除文件夹的文件
在/opt/文件下删除ServerStatus文件夹（包括ServerStatus文件夹所有内容）</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>rm -rf ServerStatus</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：别使用  /* 来删除所文件，小心一不小心就删库了，对于第一次使用删除命令来删除文件夹下所有内容，是很容易犯这样的问题的。
原因：大致是习惯性使用可视化界面，把那种思维方式带到linux下，以为linux跟可视化界面删除方式删除方式相同，这就容易误操作，删库了。禁止这么操作，这是很严重的问题。</p>
</blockquote>
<p>删除完成后使用 ll命令，查看一下是否删除完成</p>
<p>然后还需要删除残余文件：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>rf -rf /etc/systemd/system/stat_server.service</span></span>
<span class="line"><span>rf -rf /etc/systemd/system/stat_client.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>不确定是否有这个两个文件，可以切换到 /etc/systemd/system/目录下检查是否有这个两文件，再做删除操作。</p>
<figure><figcaption></figcaption></figure>
<h2>扩展功能</h2>
<p>服务器挂了，tg机器人发通知或微信通知</p>
<h2>总结</h2>
<p>恕我太愚钝，花了一天多的时间搭建这，尝试了多种方式终于知道怎么看对应的脚步和文档了，小有收获。终于弄明白了severstatus_rust不同服务器之间如何相关联，也对脚本有了更好的认识。</p>
<h2>附件</h2>
<p>参考1：<a href="https://blog.laoda.de/archives/ward-serverstatus-install" target="_blank" rel="noopener noreferrer">搭建两个专属自己的服务器监控——Ward &amp;&amp; ServerStatus</a></p>
<p>参考2：<a href="https://iocky.com/archives/13" target="_blank" rel="noopener noreferrer">ServerStatus-Rust 服务器探针搭建使用</a></p>
<p>参考3：<a href="https://doc.ssr.rs/deploy/" target="_blank" rel="noopener noreferrer">安装部署 - Rust 版 ServerStatus 云探针 (ssr.rs)</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>frp实现远程桌面连接</title>
      <link>https://blog.lxip.top/questionskills/softguide/frp%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5.html</link>
      <guid>https://blog.lxip.top/questionskills/softguide/frp%E5%AE%9E%E7%8E%B0%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5.html</guid>
      <source url="https://blog.lxip.top/rss.xml">frp实现远程桌面连接</source>
      <description>Frp 是一个高性能的反向代理应用程序，它可以帮助您轻松地管理内网中的服务，并且可以将这些服务暴露给公网。Frp 的主要作用是实现内网穿透，使外网用户能够访问内网中的服务。下面是一些 Frp 的应用场景： 内网穿透：通过 Frp，您可以将内网中的服务暴露到公网上，例如 Web 服务器、FTP 服务器、SSH 服务器等。 内网远程桌面：Frp 可以让您在...</description>
      <category>frp</category>
      <pubDate>Thu, 20 Apr 2023 21:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>Frp 是一个高性能的反向代理应用程序，它可以帮助您轻松地管理内网中的服务，并且可以将这些服务暴露给公网。Frp 的主要作用是实现内网穿透，使外网用户能够访问内网中的服务。下面是一些 Frp 的应用场景：</p>
<ol>
<li>内网穿透：通过 Frp，您可以将内网中的服务暴露到公网上，例如 Web 服务器、FTP 服务器、SSH 服务器等。</li>
<li>内网远程桌面：Frp 可以让您在外网使用远程桌面连接到内网中的计算机，方便远程管理和维护。</li>
<li>构建云计算平台：Frp 可以帮助企业构建私有云环境，提供虚拟机、存储和计算资源等服务。</li>
<li>网络监控：Frp 可以用于搭建网络监控系统，通过端口转发将监控服务暴露到公网上，方便管理员远程查看。
总之，Frp 是一款十分实用的工具，可以帮助企业和个人轻松地管理和访问内网中的服务。</li>
</ol>
</blockquote>
<blockquote>
<p>官网：<a href="https://github.com/fatedier/frp/releases/tag/v0.48.0" target="_blank" rel="noopener noreferrer">https://github.com/fatedier/frp/releases/tag/v0.48.0</a>
官方文档：<a href="https://gofrp.org/docs/setup/systemd/" target="_blank" rel="noopener noreferrer">https://gofrp.org/docs/setup/systemd/</a></p>
</blockquote>
<h2>一、背景</h2>
<p>使用todesk个人版(免费)连接远程桌面（win10、win11），在网络环境比较差的情况下，使用起来很不友好，于是就想使用frp这个工具了。</p>
<h2>二、前提</h2>
<p>服务器需要开放安全组规则</p>
<blockquote>
<p>例如以我的阿里云服务器为例</p>
</blockquote>
<p>
具体如何配置请参考：</p>
<h3>frp实现思路：</h3>
<p>首先先明确服务端和客户端是什么？</p>
<blockquote>
<p>FRP 中服务端（Server）和客户端（Client）是指 FRP 这个工具的两个不同角色。
服务端是 FRP 的远程服务器，它运行在公网上，并且通常被用来提供内网穿透功能。当您需要从外部网络访问内部网络的设备时，可以在公网上部署一个 FRP 服务端，通过配置相应的映射规则，将来自公网的请求转发到内网设备上。
客户端是 FRP 工具的本地组件，它运行在需要被访问的内部网络设备上，并与远程服务端建立连接。客户端会向服务端注册自己的身份信息，并定期向服务端发送心跳包以保持连接。一旦客户端成功连接到服务端，外部网络就可以通过服务端访问客户端所在的内部网络设备。</p>
</blockquote>
<figure><figcaption></figcaption></figure>
<h2>三、环境安装</h2>
<blockquote>
<p>在 Linux 系统下使用 systemd 控制 frps 及配置开机自启</p>
</blockquote>
<p>这里以Linux服务器（centos）为例，</p>
<h3>2.1 安装&nbsp;<code>systemd</code></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemd</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.2 创建并编辑&nbsp;<code>frps.service</code>&nbsp;文件（使用vim编辑器）</h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/systemd/system/frps.service</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3>2.3 写入内容</h3>
<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[Unit]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务名称，可自定义</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">Description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> frp server</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">After</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> network.target syslog.target</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">Wants</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> network.target</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[Service]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> simple</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frps的命令，需修改为您的frps的安装路径</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 例如我解压后的frp安装包在此路径下 /root/frp/frps</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># ExecStart = /root/frp/frps/frps -c /root/frp/frps/frps.ini</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">ExecStart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> /path/to/frps -c /path/to/frps.ini</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[Install]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">WantedBy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> multi-user.target</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如下图：

上面三步可以参考：<a href="https://gofrp.org/docs/setup/systemd/" target="_blank" rel="noopener noreferrer">https://gofrp.org/docs/setup/systemd/</a></p>
<h3>2.4 下载解压安装包</h3>
<p>方式一：
在已经创建好的 /root/frp目录下，执行下面的命令即可下frp安装包：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_linux_arm64.tar.gz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>方式二：
下载地址：<a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener noreferrer">https://github.com/fatedier/frp/releases</a>
Linux版（centos），下载如下图版本：
</p>
<p>将frp的linux包传递Linux服务器的自定义目录下</p>
<blockquote>
<p>例如：
放在/root/frp/目录（文件夹）下，然后解压此文件<strong>frp_0.48.0_linux_amd64.tar.gz</strong></p>
</blockquote>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.48.0_linux_amd64.tar.gz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>然后对其命名：
mv 原文件名 修改后的文件名</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frp_0.48.0_linux_amd64</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>或者直接解压并重新命名</p>
<h3>2.5 配置服务端（服务器）</h3>
<p>在解压frp安装包后的文件夹下对文件进行配置：</p>
<blockquote>
<p>例如：frp解压在/root/frp/frps/目录下</p>
</blockquote>
<p>对frps.ini文件进行配置</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps.ini</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>输入内容：</p>
<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">bind_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 7000</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">binf_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">bind_udp_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 7000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">authentication_method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 认证Token的值包含字母大小写数字等</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 自定义token</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 可视化面板</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">dashboard_user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> admin</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># Dashboard密码</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">dashboard_pwd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 123456</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">dashboard_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 7500</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存配置并退出 <em>:wq</em></p>
<p>使用&nbsp;<code>systemd</code>&nbsp;命令，管理 frps</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 启动frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 停止frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 重启frp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 查看frp状态</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置 frps 开机自启:</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> frps</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>贴一张可视化面板图：
</p>
<h3>2.6 配置客户端frp</h3>
<blockquote>
<p>下载地址：<a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener noreferrer">https://github.com/fatedier/frp/releases</a></p>
</blockquote>
<p>
自定义一个文件夹解压</p>
<h3>2.6 配置客户端（win10本机）</h3>
<p>在解压frp安装包后，进入找到frpc.ini配置文件并使用文本编辑器打开

配置如下：</p>
<div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 全局配置</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[common]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端公网ip</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server_addr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 你的服务端公网ip地址，自行修改</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 服务端端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">server_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 7000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">authentication_method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> token</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 自定义token</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 反向代理的名称，可以随意设置</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">[RDP]</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># RDP 是 TCP 协议的</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> tcp</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 本机 IP</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">local_ip</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 127.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 远程桌面的默认端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">local_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 3389</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 外网访问的端口</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD">remote_port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379"> 7001</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>注意：服务端的配置的token与客户端配置的token需要保持一致。
参考：<a href="https://cloud.tencent.com/developer/article/1710141" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1710141</a></p>
</blockquote>
<p>在目录下输入cmd回车，然后运行frpc.exe
如图所示：


就此配置完成</p>
<p>接下来就连接远程桌面了</p>
<h3>2.7 连接远程桌面</h3>
<p>如下图所示：
计算机为你服务端的ip地址加端口</p>
<blockquote>
<p>例如：139.224.12.12:7000
</p>
</blockquote>
<p>由于我电脑使用的微软邮箱，用户名就为 123@outlook.com，密码对应微软邮箱密码

如果你使用的是本地账号登录，那用户名就是你本地的那个用户名，密码就是开机密码。</p>
<blockquote>
<p>如果不想使用ip地址，可以将ip地址绑到域名上，或不想输入端口，可以进行反向代理</p>
</blockquote>
<h2>总结</h2>
<p>总之，frp不仅仅只是玩远程桌面，还可以玩内网穿透、渗透等。</p>
<h2>附件</h2>
<p>参考1：<a href="https://cloud.tencent.com/developer/article/1710141" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/1710141</a>
参考2：<a href="https://www.cnblogs.com/zhanggaoxing/p/9221705.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/zhanggaoxing/p/9221705.html</a>
阿里云官方地址：<a href="https://account.aliyun.com/login/login.htm" target="_blank" rel="noopener noreferrer">https://account.aliyun.com/login/login.htm</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>git实时拉取GitHub仓库代码</title>
      <link>https://blog.lxip.top/notes/git/git%E5%AE%9E%E6%97%B6%E6%8B%89%E5%8F%96GitHub%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81.html</link>
      <guid>https://blog.lxip.top/notes/git/git%E5%AE%9E%E6%97%B6%E6%8B%89%E5%8F%96GitHub%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81.html</guid>
      <source url="https://blog.lxip.top/rss.xml">git实时拉取GitHub仓库代码</source>
      <description>首先你需要有一个gitee账号和一个GitHub账号 （gitee需要绑定手机号并且需要绑定对应的GitHub账号） 使用gitee仓库镜像管理（目前是限时开放） 直接上效果图： 选择直接需要同步的仓库 获取GitHub私人令牌的方式简单贴一张图： 具体如何创建GitHub私人令牌步骤就不展开了 效果如下：</description>
      <category>运维</category>
      <pubDate>Sun, 16 Apr 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p>首先你需要有一个gitee账号和一个GitHub账号
（gitee需要绑定手机号并且需要绑定对应的GitHub账号）</p>
<p>使用gitee仓库镜像管理（目前是限时开放）</p>
<p>直接上效果图：
</p>
<blockquote>
<p>选择直接需要同步的仓库</p>
</blockquote>
<p>获取GitHub私人令牌的方式简单贴一张图：

具体如何创建GitHub私人令牌步骤就不展开了</p>
<p>效果如下：
</p>
]]></content:encoded>
    </item>
    <item>
      <title>常用的git命令</title>
      <link>https://blog.lxip.top/notes/git/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html</link>
      <guid>https://blog.lxip.top/notes/git/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html</guid>
      <source url="https://blog.lxip.top/rss.xml">常用的git命令</source>
      <description>记录目前常用到的基本命令 常用命令 提交代码的步骤 检查当前文件状态： 提交代码： 注意：可以不需要斜杠 推送代码到远程仓库： 将本地仓库中的，当前main分支的代码提交到远程仓库 扩展 创建分支 这就是创建orphan类型的分支，其他步骤就是简单的提交代操作了。 检查分支状态 会列出本地所有的分支 查看所有分支 列出所有的分支(远程和本地) 切换分支...</description>
      <category>运维</category>
      <pubDate>Sun, 16 Apr 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<blockquote>
<p>记录目前常用到的基本命令</p>
</blockquote>
<h2>常用命令</h2>
<h3>提交代码的步骤</h3>
<p>检查当前文件状态：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git status</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>提交代码：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git add ./</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>注意：可以不需要斜杠</p>
</blockquote>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git commit -m "update code"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>推送代码到远程仓库：</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git push origin main</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>将本地仓库中的，当前main分支的代码提交到远程仓库</p>
</blockquote>
<h3>扩展</h3>
<p>创建分支</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout --orphan [分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>这就是创建orphan类型的分支，其他步骤就是简单的提交代操作了。</p>
</blockquote>
<p>检查分支状态</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git branch</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>会列出<strong>本地</strong>所有的分支</p>
</blockquote>
<p>查看所有分支</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git branch -a</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>列出所有的分支(远程和本地)</p>
</blockquote>
<p>切换分支：</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout [分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>从当前分支创建新分支：</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout -b [新分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>此时新的分支会有当前分支的所有文件</p>
</blockquote>
<h2>附件</h2>
<p>命令大全：
</p>
<p>参考：<a href="https://www.runoob.com/note/56524" target="_blank" rel="noopener noreferrer">https://www.runoob.com/note/56524</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>使用 GitHub 的单个仓库管理多个项目</title>
      <link>https://blog.lxip.top/notes/git/%E4%BD%BF%E7%94%A8%20GitHub%20%E7%9A%84%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE.html</link>
      <guid>https://blog.lxip.top/notes/git/%E4%BD%BF%E7%94%A8%20GitHub%20%E7%9A%84%E5%8D%95%E4%B8%AA%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AA%E9%A1%B9%E7%9B%AE.html</guid>
      <source url="https://blog.lxip.top/rss.xml">使用 GitHub 的单个仓库管理多个项目</source>
      <description>前置知识 需要对git命令比较熟悉，可以参考 背景 练习的项目比较多，但存放于公司电脑并不是一个合适的选择（不方便随处查看） 再加上近期对 Git 使用比较多，就萌生了将项目传到 GitHub 仓库中进行管理 起初想法是在一个仓库中建立文件夹来区分项目，后来感觉并不合适（每次从别处看的时候整个分支上的内容全clone下来了） 最后发现 orphan 分...</description>
      <category>运维</category>
      <pubDate>Sun, 16 Apr 2023 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>前置知识</h2>
<p>需要对git命令比较熟悉，可以参考<a href="/notes/git/%E5%B8%B8%E7%94%A8%E7%9A%84git%E5%91%BD%E4%BB%A4.html" target="_blank">常用的git命令</a></p>
<h2>背景</h2>
<blockquote>
<p>练习的项目比较多，但存放于公司电脑并不是一个合适的选择（不方便随处查看）
再加上近期对 Git 使用比较多，就萌生了将项目传到 GitHub 仓库中进行管理
起初想法是在一个仓库中建立文件夹来区分项目，后来感觉并不合适（每次从别处看的时候整个分支上的内容全clone下来了）
最后发现 orphan 分支（将N个完全不同的项目作为N个分支放在同一个仓库中, 并且分支之间互不影响）完全可以解决该问题</p>
</blockquote>
<h2>具体步骤</h2>
<blockquote>
<p>在一个git仓库下操作如下的命令</p>
</blockquote>
<p>创建orphan分支</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout --orphan [分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>这就是创建orphan类型的分支
为什么使用orphan类型的分支
原因：将N个完全不同的项目作为N个分支放在同一个仓库中, 并且分支之间互不影响
git checkout --orphan的核心用途是在非新存储库上以类似git init的状态创建分支</p>
</blockquote>
<p>检查分支状态</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git branch</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>会列出<strong>本地</strong>所有的分支</p>
</blockquote>
<p>提交代码</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git add ./</span></span>
<span class="line"><span>git commit -m "commit branch"</span></span>
<span class="line"><span>git push orgin [分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>为什么push？
因为本地创建了该分支后还需要提交到远程仓库，才算是真正的创建新的分支</p>
</blockquote>
<p>注意：</p>
<blockquote>
<p>创建其他orphan分支时，建议切换回主分支以后再新建 orphan 分支</p>
</blockquote>
<h2>扩展</h2>
<p>切换分支：</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout [分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>从当前分支创建新分支：</p>
<div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git checkout -b [新分支名]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><blockquote>
<p>此时新的分支会有当前分支的所有文件</p>
</blockquote>
<h2>附件</h2>
<p>参考：<a href="https://blog.csdn.net/Wrysmile0308/article/details/119619702" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Wrysmile0308/article/details/119619702</a>
参考2：<a href="https://www.cnblogs.com/asdfq/p/13277559.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/asdfq/p/13277559.html</a>
参考3：<a href="https://www.codenong.com/19980631/#:~:text=git%20checkout%20--orphan,%E7%9A%84%E6%A0%B8%E5%BF%83%E7%94%A8%E9%80%94%E6%98%AF%E5%9C%A8%E9%9D%9E%E6%96%B0%E5%AD%98%E5%82%A8%E5%BA%93%E4%B8%8A%E4%BB%A5%E7%B1%BB%E4%BC%BC%20git%20init%20%E7%9A%84%E7%8A%B6%E6%80%81%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF%E3%80%82" target="_blank" rel="noopener noreferrer">git checkout –orphan是做什么用的</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>PicGo配置多图床仓库</title>
      <link>https://blog.lxip.top/questionskills/techguide/picgo%E4%BD%BF%E7%94%A8%E5%A4%9A%E5%9B%BE%E5%BA%8A.html</link>
      <guid>https://blog.lxip.top/questionskills/techguide/picgo%E4%BD%BF%E7%94%A8%E5%A4%9A%E5%9B%BE%E5%BA%8A.html</guid>
      <source url="https://blog.lxip.top/rss.xml">PicGo配置多图床仓库</source>
      <description>背景 想使用不需要直接购买服务器就可以存储图片，并且可以很方便使用外链访问到图片资源。这里就有了typora+PicGo两者结合的工具 PicGo配置多图床 以七牛云为例： 官网：https://portal.qiniu.com/ 七牛云有10G免费存储空间和10G CDN静态资源加速 注意：CDN超额会需要付费的。 参考此文：配置手册 | PicGo...</description>
      <category>图床</category>
      <pubDate>Sat, 08 Apr 2023 14:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>背景</h2>
<p>想使用不需要直接购买服务器就可以存储图片，并且可以很方便使用外链访问到图片资源。这里就有了typora+PicGo两者结合的工具</p>
<h2>PicGo配置多图床</h2>
<p>以七牛云为例：</p>
<blockquote>
<p>官网：https://portal.qiniu.com/</p>
<p>七牛云有10G免费存储空间和10G CDN静态资源加速</p>
<p>注意：CDN超额会需要付费的。</p>
</blockquote>
<p>参考此文：<a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#%E4%B8%83%E7%89%9B%E5%9B%BE%E5%BA%8A" target="_blank" rel="noopener noreferrer">配置手册 | PicGo</a></p>
<p>PicGo配置如下图：</p>
<figure><figcaption>image-20230408153157066</figcaption></figure>
<p>个人密钥：</p>
<p>参考：<a href="https://portal.qiniu.com/user/key" target="_blank" rel="noopener noreferrer">七牛云 - 密钥管理 (qiniu.com)</a></p>
<figure><figcaption>image-20230408153612643</figcaption></figure>
<p>空间名称：</p>
<p>我自定义的空间名称为：<strong>nxg-img</strong></p>
<figure><figcaption>image-20230408153712120</figcaption></figure>
<p>存储区域参考这里：<a href="https://developer.qiniu.com/kodo/1671/region-endpoint-fq" target="_blank" rel="noopener noreferrer">存储区域_产品简介_对象存储 - 七牛开发者中心 (qiniu.com)</a></p>
<p>图片存储路径：</p>
<p>我使用typora编辑器，就自定义了 <strong>typora</strong>目录</p>
<figure><figcaption>image-20230408153902349</figcaption></figure>
<blockquote>
<p>注意：</p>
<p>自定义域名，免费的的cdn只提供http协议，使用外链域名时，需要填写http，而不是https</p>
<p>网址后缀的作用是：用到了七牛的图片处理工具的时候会用到的一些处理参数，比如图片瘦身</p>
</blockquote>
<p>如图：</p>
<figure><figcaption>image-20230408154227916</figcaption></figure>
<p>域名绑定：</p>
<p>自己购买的域名，如果没有可以使用官方提供的。</p>
<figure><figcaption>image-20230408160523741</figcaption></figure>
<h2>扩展</h2>
<p>GitHub图床配置</p>
<figure><figcaption>image-20230408155030702</figcaption></figure>
<p>cdn加速GitHub图床：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://cdn.jsdelivr.net/gh/github用户名/仓库名@主分支/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>例如：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://cdn.jsdelivr.net/gh/imnxg/imgbeds@main/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>参考：<a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A" target="_blank" rel="noopener noreferrer">GitHub配置 | PicGo</a></p>
<p>gitee图床配置：</p>
<figure><figcaption>image-20230408155204806</figcaption></figure>
<p>参考：https://github.com/lizhuangs/picgo-plugin-gitee-uploader.git</p>
<h2>附件</h2>
<p>参考：</p>
<p>GitHub仓库：<a href="https://github.com/Molunerfinn/PicGo" target="_blank" rel="noopener noreferrer">Molunerfinn/PicGo</a></p>
<p><a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#%E4%B8%83%E7%89%9B%E5%9B%BE%E5%BA%8A" target="_blank" rel="noopener noreferrer">配置手册 | PicGo</a></p>
<p><a href="https://molunerfinn.com/PicGo/" target="_blank" rel="noopener noreferrer">PicGo (molunerfinn.com)</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Gitee Pages Action</title>
      <link>https://blog.lxip.top/notes/githubaction/gitee-pages-action.html</link>
      <guid>https://blog.lxip.top/notes/githubaction/gitee-pages-action.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Gitee Pages Action</source>
      <description>gitee-pages-action license release users users github gitee stars forks Gitee Pages Action 由于 Gitee Pages 的访问速度很快，很多朋友会选择 Gitee Pages 部署项目（如：个人博客、开源项目国内镜像站点）。但是它不像 GitHub Pages ...</description>
      <category>运维</category>
      <pubDate>Tue, 04 Apr 2023 22:10:00 GMT</pubDate>
      <content:encoded><![CDATA[<p align="center">
  <a href="https://github.com/yanglbme/gitee-pages-action">
    
  </a>
</p>
<p align="center">
  <a href="./LICENSE"><img src="https://img.shields.io/github/license/yanglbme/gitee-pages-action?color=42b883&amp;style=flat-square" alt="license"></a>
  <a href="../../releases"><img src="https://img.shields.io/github/v/release/yanglbme/gitee-pages-action?color=42b883&amp;style=flat-square" alt="release"></a>
  <a href="#谁在使用"><img src="https://shields.io/badge/who's-using-42b883?style=flat-square" alt="users"></a>
  <a href="#错误及解决方案"><img src="https://shields.io/badge/faq-here-42b883?style=flat-square" alt="users"></a>
  <a href="https://github.com/yanglbme/gitee-pages-action"><img src="https://shields.io/badge/⭐-GitHub-42b883?style=flat-square" alt="github"></a>
  <a href="https://gitee.com/yanglbme/gitee-pages-action"><img src="https://shields.io/badge/⭐-Gitee-42b883?style=flat-square" alt="gitee"></a><br>
  <a href="https://github.com/yanglbme/gitee-pages-action/stargazers"><img src="https://img.shields.io/github/stars/yanglbme/gitee-pages-action?color=42b883&amp;logo=github&amp;style=flat-square" alt="stars"></a>
  <a href="https://github.com/yanglbme/gitee-pages-action/network/members"><img src="https://img.shields.io/github/forks/yanglbme/gitee-pages-action?color=42b883&amp;logo=github&amp;style=flat-square" alt="forks"></a>
</p>
<h1 align="center">Gitee Pages Action</h1>
<p>由于 Gitee Pages 的访问速度很快，很多朋友会选择 Gitee Pages 部署项目（如：个人博客、开源项目国内镜像站点）。但是它不像 GitHub Pages 那样，一提交代码就能自动更新 Pages，因为 Gitee 的自动部署属于 Gitee Pages Pro 的服务。</p>
<p>为了实现 Gitee Pages 的自动部署，我开发了 <a href="https://github.com/marketplace/actions/gitee-pages-action" target="_blank" rel="noopener noreferrer">Gitee Pages Action</a> ，只需要在 GitHub 项目的 Settings 页面下配置 keys，然后在 <code>.github/workflows/</code> 下创建一个工作流，引入一些配置参数即可。欢迎 Star ⭐ 关注本项目。</p>
<p>欢迎体验，若有使用上的问题，也欢迎随时提交 <a href="https://github.com/yanglbme/gitee-pages-action/issues" target="_blank" rel="noopener noreferrer">Issues</a> 反馈。</p>
<p>注：</p>
<ol>
<li>首次需要<strong>手动</strong>登录 Gitee ，点击“启动”进行 Gitee Pages 服务的部署。</li>
<li>由于 Gitee 改版，使用 Gitee Pages 前需要先完成实名认证。</li>
</ol>
<h2>入参</h2>
<p>| 参数             | 描述                         | 是否必传 | 默认值   | 示例                            |
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>github代码备份到gitee仓库-工作流</title>
      <link>https://blog.lxip.top/notes/githubaction/github%E4%BB%A3%E7%A0%81%E5%A4%87%E4%BB%BD%E5%88%B0gitee%E4%BB%93%E5%BA%93-%E5%B7%A5%E4%BD%9C%E6%B5%81.html</link>
      <guid>https://blog.lxip.top/notes/githubaction/github%E4%BB%A3%E7%A0%81%E5%A4%87%E4%BB%BD%E5%88%B0gitee%E4%BB%93%E5%BA%93-%E5%B7%A5%E4%BD%9C%E6%B5%81.html</guid>
      <source url="https://blog.lxip.top/rss.xml">github代码备份到gitee仓库-工作流</source>
      <description>大概思路 从本地（windows）使用git将代码提交到GitHub某仓库，然后触发某仓库GitHub工作流，使其将代码推送到gitee仓库。 前置知识 需要会使用git 熟悉GitHub（配置、工作流） 大致步骤 关于GitHub工作流与密钥配置对应图： image-20230404224357484image-20230404224357484 1...</description>
      <category>运维</category>
      <pubDate>Tue, 04 Apr 2023 22:10:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>大概思路</h2>
<p>从本地（windows）使用git将代码提交到GitHub某仓库，然后触发某仓库GitHub工作流，使其将代码推送到gitee仓库。</p>
<h2>前置知识</h2>
<ul>
<li>
<p>需要会使用git</p>
</li>
<li>
<p>熟悉GitHub（配置、工作流）</p>
</li>
</ul>
<h2>大致步骤</h2>
<p>关于GitHub工作流与密钥配置对应图：</p>
<figure><figcaption>image-20230404224357484</figcaption></figure>
<p>1.配置本地密钥到gitee，至于怎么配置可以参考<a href="../gitMore">git多账号配置</a></p>
<p>2.配置GitHub公钥</p>
<p>该公钥要与gitee配置公钥对应上</p>
<p>本地密钥id_rsa_gitee.pub内容复制到GitHub中</p>
<figure><figcaption>image-20230404221056949</figcaption></figure>
<p>粘贴到如下图：</p>
<figure><figcaption>image-20230404221134689</figcaption></figure>
<p>同理将上的公钥复制粘贴到gitee上</p>
<p>配置示例如下：</p>
<figure><figcaption>image-20230404222501712</figcaption></figure>
<p>3.配置GitHub仓库密钥</p>
<p>需要在GitHub仓库添加对应secrets</p>
<p>如下图：</p>
<figure><figcaption>image-20230404225010003</figcaption></figure>
<blockquote>
<p>注意：此处的私钥要与gitee配置的公钥成对存在</p>
</blockquote>
<p>如下图：</p>
<figure><figcaption>image-20230404225213255</figcaption></figure>
<h2>附件</h2>
<p>参考：<a href="https://github.com/yanglbme/gitee-pages-action" target="_blank" rel="noopener noreferrer">yanglbme/gitee-pages-action</a></p>
<p><a href="./gitee-pages-action">gitee-pages-action</a></p>
<h3>报错</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>WARNING: StrictHostKeyChecking disabled</span></span>
<span class="line"><span>Cloning into bare repository 'hexo-theme-gitee-blog.git'...</span></span>
<span class="line"><span>SOURCE=git@github.com:hisnxg/hexo-theme-gitee-blog.git</span></span>
<span class="line"><span>DESTINATION=git@gitee.com:hisnxg/hisnxg.git</span></span>
<span class="line"><span>DRY RUN=false</span></span>
<span class="line"><span>Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.</span></span>
<span class="line"><span>git@github.com: Permission denied (publickey).</span></span>
<span class="line"><span>fatal: Could not read from remote repository.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Please make sure you have the correct access rights</span></span>
<span class="line"><span>and the repository exists.</span></span>
<span class="line"><span>fatal: not a git repository (or any parent up to mount point /github)</span></span>
<span class="line"><span>Stopping at filesystem boundary (GIT_DISCOVERY_ACROSS_FILESYSTEM not set).</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>原因：gitee配置的此公钥要与GitHub公钥成对存在。</p>
<p>添加即可解决</p>
<figure><figcaption>image-20230404223214170</figcaption></figure>
<p>如未解决可参考：https://github.com/yanglbme/gitee-pages-action/issues/29</p>
]]></content:encoded>
    </item>
    <item>
      <title>mysql问题</title>
      <link>https://blog.lxip.top/notes/database/question.html</link>
      <guid>https://blog.lxip.top/notes/database/question.html</guid>
      <source url="https://blog.lxip.top/rss.xml">mysql问题</source>
      <description>问题1-提示1251- Client does not support authentication protocol requested by server 原因：mysql8 之前的版本中加密规则是mysql_native_password,而在mysql8之后,加密规则是caching_sha2_password, 解决办法： 使用命令方式解决：...</description>
      <category>mysql</category>
      <pubDate>Thu, 17 Nov 2022 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>问题1-提示1251- Client does not support authentication protocol requested by server</h2>
<p>原因：mysql8 之前的版本中加密规则是mysql_native_password,而在mysql8之后,加密规则是caching_sha2_password,</p>
<p>解决办法：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>方法1.升级navicat驱动；</span></span>
<span class="line"><span></span></span>
<span class="line"><span>方法2.把mysql用户登录密码加密规则还原成mysql_native_password.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用命令方式解决：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>方法1：</span></span>
<span class="line"><span># 更新user为root，host为% 的密码为123456</span></span>
<span class="line"><span>ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123456';</span></span>
<span class="line"><span></span></span>
<span class="line"><span> # 更新user为root，host为localhost 的密码为123456</span></span>
<span class="line"><span>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '123456';</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 方法2：</span></span>
<span class="line"><span># 修改加密规则 （这行我没有写，不过貌似也可以）</span></span>
<span class="line"><span>ALTER USER 'root'@'localhost' IDENTIFIED BY 'password' PASSWORD EXPIRE NEVER; </span></span>
<span class="line"><span># 更新一下用户的密码 </span></span>
<span class="line"><span>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password'; </span></span>
<span class="line"><span> #刷新权限</span></span>
<span class="line"><span>FLUSH PRIVILEGES;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>附件</h2>
<p>参考：https://blog.csdn.net/pengfeng111833/article/details/124399404</p>
<p>参考2：https://huaweicloud.csdn.net/63355d9ed3efff3090b54464.html</p>
]]></content:encoded>
    </item>
    <item>
      <title>centos7.9使用</title>
      <link>https://blog.lxip.top/notes/linux/linux.html</link>
      <guid>https://blog.lxip.top/notes/linux/linux.html</guid>
      <source url="https://blog.lxip.top/rss.xml">centos7.9使用</source>
      <description>more 注释之前的内容被视为文章摘要。</description>
      <category>linux</category>
      <pubDate>Wed, 16 Nov 2022 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<p><code>more</code> 注释之前的内容被视为文章摘要。</p>
<!-- more -->
<h2>一、环境安装</h2>
<h3>1.JDK安装</h3>
<p>这里安装JDK版本jdk-8u11-linux-x64.tar.gz</p>
<p>注：在登录centos服务器之后切换到根（root）目录下</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>1.在root权限下，在根目录下创建文件夹</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span> mkdir -p /usr/local/java</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>切换到/usr/local/java目录下</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /usr/local/java</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>将该jdk-8u11-linux-x64.tar.gz压缩包上传到当前位置</p>
<p>2.解压jdk-8u11-linux-x64.tar.gz压缩包</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>tar -zxvf ./jdk-8u11-linux-x64.tar.gz -C /usr/local/java/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>然后切换到根目录下</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.编辑Linux系统中环境变量所在文件</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vi /etc/profile</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>4.在文件最后加入环境变量设置，加入后保存文件</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>export JAVA_HOME=/usr/local/java/jdk1.8.0_11 #这是自己的jdk所在位置</span></span>
<span class="line"><span>export</span></span>
<span class="line"><span>CLASSPATH=.:$JAVA_HOME/jre/lib/dt.jar:$JAVA_HOME/jre/lib/rt.jar:$JAVA_HOME/jre/lib/tools.jar</span></span>
<span class="line"><span>export PATH=$PATH:$JAVA_HOME/bin</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5.让环境变量生效</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>source /etc/profile</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>6.测试JDK是否已经配置好</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#执行命令</span></span>
<span class="line"><span>java -version</span></span>
<span class="line"><span>#显示如下</span></span>
<span class="line"><span>java version "1.8.0_11"</span></span>
<span class="line"><span>Java(TM) SE Runtime Environment (build 1.8.0_11-b12)</span></span>
<span class="line"><span>Java HotSpot(TM) 64-Bit Server VM (build 25.11-b03, mixed mode)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#执行命令</span></span>
<span class="line"><span>javac-version</span></span>
<span class="line"><span>#显示如下</span></span>
<span class="line"><span>javac 1.8.0_11</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>2 .Docker安装</h2>
<p>在拉去之前，先配置镜像加速器</p>
<p>阿里云镜像获取地址：https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors，登陆后，左侧菜单选中镜像加速器就可以看到你的专属地址了：</p>
<figure><figcaption>image-20221116231427095</figcaption></figure>
<p>因为工作的需要,需要把docker 启动后的路径改成/data,所以就会用到:<em>/etc/docker/daemon.json</em> 是docker 的配置<em>文件</em>,默认是没有的,需要我们手动创建,可配置项<em>如下:</em></p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#在根目录下</span></span>
<span class="line"><span>cd /</span></span>
<span class="line"><span>#创建docker目录</span></span>
<span class="line"><span>mkdir -p /etc/docker</span></span>
<span class="line"><span># 切换到docker目录下</span></span>
<span class="line"><span>cd /etc/docker</span></span>
<span class="line"><span># 创建daemon.json</span></span>
<span class="line"><span>touch daemon.json</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后打开下面的配置文件：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 在根目录下打开该配置文件</span></span>
<span class="line"><span>vi /etc/docker/daemon.json</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>在/etc/docker/daemon.json文件末尾增加如下内容：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>{</span></span>
<span class="line"><span>  "registry-mirrors": ["https://你的ID.mirror.aliyuncs.com"]</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>修改完daemon.json文件后，需要让这个文件生效</p>
<p>a.修改完成后reload配置文件</p>
<p>sudo systemctl daemon-reload</p>
<p>b.重启docker服务</p>
<p>sudo systemctl restart docker.service</p>
<p>c.查看状态</p>
<p>sudo systemctl status docker -l</p>
<p>d.查看服务</p>
<p>sudo docker info</p>
</blockquote>
<p><em><strong>为什么配置这个呢？原因是docker下载镜像速度慢，需要配置国内镜像加速。</strong></em></p>
<p>Docker可以运行在MAC、Windows、CentOS、UBUNTU等操作系统上，本课程基于CentOS7安装Docker</p>
<p>官网：https://www.docker.com</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#1、yum包更新到最新</span></span>
<span class="line"><span>yum update</span></span>
<span class="line"><span>#2、安装需要的软件包，yum-util提供yum-config-manager功能，另外两个是devicemapper驱动依赖的</span></span>
<span class="line"><span>yum install -y yum-utils device-mapper-persistent-data lvm2</span></span>
<span class="line"><span>#3、设置yum源</span></span>
<span class="line"><span>yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span>
<span class="line"><span>#4、安装docker，出现输入的界面都按 y</span></span>
<span class="line"><span>yum install -y docker-ce</span></span>
<span class="line"><span>#5、查看docker版本，验证是否验证成功</span></span>
<span class="line"><span>docker -v</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>2.1docker命令</h4>
<p>1.进程相关命令</p>
<p>启动docker服务:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl start docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>停止docker服务:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl stop docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>重启docker服务:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl restart docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看docker服务状态:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl status docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>设置开机启动docker服务:</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl enable docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.镜像相关命令</p>
<p>镜像命令包括如下内容：查看镜像、搜索镜像、拉取镜像、删除镜像</p>
<p>查看镜像:查看本地所有的镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker images</span></span>
<span class="line"><span>docker images –q #查看所用镜像的id</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>搜索镜像:从网络中查找需要的镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker search 镜像名称</span></span>
<span class="line"><span>docker search redis #查找redis镜像</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>拉取镜像:从Docker仓库下载镜像到本地，镜像名称格式为名称:版本号，如果版本号不指定则是最新的版本lastest。</p>
<p>如果不知道镜像版本，可以去dockerhub搜索对应镜像查看。</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull 镜像名称</span></span>
<span class="line"><span>docker pull redis #下载最新版本redis</span></span>
<span class="line"><span>docker pull redis:5.0 #下载5.0版本redis</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除镜像:删除本地镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker rmi 镜像id #删除指定本地镜像</span></span>
<span class="line"><span>docker images -q #查看所有的镜像列表</span></span>
<span class="line"><span>dockerrmi `docker images -q` #删除所有本地镜像</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.容器相关命令</p>
<p>查看容器、创建容器、进入容器、启动容器、停止容器、删除容器、查看容器信息</p>
<p>查看容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker ps #查看正在运行的容器</span></span>
<span class="line"><span>docker ps –a #查看所有容器</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>创建并启动容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run 参数</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>参数说明：</p>
<p>-i：保持容器运行。通常与-t同时使用。加入it这两个参数后，容器创建后自动进入容器中，退出容器后，容器自动关闭。</p>
<p>-t：为容器重新分配一个伪输入终端，通常与-i同时使用。</p>
<p>-d：以守护（后台）模式运行容器。创建一个容器在后台运行，需要使用dockerexec进入容器。退出后，容器不会关闭。</p>
<p>-it创建的容器一般称为交互式容器，-id创建的容器一般称为守护式容器</p>
<p>--name：为创建的容器命名。</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -it --name=c1 centos:7 /bin/bash #创建交互式容器</span></span>
<span class="line"><span>docker run -id --name=c2 centos:7 #创建守护式容器</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：交互式容器，exit后容器自动关闭，守护式容器会在后台执行</p>
<p>进入容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker exec -it c2 /bin/bash #进入容器</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>停止容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker stop 容器名称</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>启动容器</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>dockerstart容器名称</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>删除容器：如果容器是运行状态则删除失败，需要停止容器才能删除</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker rm 容器名称</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看容器信息</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker inspect 容器名称</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>4.Docker容器的数据卷</p>
<p>....</p>
<h2>3.Docker应用部署</h2>
<p>3.1MySQL部署</p>
<p>分析</p>
<p>容器内的网络服务和外部机器不能直接通信</p>
<p>外部机器和宿主机可以直接通信宿主机和容器可以直接通信</p>
<p>当容器中的网络服务需要被外部机器访问时，可以将容器中提供服务的端口映射到宿主机的端口上。外部机器访问宿主机的端口，从而间接访问容器的服务。</p>
<p>这种操作称为：<strong>端口映射</strong></p>
<figure><figcaption>image-20221117002336127</figcaption></figure>
<p>1.搜索mysql镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker search mysql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.拉取mysql镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull mysql:5.6</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.创建容器，设置端口映射、目录映射</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#在/root目录下创建mysql目录用于存储mysql数据信息</span></span>
<span class="line"><span>mkdir ~/mysql</span></span>
<span class="line"><span>cd ~/mysql</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -id \</span></span>
<span class="line"><span>-p 3307:3306 \</span></span>
<span class="line"><span>--name=c_mysql \</span></span>
<span class="line"><span>-v $PWD/conf:/etc/mysql/conf.d \</span></span>
<span class="line"><span>-v $PWD/logs:/logs \</span></span>
<span class="line"><span>-v $PWD/data:/var/lib/mysql \</span></span>
<span class="line"><span>-e MYSQL_ROOT_PASSWORD=123456 \</span></span>
<span class="line"><span>mysql:5.6</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数说明：</p>
<p>-p  3307:3306：将容器的3306端口映射到宿主机的3307端口。</p>
<p>-v  $PWD/conf:/etc/mysql/conf.d：将主机当前目录下的conf/my.cnf挂载到容器的 /etc/mysql/my.cnf 。配置目录</p>
<p>-v  $PWD/logs:/logs：将主机当前目录下的logs目录挂载到容器的/logs。日志目录</p>
<p>-v  $PWD/data:/var/lib/mysql：将主机当前目录下的data目录挂载到容器的/var/lib/mysql。数据目录</p>
<p>-e  MYSQL_ROOT_PASSWORD=123456：初始化root用户的密码。</p>
<p>4.进入容器，操作</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker exec -it c_mysql /bin/bash</span></span>
<span class="line"><span>mysql -u root -p123456</span></span>
<span class="line"><span>show databases;</span></span>
<span class="line"><span>create database db1;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.2.Tomcat部署</p>
<p>1.搜索tomcat镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker search tomcat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.拉取tomcat镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull tomcat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.创建容器，设置端口映射、目录映射</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 在/root目录下创建tomcat目录用于存储tomcat数据信息</span></span>
<span class="line"><span>mkdir ~/tomcat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>执行下面的命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -id --name=c_tomcat \</span></span>
<span class="line"><span>-p 8080:8080 \</span></span>
<span class="line"><span>-v $PWD:/usr/local/tomcat/webapps \</span></span>
<span class="line"><span>tomcat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数说明：</p>
<p>-p 8080:8080：将容器的8080端口映射到主机的8080端口</p>
<p>-v $PWD:/usr/local/tomcat/webapps：将主机中当前目录挂载到容器的webapps</p>
<p>4.使用外部机器访问tomcat</p>
<p>3.3.Nginx部署</p>
<p>1.搜索nginx镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker search nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.拉取nginx镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.创建容器，设置端口映射、目录映射</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 在root目录下创建nginx目录用于存储nginx数据信息</span></span>
<span class="line"><span>mkdir ~/nginx</span></span>
<span class="line"><span>cd ~/nginx</span></span>
<span class="line"><span>mkdir conf</span></span>
<span class="line"><span>cd conf</span></span>
<span class="line"><span>#在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容</span></span>
<span class="line"><span>vim nginx.conf</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行下面的命令：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>user nginx;</span></span>
<span class="line"><span>worker_processes 1;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>error_log 	/var/log/nginx/error.log warn;</span></span>
<span class="line"><span>pid 		/var/run/nginx.pid;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>events{</span></span>
<span class="line"><span>	worker_connections 1024;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>http{</span></span>
<span class="line"><span>    include 	/etc/nginx/mime.types;</span></span>
<span class="line"><span>    default_type application/octet-stream;</span></span>
<span class="line"><span>    log_format	main '$remote_addr-$remote_user[$time_local]"$request"'</span></span>
<span class="line"><span>                    '$status$body_bytes_sent"$http_referer"'</span></span>
<span class="line"><span>                    '"$http_user_agent""$http_x_forwarded_for"';</span></span>
<span class="line"><span>    access_log	/var/log/nginx/access.log main;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    sendfile	on;</span></span>
<span class="line"><span>    #tcp_nopush	on;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    keepalive_timeout 65;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    #gzip on;</span></span>
<span class="line"><span>    include /etc/nginx/conf.d/*.conf;</span></span>
<span class="line"><span>}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行下面的命令启动nginx容器：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -id --name=c_nginx \</span></span>
<span class="line"><span>-p 80:80 \</span></span>
<span class="line"><span>-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf \</span></span>
<span class="line"><span>-v $PWD/logs:/var/log/nginx \</span></span>
<span class="line"><span>-v $PWD/html:/usr/share/nginx/html \</span></span>
<span class="line"><span>nginx</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.4.Redis部署</p>
<p>1.搜索redis镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker search redis</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>2.拉取redis镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker pull redis:5.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>3.创建容器，设置端口映射</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -id --name=c_redis -p 6379:6379 redis:5.0</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>4.使用外部机器连接redis</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>./redis-cli.exe -h 192.168.220.12 -p 6379</span></span>
<span class="line"><span>keys *</span></span>
<span class="line"><span>set name keney</span></span>
<span class="line"><span>get name</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>4.Dockerfile</h2>
<p>4.1docker镜像原理：</p>
<p>思考：</p>
<p>Docker 镜像本质是什么？</p>
<p>Docker 中一个centos镜像为什么只有200MB，而一个centos操作系统的iso文件要几个个G？</p>
<p>Docker 中一个tomcat镜像为什么有600MB，而一个tomcat安装包只有70多MB？</p>
<p>操作系统组成部分：</p>
<p>进程调度子系统</p>
<p>进程通信子系统</p>
<p>内存管理子系统</p>
<p>设备管理子系统</p>
<p>文件管理子系统</p>
<p>网络通信子系统</p>
<p>作业控制子系统</p>
<p>Linux文件系统由bootfs和rootfs两部分组成</p>
<p>bootfs：包含bootloader（引导加载程序）和 kernel（内核） rootfs： root文件系统，包含的就是典型 Linux 系统中的/dev，/proc，/bin，/etc等标准目录和文件</p>
<p>不同的linux发行版，bootfs基本一样，而rootfs不同，如ubuntu，centos等</p>
<figure><figcaption>image-20221117193843478</figcaption></figure>
<p>docker镜像原理</p>
<p>Docker镜像是由特殊的文件系统叠加而成</p>
<p>最底端是 bootfs，并使用宿主机的bootfs</p>
<p>第二层是 root文件系统rootfs,称为base image 然后再往上可以叠加其他的镜像文件</p>
<p>统一文件系统（Union File System）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的 视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统。</p>
<p>一个镜像可以放在另一个镜像的上面。位于下面的镜像称为父镜像，最底部的镜像成为基础镜像。</p>
<p>当从一个镜像启动容器时，Docker会在最顶层加载一个读写文件系统作为容器</p>
<figure><figcaption>image-20221117193946995</figcaption></figure>
<p>回答问题</p>
<p>1.Docker 镜像本质是什么？ 是一个分层文件系统</p>
<p>2.Docker 中一个centos镜像为什么只有200MB，而一个centos操作系统的iso文件要几个个G？</p>
<p>Centos的iso镜像文件包含bootfs和rootfs，而docker的centos镜像复用操作系统的bootfs，只有rootfs和其 他镜像层</p>
<p>3.Docker 中一个tomcat镜像为什么有600MB，而一个tomcat安装包只有70多MB？ 由于docker中镜像是分层的，tomcat虽然只有70多MB，但他需要依赖于父镜像和基础镜像，所有整个对外 暴露的tomcat镜像大小600多MB</p>
<p>4.2镜像制作</p>
<p>容器转换镜像</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker commit 容器id 镜像名称:版本号</span></span>
<span class="line"><span>docker save -o 压缩文件名称 镜像名称:版本号</span></span>
<span class="line"><span>docker load –i 压缩文件名称</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><figcaption>image-20221117194250515</figcaption></figure>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># 创建tomcat镜像</span></span>
<span class="line"><span>docker run -id --name=c_tomcat \</span></span>
<span class="line"><span>-p 8080:8080 \</span></span>
<span class="line"><span>-v $PWD:/usr/local/tomcat/webapps \</span></span>
<span class="line"><span>tomcat</span></span>
<span class="line"><span># 进入tomcat镜像</span></span>
<span class="line"><span>docker exec -it c_tomcat /bin/bash</span></span>
<span class="line"><span>#创建a.txt b.txt</span></span>
<span class="line"><span>cd ~</span></span>
<span class="line"><span>touch a.txt b.txt</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行操作：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#容器转镜像</span></span>
<span class="line"><span>docker commit 28b8d4dc9744 lxs_tomcat:1.0</span></span>
<span class="line"><span>#压缩镜像</span></span>
<span class="line"><span>docker save -o lxs_tomcat.tar lxs_tomcat:1.0</span></span>
<span class="line"><span>#删除原来镜像</span></span>
<span class="line"><span>docker rmi lxs_tomcat:1.0</span></span>
<span class="line"><span>#从压缩文件加载镜像</span></span>
<span class="line"><span>docker load -i lxs_tomcat.tar</span></span>
<span class="line"><span>#产生镜像</span></span>
<span class="line"><span>docker run -it --name=new_tomcat lxs_tomcat:1.0 /bin/bash</span></span>
<span class="line"><span>#进入查看内容</span></span>
<span class="line"><span>docker exec -it c_tomcat /bin/bash</span></span>
<span class="line"><span>#可以看到a.txt b.txt存在，而webapps/test不存在</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>dockerfile</p>
<p>概念</p>
<p>Dockerfile 是一个文本文件</p>
<p>包含了一条条的指令</p>
<p>每一条指令构建一层，基于基础镜像，最终构建出一个新的镜像</p>
<p>对于开发人员：可以为开发团队提供一个完全一致的开发环境</p>
<p>对于测试人员：可以直接拿开发时所构建的镜像或者通过Dockerfile文件构建一个新的镜像开始工作了</p>
<p>对于运维人员：在部署时，可以实现应用的无缝移植</p>
<p>参考Dochub网址：https://hub.docker.com ，比如centos和nginx镜像</p>
<p>| 关键字      | 作用                       | 备注                                                         |
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>Git多账号配置</title>
      <link>https://blog.lxip.top/notes/git/gitMore.html</link>
      <guid>https://blog.lxip.top/notes/git/gitMore.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Git多账号配置</source>
      <description>一、背景 ​ 在同一台电脑上有时候需要使用多个GitHub、gitee、gitlab账号，或者说你有多个账号，不想来回生成公钥，那么这就需要使用到git配置多账户了。 二、准备 环境：window 10、git 在使用之前你需要安装git，对于git安装也是点击下一步下一步就可以安装完成，在此也需要对git命令有一定的了解。 前提条件：需要C:\Use...</description>
      <category>运维</category>
      <pubDate>Mon, 31 Oct 2022 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[<h2>一、背景</h2>
<p>​		在同一台电脑上有时候需要使用多个GitHub、gitee、gitlab账号，或者说你有多个账号，不想来回生成公钥，那么这就需要使用到git配置多账户了。</p>
<h2>二、准备</h2>
<p>环境：window 10、git</p>
<p>在使用之前你需要安装git，对于git安装也是点击下一步下一步就可以安装完成，在此也需要对git命令有一定的了解。</p>
<p>前提条件：需要C:\Users\nxg.ssh目录（文件夹）下，打开git bash</p>
<p>如下图所示：</p>
<figure><figcaption>image-20221031222311849</figcaption></figure>
<p>打开之后使用这个界面：</p>
<figure><figcaption>image-20221031222421017</figcaption></figure>
<p>**注意：**这路径C:\Users\nxg.ssh对于有一定基础的根据上图是能看明白，就不再赘述了。</p>
<p>​		为什么先执行这一步呢？原因是这样的在你创建config文件，生成密钥时都需要创建在这个**.ssh**目录（文件夹）下。如果你在其他目录下打开，那你就需要考虑创建文件时的路径问题了。为了方便明了，就使用上述方法操作，省时省力。</p>
<h2>三、配置</h2>
<h3>3.1 创建config文件</h3>
<p>在C:\Users\nxg.ssh目录（文件夹）下创建config文件，并且配置ssh key的路由策略。</p>
<p>创建config文件：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>touch config</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>在config文件中配置</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span># GitHub</span></span>
<span class="line"><span>Host github.com</span></span>
<span class="line"><span>    HostName github.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_rsa</span></span>
<span class="line"><span>    User git</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span># Github2</span></span>
<span class="line"><span>Host github2</span></span>
<span class="line"><span>    HostName github.com</span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_rsa_github2</span></span>
<span class="line"><span>    User git    </span></span>
<span class="line"><span></span></span>
<span class="line"><span># gitee</span></span>
<span class="line"><span>Host gitee.com #自己的码云地址</span></span>
<span class="line"><span>    HostName gitee.com  </span></span>
<span class="line"><span>    PreferredAuthentications publickey</span></span>
<span class="line"><span>    IdentityFile ~/.ssh/id_rsa_gitee</span></span>
<span class="line"><span>    User git</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如图所示：</p>
<figure><figcaption>image-20221031224144979</figcaption></figure>
<blockquote>
<p>“#”  表示注释
Host  后面是名称，可以随便写，相当于起了一个别名</p>
<p>每一个Host就代表一个仓库，仓库参数另起一行，前有4个空格
HostName ： 真正连接的服务器地址</p>
<p>ssh的host，SSH地址“git@”后面到冒号前面的内容</p>
<p><code>User</code>：自定义的用户名，一般使用“git”
<code>PreferredAuthentications</code>： 指定优先使用哪种方式验证，支持密码和秘钥验证方式 。使用“publickey”即可，git仓库均为这种形式</p>
<p>权限认证--可设为publickey,password publickey,keyboard-interactive等
<code>IdentityFile</code>：指定本次连接使用的密钥文件。 该host后台配置的公钥对应的私钥地址的绝对路径
Port ： SSH默认端口号为22，某些私有部署的git仓库会更换端口号</p>
</blockquote>
<h3>3.2 全局配置</h3>
<p>以github为例：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span># global全局配置,这里使用全局配置</span></span>
<span class="line"><span># 设置用户名：</span></span>
<span class="line"><span>git config --global user.name 'abc'  </span></span>
<span class="line"><span># 设置邮箱：</span></span>
<span class="line"><span>git config --global user.email  "123456@qq.com"</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#秘钥添加到本地，即生成密钥</span></span>
<span class="line"><span>ssh-keygen -t rsa -C "123456@qq.com"</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 同理gitee账号也是这么操作的。</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：这里的abc是GitHub<strong>用户名</strong> ，<strong>123456@qq.com</strong>这里是你绑定GitHub上的邮箱</p>
<p>如下图效果：</p>
<figure><figcaption>image-20221031232651471</figcaption></figure>
<p>配置gitee效果如下图所示：</p>
<figure><figcaption>image-20221031232222217</figcaption></figure>
<p>注意：生成密钥文件需要与这里保持一致</p>
<figure><figcaption>image-20221031233525370</figcaption></figure>
<h3>测试是否连接成功</h3>
<p>测试GitHub是否连接成功：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh -T git@github2</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>成功效果：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Hi abc! You've successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>测试Gitee是否连接成功：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>$ ssh -T git@gitee.com</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>成功效果：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Hi nxg! You've successfully authenticated, but GITEE.COM does not provide shell access.</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>注意事项：</p>
<figure><figcaption>image-20221031234333269</figcaption></figure>
<h2>四、关联github</h2>
<p>将id_rsa_gitee.pub文件中的内容添加到gitee设置中的SSH公钥中。</p>
<p>将id_rsa_github2.pub文件中的内容添加到github的settings的SSH and GPG keys的SSH公钥中。</p>
<p>注：上面的文件都在</p>
<figure><figcaption>image-20221101162514113</figcaption></figure>
<p>效果如下图所示：</p>
<figure><figcaption>image-20221101162133360</figcaption></figure>
<h2>注意</h2>
<p>在配置多个账号的，方式有多种，可以使用直接修改文件的方式，也可以使用命令的方式</p>
<p>这里使用修改文件的方式</p>
<p>首先需要在这C:\Users\nxg路径下，找到**.gitconfig**文件，并打开此文件</p>
<figure><figcaption>image-20221031235250843</figcaption></figure>
<p>注意：别直接双击打开，需要选择打开方式，选文本打开，或者其他编辑工具打开。</p>
<p><strong>.gitconfig</strong>文件内容：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[user]</span></span>
<span class="line"><span>	name = xiaoli</span></span>
<span class="line"><span>	email = 121212@qq.com</span></span>
<span class="line"><span>[core]</span></span>
<span class="line"><span>	autocrlf = true</span></span>
<span class="line"><span>[http]</span></span>
<span class="line"><span>	sslVerify = false</span></span>
<span class="line"><span>[user]</span></span>
<span class="line"><span>	name = abc</span></span>
<span class="line"><span>	email = 123456@qq.com</span></span>
<span class="line"><span>[core]</span></span>
<span class="line"><span>	autocrlf = true</span></span>
<span class="line"><span>[http]</span></span>
<span class="line"><span>	sslVerify = false</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>效果如下图所示：</p>
<figure><figcaption>image-20221031235759564</figcaption></figure>
<h3>查看账号列表：</h3>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git config --global --list</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>效果如图所示：</p>
<figure><figcaption>image-20221101000219730</figcaption></figure>
<h3>添加密钥的方式</h3>
<p>方式一：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh-keygen -t rsa -C "123456@qq.com"</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>再执行 <strong>id_rsa</strong></p>
<figure><figcaption>image-20221031232651471</figcaption></figure>
<p>方式二：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ssh-keygen -t rsa -C "2011465907@qq.com" -f ~/.ssh/id_rsa</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>效果如图所示：</p>
<figure><figcaption>image-20221101000544601</figcaption></figure>
<blockquote>
<p><strong>ssh-keygen常用参数说明:</strong></p>
<p>-t: 密钥类型, 可以选择 dsa | ecdsa | ed25519 | rsa;</p>
<p>-f: 密钥目录位置, 默认为当前用户home路径下的.ssh隐藏目录, 也就是~/.ssh/, 同时默认密钥文件名以id_rsa开头. 如果是root用户, 则在/root/.ssh/id_rsa, 若为其他用户, 则在/home/username/.ssh/id_rsa;</p>
<p>-C: 指定此密钥的备注信息, 需要配置多个免密登录时, 建议携带;</p>
<p>-N: 指定此密钥对的密码, 如果指定此参数, 则命令执行过程中就不会出现交互确认密码的信息了.</p>
<p>举例说明: 同时指定目录位置、密码、注释信息, 就不需要输入回车键即可完成创建:</p>
</blockquote>
<h2>附件</h2>
<p><a href="https://blog.csdn.net/weixin_45586870/article/details/120446094" target="_blank" rel="noopener noreferrer">git单一账号使用教程</a></p>
]]></content:encoded>
    </item>
    <item>
      <title>Git提交本地代码至分支（详细每一步）</title>
      <link>https://blog.lxip.top/notes/git/git.html</link>
      <guid>https://blog.lxip.top/notes/git/git.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Git提交本地代码至分支（详细每一步）</source>
      <description>查看分支 A: 查看本地分支 使用 git branch命令，如下：git branch *标识的是你当前所在的分支 imgimg B: 查看远程分支 命令如下：git branch -r imgimg C: 查看所有分支 命令如下：git branch -a imgimg 二、本地创建新分支 命令如下：git branch [分支名称] 例如：git...</description>
      <category>运维</category>
      <pubDate>Wed, 28 Sep 2022 00:00:00 GMT</pubDate>
      <content:encoded><![CDATA[
<p>A: 查看本地分支
使用 git branch命令，如下：git branch
*标识的是你当前所在的分支</p>
<figure><figcaption>img</figcaption></figure>
<p>B: 查看远程分支</p>
<p>命令如下：git branch -r</p>
<figure><figcaption>img</figcaption></figure>
<p>C: 查看所有分支</p>
<p>命令如下：git branch -a</p>
<figure><figcaption>img</figcaption></figure>
<p>二、本地创建新分支</p>
<p>命令如下：git branch [分支名称]</p>
<p>例如：git branch plateformSuperdog</p>
<p>三、切换到新分支</p>
<p>命令如下：git checkout [分支名称]</p>
<p>例如：git checkout plateformSuperdog</p>
<p>四、创建+切换分支</p>
<p>命令如下：git checkout -b [分支名称]</p>
<p>例如：git checkout -b plateform2</p>
<p>其中：git checkout -b [分支名称]相当于两步</p>
<p>git branch [分支名称]</p>
<p>git checkout [分支名称]</p>
<p>五、将新分支推送到github</p>
<p>命令如下：git push origin [分支名称]</p>
<p>六：删除本地分支</p>
<p>命令如下：git branch -d [分支名称]</p>
<p>七、删除github 远方分支</p>
<p>命令如下：git push origin :[branch name]</p>
<p>其中：分支前面：代表删除</p>
<p>例如：git push origin : plateform2</p>
<p>八：git 提交本地代码至新分支</p>
<p>1.切换到新分支</p>
<p>命令如下：git checkout [分支名称]</p>
<p>例如：git checkout plateform2</p>
<p>2.添加本地需要提交的代码</p>
<p>命令如下：git add .</p>
<p>3.提交本地代码</p>
<p>命令如下：git commit -m "修改说明"</p>
<p>4.push到git仓库</p>
<p>命令如下：git push origin [分支名称]</p>
<p>例如：git push origin plateform2</p>
]]></content:encoded>
    </item>
    <item>
      <title>hello life</title>
      <link>https://blog.lxip.top/happylife/thinker/th.html</link>
      <guid>https://blog.lxip.top/happylife/thinker/th.html</guid>
      <source url="https://blog.lxip.top/rss.xml">hello life</source>
      <category>生活</category>
      <pubDate>Tue, 01 Mar 2022 00:00:00 GMT</pubDate>
    </item>
    <item>
      <title>关于本站</title>
      <link>https://blog.lxip.top/blog/about.html</link>
      <guid>https://blog.lxip.top/blog/about.html</guid>
      <source url="https://blog.lxip.top/rss.xml">关于本站</source>
      <description>关于本站 一个基于 VuePress theme hope 的个人博客，主要记录日常开发问题和一些代码笔记。 服务提供 本站由以下内容提供服务</description>
      <content:encoded><![CDATA[
<p>一个基于 VuePress  theme hope 的个人博客，主要记录日常开发问题和一些代码笔记。</p>
<h2>服务提供</h2>
<p>本站由以下内容提供服务</p>
<!-- ::: projects
```yaml

- icon: https://image.liubing.me/2023/02/11/7f17f3cf426c3.png
  name: Cloudflare
  desc: 提供免费的 CDN 服务。
  link: https://www.cloudflare.com/

# - icon: https://image.liubing.me/2023/02/11/a6de6381e4ae6.png
#   name: Contabo
#   desc: VPS 所属供应商。
#   link: https://contabo.com/

# - icon: https://image.liubing.me/2023/02/11/50994f9710667.ico
#   name: 宝塔 Linux 面板
#   desc: 用来管理 VPS
#   link: https://cn.vuejs.org/

- icon: https://vuepress.vuejs.org/hero.png
  name: VuePress
  desc: 博客驱动引擎。
  link: https://vuepress.vuejs.org/zh/

- icon: https://theme-hope.vuejs.press/logo.png
  name: VuePress Theme Hope
  desc: 本站博客所用主题
  link: https://theme-hope.vuejs.press/zh/

- icon: https://image.liubing.me/2023/02/11/a7643dcbbc234.png
  name: Buddy
  desc: 本站自动化打包构建发布工具。
  link: https://buddy.works

- icon: https://image.liubing.me/2023/02/05/834597e9e927e.png
  name: Waline
  desc: 本站评论所用服务。
  link: https://waline.js.org/

```
::: -->
]]></content:encoded>
    </item>
    <item>
      <title>Java8新特性</title>
      <link>https://blog.lxip.top/notes/javacore/Java8%E6%96%B0%E7%89%B9%E6%80%A7.html</link>
      <guid>https://blog.lxip.top/notes/javacore/Java8%E6%96%B0%E7%89%B9%E6%80%A7.html</guid>
      <source url="https://blog.lxip.top/rss.xml">Java8新特性</source>
      <description>Optional类 引入 NPE问题就是在开发中经常碰到的NullPointerException，即空指针问题，Optional类就是用来优雅解决该问题的方案。 比如大家可能都有这样的经历：调用一个方法得到了返回值却不能直接将返回值作为参数去调用别的方法。我们首先要判断这个返回值是否为null，只有在非空的前提下才能将其作为其他方法的参数。 以用户类...</description>
      <category>Java</category>
      <content:encoded><![CDATA[<h2>Optional类</h2>
<h3>引入</h3>
<p><code>NPE</code>问题就是在开发中经常碰到的<code>NullPointerException</code>，即空指针问题，<code>Optional</code>类就是用来优雅解决该问题的方案。</p>
<p>比如大家可能都有这样的经历：调用一个方法得到了返回值却不能直接将返回值作为参数去调用别的方法。我们首先要判断这个返回值是否为<code>null</code>，只有在非空的前提下才能将其作为其他方法的参数。</p>
<p>以用户类和地址类举例说明其用法：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> userName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> phoneNumber</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Address</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //无参、部分参数、全参数构造器方法...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //setter、getter方法...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> province</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> city</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> area</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //无参、部分参数、全参数构造器方法...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //setter、getter方法...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//这行代码可能会出问题</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> province </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getProvince</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(province);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这种代码可能会出现空指针问题，在实际开发中，如果不使用<code>Optional</code>类，极其不优雅的处理方式如下：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//极其不优雅的处理方式</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (user </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//对user对象的null值判断</span></span>
<span class="line highlighted"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Address</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> address </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (address </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//对address对象的null值判断</span></span>
<span class="line highlighted"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">        String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> province </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getProvince</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (province </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//对province对象的null值判断</span></span>
<span class="line highlighted"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">            System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(province);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">            System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"province==null"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面的代码保证了代码的第三行、第五行、第七行肯定不会出现空指针，但是这个代码真的是非常的冗长和丑陋。</p>
<p><strong><code>java.util</code>包下面的<code>Optional</code>类提供了一套API来处理一个对象是否为<code>null</code>值的问题。</strong></p>
<h3>源码解读及各API的使用</h3>
<p>部分源码：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#C18401;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //value为null的Optinal对象，类加载的时候就已经初始化完成该Optional对象</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> EMPTY </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //存储需要判断null的对象</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //无参构造函数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //有参构造函数</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    private</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其本质是内部有一个泛型容器存储外部需要判断<code>null</code>值的对象，同时提供了两个私有的构造函数，不能被外部所调用，只能由类内部的函数调用</p>
<ul>
<li>无参数的构造函数提供一个<code>value=null</code>的<code>Optional</code>对象</li>
<li>有参数的构造函数提供一个<code>value</code>一定不能为<code>null</code>的<code>Optional</code>对象，因为它调用了<code>Objects</code>类的<code>requireNonNull</code>方法。</li>
</ul>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> final</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (obj </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> NullPointerException</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> obj;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>of</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(value)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是一个静态方法，调用有参数的构造函数，返回的是<code>value</code>值一定不为<code>null</code>的<code>Optional</code>对象，因为有参数的构造方法底层调用了<code>Objects</code>的<code>requireNonNull</code>方法，如果传入的<code>value</code>为<code>null</code>值，那么一定会报空指针异常。不允许<code>value</code>为<code>null</code>，实际开发中不常用。</p>
<h4>empty</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">SuppressWarnings</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"unchecked"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> t </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) EMPTY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是一个静态方法，直接将类初始化时加载的<code>value</code>为<code>null</code>的<code>Optional</code>对象给用户。</p>
<h4>ofNullable</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> ?</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(value)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是一个静态方法，代表<code>value</code>值是可为空的。如果为<code>null</code>值，那么返回一个<code>value</code>为<code>null</code>的<code>Optional</code>对象；如果不为<code>null</code>值，那么返回一个<code>value</code>不为<code>null</code>的<code>Option</code>对象。允许<code>value</code>为<code>null</code>，实际开发中常用。</p>
<p><strong>与<code>of</code>的区别：当<code>value</code>值为<code>null</code>时，<code>of</code>会报<code>NullPointerException</code>异常；<code>ofNullable</code>不会<code>throw Exception</code>，<code>ofNullable</code>直接返回一个<code>EMPTY</code>对象（<code>value</code>为<code>null</code>的<code>Optional</code>对象）。</strong></p>
<div class="hint-container tip">
<p class="hint-container-title">那是不是意味着，我们在项目中只用ofNullable函数而不用of函数呢?</p>
<ul>
<li>不是的，一个东西存在那么自然有存在的价值。</li>
<li>当我们在运行过程中，不想隐藏<code>NullPointerException</code>，而是要立即报告，这种情况下就用<code>of</code>函数。</li>
<li>但是不得不承认，这样的场景真的很少。</li>
</ul>
</div>
<h4>orElse</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> other) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是一个实例方法，会首先判断调用它的<code>Optional</code>对象中的<code>value</code>值，如果为不为<code>null</code>，那么就返回该<code>value</code>值，如果为<code>null</code>，就返回传入的<code>other</code>对象。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElseTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //1 user不为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    user1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //2 user为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第一种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user1).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"2"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第二种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user4 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user2).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"3"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//运行结果</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">3</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>orElseGet</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElseGet</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> extends T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> other) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElseGetTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //1 user不为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    user1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //2 user为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第一种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user1).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseGet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> User</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"2"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第二种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user4 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user2).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseGet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> User</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"3"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//运行结果</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">3</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>该方法与<code>orElse</code>方法类似，只不过传入的<code>other</code>对象可以通过一个<strong>提供者函数式接口</strong>提供，这里可以改成<code>lambda</code>表达式的形式。为了方便对代码的理解，所以上面写的测试代码稍显复杂，实际开发中可以使用<code>lambda</code>表达式简化。</p>
<h4>orElseThrow</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码    </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">X</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> extends Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElseThrow</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> extends X</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> exceptionSupplier) throws X {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        throw</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> exceptionSupplier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果<code>value</code>值不为<code>null</code>，那么直接返回，如果<code>value</code>值为<code>null</code>，可以自定义业务逻辑功能说明语句抛出异常，不影响后续代码执行。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> orElseThrowTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //1 user不为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    user1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //2 user为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第一种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">        user3 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user1).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseThrow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">            @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Throwable</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">                return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"user1为null的业务逻辑功能说明"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">printStackTrace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第二种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user4 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">        user4 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user2).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseThrow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Supplier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">            @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Throwable</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">                return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"user2为null的业务逻辑功能说明"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">printStackTrace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"不影响后续业务逻辑的执行..."</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//执行结果</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66">1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">java</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">lang</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> user2为null的业务逻辑功能说明</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">	at </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ouc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ystong</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">TestMain$4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">TestMain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">java</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">82</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">	at </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ouc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ystong</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">TestMain$4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">TestMain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">java</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">79</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">不影响后续业务逻辑的执行</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">...</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>map</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> map</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Function</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> T</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> extends U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> mapper) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(mapper);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">isPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">())</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">mapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果有值，则对其执行调用<code>mapper</code>函数得到返回值，将创建包含<code>mapper</code>返回值的<code>Optional</code>对象作为<code>map</code>方法返回值，否则返回空<code>Optional</code>对象。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> mapTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //1 user不为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    user1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //2 user为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第一种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user1).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional1);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第二种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user2).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional2);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//执行结果</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">[1xiaotongtong]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>map</code>方法用来对<code>Optional</code>实例的值执行一系列操作。通过一组实现了<code>Function</code>接口的<code>lambda</code>表达式传入操作。</p>
<h4>flatMap</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> flatMap</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Function</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> T</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">U</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> mapper) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(mapper);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">isPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">())</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    else</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">mapper</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果有值，为其执行<code>mapper</code>函数返回<code>Optional</code>对象类型返回值，否则返回空<code>Optional</code>对象。<code>flatMap</code>与<code>map</code>方法类似，区别在于<code>flatMap</code>中的<code>mapper</code>返回值必须是<code>Optional</code>对象。调用结束时，<code>flatMap</code>不会对结果用<code>Optional</code>封装。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> flatMapTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //1 user不为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    user1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">setUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"1"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //2 user为null</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    User</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> user2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第一种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user1).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">flatMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional1);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //测试第二种</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(user2).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">flatMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">User</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getUserName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">+</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional2);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//执行结果</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">[1xiaotongtong]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>flatMap</code>方法与<code>map</code>方法类似，区别在于<code>mapper</code>函数的返回值不同。<code>map</code>方法的<code>mapper</code>函数返回值可以是任何类型<code>T</code>，而<code>flatMap</code>方法的<code>mapper</code>函数必须是<code>Optional</code>对象。</p>
<h4>filter</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> filter</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Predicate</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> predicate) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">requireNonNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(predicate);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">isPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">())</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    else</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> predicate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> ?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> this</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> :</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果有值并且满足断言条件返回包含该值的<code>Optional</code>对象，否则返回空<code>Optional</code>对象。</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Test</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> filterTest</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Predicate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">toCharArray</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">length</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //满足条件，返回包含该值的Option对象</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional1);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> stringOptional2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"xiaotongtong"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Predicate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&gt;() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">            return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">toCharArray</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">().</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">length</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //不满足条件，返回值为空的Optional对象</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(stringOptional2);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//执行结果</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">[xiaotongtong]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>isPresent</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> isPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>ifPresent</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> ifPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Consumer</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> T</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> consumer) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">        consumer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">accept</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>get</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> T</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> get</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> NoSuchElementException</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"No value present"</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>equals</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> boolean</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> equals</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //两者指向的内存地址相同，那么Optional对象肯定相同</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">this</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> obj) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //如果obj不是Optional类型的，那肯定是不相同的</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">(obj </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">instanceof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> Optional)) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">    }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //已经确定是Optional类型的，所以可以强转</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> other </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">) obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  //比较两个Optional的value值是不是相同</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">equals</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">other</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>hashCode</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Objects</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">hashCode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(value);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4>toString</h4>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">//源码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B">Override</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> toString</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> null</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        ?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"Optional[%s]"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">, value)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "Optional.empty"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>使用例子</h3>
<ul>
<li>基本使用</li>
</ul>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> OptionalDemo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">  public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> static</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[] </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //创建Optional实例，也可以通过方法返回值得到。</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"Sanaulla"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //创建没有值的Optional实例，例如值为'null'</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> empty</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ofNullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //isPresent方法用来检查Optional实例是否有值。</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">isPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      //调用get()返回Optional值。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      //在Optional实例上调用get()抛出NoSuchElementException。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">NoSuchElementException</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //ifPresent方法接受lambda表达式参数。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //如果Optional值不为空，lambda表达式会处理并在其上执行操作。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ifPresent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">((value) </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"The length of the value is: "</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> +</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //如果有值orElse方法会返回Optional实例，否则返回传入的错误信息。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"There is no value present!"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"There is some value!"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //orElseGet与orElse类似，区别在于传入的默认值。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //orElseGet接受lambda表达式生成默认值。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseGet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(() </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "Default Value"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseGet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(() </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "Default Value"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">    try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      //orElseThrow与orElse方法类似，区别在于返回值。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">      //orElseThrow抛出由传入的lambda表达式/方法生成异常。</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      empty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElseThrow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(ValueAbsentException</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">::new</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Throwable</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic"> ex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">      System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">ex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">getMessage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //map方法通过传入的lambda表达式修改Optonal实例默认值。 </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //lambda表达式返回值会包装为Optional实例。</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">upperName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">((value) </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">toUpperCase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">());</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">upperName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"No value found"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //flatMap与map(Funtion)非常相似，区别在于lambda表达式的返回值。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //map方法的lambda表达式返回值可以是任何类型，但是返回值会包装成Optional实例。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //但是flatMap方法的lambda返回值总是Optional类型。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    upperName </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">flatMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">((value) </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">toUpperCase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">upperName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"No value found"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //filter方法检查Optiona值是否满足给定条件。</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //如果满足返回Optional实例值，否则返回空Optional。</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">longName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">((value) </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">longName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"The name is less than 6 characters"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">    //另一个示例，Optional值不满足给定条件。</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">anotherName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">of</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"Sana"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Optional</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">String</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF">&gt; </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">shortName</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> anotherName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">((value) </span><span style="--shiki-light:#C18401;--shiki-dark:#C678DD">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">() </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">    System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">shortName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">orElse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"The name is less than 6 characters"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行结果：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Sanaulla</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">No</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value present</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">The</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> length of the value is</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 8</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">There</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> is no value present</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">!</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Sanaulla</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Default</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Value</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Sanaulla</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">No</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> value present in the </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Optional</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> instance</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">SANAULLA</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">SANAULLA</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">Sanaulla</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">The</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> name is less than </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">6</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75"> characters</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>在<code>Java8</code>中提高对象的<code>null</code>值安全性</li>
</ul>
<p>假设有如下的类层次结构：</p>
<div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Outer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Nested</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> nested</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Nested</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> getNested</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> nested;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Nested</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Inner</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> inner</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    Inner</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> getInner</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> inner;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B"> Inner</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> foo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B">    String</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> getFoo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> foo;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决这种结构的深层嵌套路径是有点麻烦的，我们必须编写一堆<code>null</code>检查来确保不会导致一个 <code>NullPointerException</code>。</p>
<p>我们可以通过利用<code>Optional</code>类型来摆脱所有这些<code>null</code>检查。<code>map</code>方法接收一个<code>Function</code>类型的<code>lambda</code>表达式，并自动将每个<code>function</code>的结果包装成一个<code>Optional</code>对象，这使我们能够在一行中进行多个 <code>map</code> 操作。</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Optional.of(new Outer())</span></span>
<span class="line"><span>    .map(Outer::getNested)</span></span>
<span class="line"><span>    .map(Nested::getInner)</span></span>
<span class="line"><span>    .map(Inner::getFoo)</span></span>
<span class="line"><span>    .ifPresent(System.out::println);</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3>使用总结</h3>
<p>使用<code>Optional</code>工具类判断一个对象的<code>NPE</code>问题，一定要先通过其静态方法<code>（of、empty、ofNullable）</code>获得<code>Optional</code>对象，进而通过一些实例方法进行一系列的操作获得最后的对象。</p>
<p>| API方法名称   | 用处                                                         |
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>实战项目【开源项目】</title>
      <link>https://blog.lxip.top/questionskills/pracprojects/</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/</guid>
      <source url="https://blog.lxip.top/rss.xml">实战项目【开源项目】</source>
      <description>lamp-cloud环境安装及配置、启动、使用等</description>
      <category>实战项目</category>
      <content:encoded><![CDATA[<p><a href="/questionskills/pracprojects/lamp-project/" target="_blank">lamp-project</a></p>
<blockquote>
<p>lamp-cloud环境安装及配置、启动、使用等</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>编程软件</title>
      <link>https://blog.lxip.top/questionskills/software/</link>
      <guid>https://blog.lxip.top/questionskills/software/</guid>
      <source url="https://blog.lxip.top/rss.xml">编程软件</source>
      <description>专业软件 RuanCang：专业软件免费下载。 官网：https://ruancang.net/ 导航</description>
      <category>导航</category>
      <content:encoded><![CDATA[<h2>专业软件</h2>
<ul>
<li><a href="https://ruancang.net/" target="_blank" rel="noopener noreferrer">RuanCang</a>：<strong>专业软件</strong>免费下载。</li>
</ul>
<blockquote>
<p>官网：https://ruancang.net/</p>
</blockquote>
<h2>导航</h2>
<ul>
<li><a href="/questionskills/software/tool.html" target="_blank">编程软件</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>系统设计【开源项目】</title>
      <link>https://blog.lxip.top/questionskills/systemdesign/</link>
      <guid>https://blog.lxip.top/questionskills/systemdesign/</guid>
      <source url="https://blog.lxip.top/rss.xml">系统设计【开源项目】</source>
      <description>专业软件 RuanCang：专业软件免费下载。 官网：https://ruancang.net/</description>
      <category>系统设计</category>
      <content:encoded><![CDATA[<h2>专业软件</h2>
<ul>
<li><a href="https://ruancang.net/" target="_blank" rel="noopener noreferrer">RuanCang</a>：<strong>专业软件</strong>免费下载。</li>
</ul>
<blockquote>
<p>官网：https://ruancang.net/</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>技术教程【开源项目】</title>
      <link>https://blog.lxip.top/questionskills/techguide/</link>
      <guid>https://blog.lxip.top/questionskills/techguide/</guid>
      <source url="https://blog.lxip.top/rss.xml">技术教程【开源项目】</source>
      <description>CS CS-Notes：技术面试必备基础知识、Leetcode、计算机操作系统、计算机网络、系统设计。 Github地址：https://github.com/CyC2018/CS-Notes 官网：http://www.cyc2018.xyz/ Java相关 advanced-java：互联网 Java 工程师进阶知识完全扫盲：涵盖高并发、分布式、高...</description>
      <category>技术教程</category>
      <content:encoded><![CDATA[<h2>CS</h2>
<ul>
<li><a href="https://github.com/CyC2018/CS-Notes" target="_blank" rel="noopener noreferrer">CS-Notes</a>：技术面试<strong>必备基础知识</strong>、<code>Leetcode</code>、计算机操作系统、计算机网络、系统设计。</li>
</ul>
<blockquote>
<p><code>Github</code>地址：https://github.com/CyC2018/CS-Notes</p>
<p>官网：http://www.cyc2018.xyz/</p>
</blockquote>
<h2>Java相关</h2>
<ul>
<li><a href="https://gitee.com/Doocs/advanced-java" target="_blank" rel="noopener noreferrer">advanced-java</a>：互联网 <code>Java</code> 工程师<strong>进阶知识完全扫盲</strong>：涵盖高并发、分布式、高可用、微服务、海量数据处理等领域知识。</li>
</ul>
<blockquote>
<p>官网：https://doocs.gitee.io/advanced-java/#/</p>
<p>官网：https://doocs.github.io/advanced-java/#/</p>
<p><code>Github</code>地址：https://github.com/doocs/advanced-java</p>
<p><code>Gitee</code>地址：https://gitee.com/Doocs/advanced-java</p>
</blockquote>
<h2>源码相关</h2>
<ul>
<li><a href="https://gitee.com/Doocs/source-code-hunter" target="_blank" rel="noopener noreferrer">source-code-hunter</a>：从源码层面，剖析<strong>挖掘互联网行业主流技术的底层实现原理</strong>，为广大开发者 “提升技术深度” 提供便利。</li>
</ul>
<blockquote>
<p>官网：https://doocs.gitee.io/source-code-hunter/#/</p>
<p>官网：https://doocs.github.io/source-code-hunter/#/</p>
<p><code>Github</code>地址：https://github.com/doocs/source-code-hunter</p>
<p><code>Gitee</code>地址：https://gitee.com/Doocs/source-code-hunter</p>
</blockquote>
<h2>算法和数据结构</h2>
<ul>
<li><a href="https://gitee.com/Doocs/leetcode" target="_blank" rel="noopener noreferrer">leetcode</a>：多种编程语言<strong>实现 <code>LeetCode</code></strong>。</li>
</ul>
<blockquote>
<p>官网：https://doocs.github.io/leetcode/#/</p>
<p>官网：https://doocs.gitee.io/leetcode/#/</p>
<p><code>Github</code>地址：https://github.com/doocs/leetcode</p>
<p><code>Gitee</code>地址：https://gitee.com/Doocs/leetcode</p>
</blockquote>
<h2>JVM相关</h2>
<ul>
<li><a href="https://gitee.com/Doocs/jvm" target="_blank" rel="noopener noreferrer">jvm</a>：<strong><code>JVM</code> 底层原理</strong>最全知识总结</li>
</ul>
<blockquote>
<p>官网：https://doocs.gitee.io/jvm/</p>
<p>官网：https://doocs.github.io/jvm/</p>
<p><code>Github</code>地址：https://github.com/doocs/jvm</p>
<p><code>Gitee</code>地址：https://gitee.com/Doocs/jvm</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>书籍资源</title>
      <link>https://blog.lxip.top/resources/books/</link>
      <guid>https://blog.lxip.top/resources/books/</guid>
      <source url="https://blog.lxip.top/rss.xml">书籍资源</source>
      <category>书籍</category>
      <content:encoded><![CDATA[<p>| 资源名称                                   | 分享链接                                  |
|</p>
]]></content:encoded>
    </item>
    <item>
      <title>快速导航</title>
      <link>https://blog.lxip.top/resources/share/</link>
      <guid>https://blog.lxip.top/resources/share/</guid>
      <source url="https://blog.lxip.top/rss.xml">快速导航</source>
      <description>搜索引擎</description>
      <category>快速导航</category>
      <content:encoded><![CDATA[<h2>搜索引擎</h2>
<!-- <NavCard arr='[{"title":"百度","url":"https://www.baidu.com/","desc":"中文搜索引擎","icon":"/navicon/baidu.ico"},{"title":"必应","url":"https://cn.bing.com/","desc":"优秀的国内外搜索引擎","icon":"/navicon/bing.ico"},{"title":"谷歌","url":"https://www.google.com/","desc":"被墙的国内外搜索引擎","icon":"/navicon/google.ico"},{"title":"找代码","url":"https://www.programcreek.com/java-api-examples/index.php","desc":"搜一下某个类的使用方法","icon":"/navicon/java.ico"}]'></NavCard> -->
]]></content:encoded>
    </item>
    <item>
      <title>编程知识库</title>
      <link>https://blog.lxip.top/resources/share/navlearn.html</link>
      <guid>https://blog.lxip.top/resources/share/navlearn.html</guid>
      <source url="https://blog.lxip.top/rss.xml">编程知识库</source>
      <description>介绍 整理编程相关的技术文档</description>
      <category>快速导航</category>
      <category>编程知识库</category>
      <content:encoded><![CDATA[<h2>介绍</h2>
<blockquote>
<p>整理编程相关的技术文档</p>
</blockquote>
]]></content:encoded>
    </item>
    <item>
      <title>影音资源</title>
      <link>https://blog.lxip.top/resources/videos/</link>
      <guid>https://blog.lxip.top/resources/videos/</guid>
      <source url="https://blog.lxip.top/rss.xml">影音资源</source>
      <category>影视</category>
      <category>音乐</category>
    </item>
    <item>
      <title>tomcat服务器</title>
      <link>https://blog.lxip.top/notes/javacore/javaweb/javaweb_tomcat.html</link>
      <guid>https://blog.lxip.top/notes/javacore/javaweb/javaweb_tomcat.html</guid>
      <source url="https://blog.lxip.top/rss.xml">tomcat服务器</source>
      <description>1.HTTP协议简介 超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息 系统的应用层协议。HTTP是万维网的数据通信的基础。 HTTP的发展是由蒂姆·伯纳斯-李于1989年在欧洲核子研究组织（CERN）所发起。HTTP的标准制定由万维网协会 （World Wide Web...</description>
      <category>java</category>
      <category>后端</category>
      <category>javaweb</category>
      <content:encoded><![CDATA[<h2>1.HTTP协议简介</h2>
<p>超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息 系统的应用层协议。HTTP是万维网的数据通信的基础。 HTTP的发展是由蒂姆·伯纳斯-李于1989年在欧洲核子研究组织（CERN）所发起。HTTP的标准制定由万维网协会 （World Wide Web Consortium，W3C）和互联网工程任务组（Internet Engineering Task Force，IETF）进行协 调，最终发布了一系列的RFC，其中最著名的是1999年6月公布的 RFC 2616，定义了HTTP协议中现今广泛使用的 一个版本——HTTP 1.1。</p>
<figure><figcaption>image-20221019161616266</figcaption></figure>
<h2>2.HTTP 请求/响应的步骤</h2>
<p>2.1 客户端连接到Web服务器 一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）建立一个TCP套接字连接。 例如:http://www.baidu.com。</p>
<p>2.2 发送HTTP请求 通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，一个请求报文由请求行、请求头部、空行和请求 数据4部分组成。</p>
<p>2.3 服务器接受请求并返回HTTP响应 Web服务器解析请求，定位请求资源。服务器将资源复本写到TCP套接字，由客户端读取。一个响应由状态行、响 应头部、空行和响应数据4部分组成。</p>
<p>2.4 释放TCP连接 在HTTP/1.0中默认使用短连接。也就是说，客户端和服务器每进行一次HTTP操作，就建立一次连接，任务结束就 中断连接。当客户端浏览器访问的某个HTML或其他类型的Web页中包含有其他的Web资源（如JavaScript文件、 图像文件、CSS文件等），每遇到这样一个Web资源，浏览器就会重新建立一个HTTP会话。</p>
<p>而从HTTP/1.1起，默认使用长连接，用以保持连接特性。使用长连接的HTTP协议，会在响应头加入这行代码：</p>
<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Connection:keep-alive</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>在使用长连接的情况下，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，客 户端再次访问这个服务器时，会继续使用这一条已经建立的连接。Keep-Alive不会永久保持连接，它有一个保持时 间，可以在不同的服务器软件（如Apache）中设定这个时间。实现长连接需要客户端和服务端都支持长连接。 HTTP协议的长连接和短连接，实质上是TCP协议的长连接和短连接。</p>
<p>2.5 客户端浏览器解析HTML内容 客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若 干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在 浏览器窗口中显示。 例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程：</p>
<p>​	 1.浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址;</p>
<ol start="2">
<li>解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立TCP连接;</li>
<li>浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为 TCP 三次握手的第三个 报文的数据发送给服务器;</li>
<li>服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器;</li>
<li>浏览器将该 html 文本并显示内容;</li>
</ol>
<figure><figcaption>image-20221019202244080</figcaption></figure>
<figure><figcaption>image-20221019202313587</figcaption></figure>
<h2>3.HTTP请求方法</h2>
<p>HTTP/1.1协议中共定义了八种方法（也叫“动作”）来以不同方式操作指定的资源：</p>
<p>GET</p>
<p>向指定的资源发出“显示”请求。使用GET方法应该只用在读取数据，而不应当被用于产生“副作用”的操作中，例如在 Web Application中。其中一个原因是GET可能会被网络蜘蛛等随意访问。</p>
<p>HEAD</p>
<p>与GET方法一样，都是向服务器发出指定资源的请求。只不过服务器将不传回资源的本文部分。它的好处在于，使 用这个方法可以在不必传输全部内容的情况下，就可以获取其中“关于该资源的信息”（元信息或称元数据）。</p>
<p>POST 向指定资源提交数据，请求服务器进行处理（例如提交表单或者上传文件）。数据被包含在请求本文中。这个请求 可能会创建新的资源或修改现有资源，或二者皆有。 PUT 向指定资源位置上传其最新内容。</p>
<p>DELETE</p>
<p>请求服务器删除Request-URI所标识的资源。</p>
<p>TRACE</p>
<p>回显服务器收到的请求，主要用于测试或诊断。</p>
<p>OPTIONS</p>
<p>这个方法可使服务器传回该资源所支持的所有HTTP请求方法。用'*'来代替资源名称，向Web服务器发送OPTIONS 请求，可以测试服务器功能是否正常运作。</p>
<p>CONNECT</p>
<h2>4. 两种开发模型</h2>
<p>⑴C/S又称Client/Server或客户/服务器模式。服务器通常采用高性能的PC、工作站或小型机，客户端需要安装专 用的客户端软件。如QQ,微信等软件</p>
<p>B/S是Brower/Server的缩写，客户机上只要安装一个浏览器（Browser）。Browser/Server是建立在广域网的基 础上的.</p>
<p>⑵CS和BS结构各自的优、缺点</p>
<p>(1) C/S的优点是能充分发挥客户端PC的处理能力，很多工作可以在客户端处理后再提交给服务器。对应的优点就是 客户端响应速度快。</p>
<p>缺点主要有以下几个</p>
<ol>
<li>客户端需要安装专用的客户端软件。首先涉及到安装的工作量，其次任何一台电脑出问题，如病毒、硬件损坏， 都需要进行安装或维护。特别是有很多分部或专卖店的情况，不是工作量的问题，而是路程的问题。还有，系统软 件升级时，每一台客户机需要重新安装，其维护和升级成本非常高。</li>
<li>B/S最大的优点就是可以在任何地方进行操作而不用安装任何专门的软件。只要有一台能上网的电脑就能使用， 客户端零维护。系统的扩展非常容易，只要能上网，就可以使用了。甚至可以在线申请，通过公司内部的安全认证 （如CA证书）后，不需要人的参与，系统可以自动分配给用户一个账号进入系统。</li>
</ol>
<h2>5. Web服务器的分类</h2>
<p>Web服务器是运行及发布Web应用的容器，只有将开发的Web项目放置到该容器中，才能使网络中的所有用户通过 浏览器进行访问。开发Java Web应用所采用的服务器主要是与JSP/Servlet兼容的Web服务器，比较常用的有 Tomcat、Resin、JBoss、WebSphere 和 WebLogic 等</p>
<p>Tomcat 服务器</p>
<p>​		目前最为流行的Tomcat服务器是Apache-Jarkarta开源项目中的一个子项目，是一个小型、轻量级的支持JSP和 Servlet 技术的Web服务器，也是初学者学习开发JSP应用的首选</p>
<p>Resin 服务器</p>
<p>​		Resin是Caucho公司的产品，是一个非常流行的支持Servlet和JSP的服务器，速度非常快。Resin本身包含了一 个支持HTML的Web服务器，这使它不仅可以显示动态内容，而且显示静态内容的能力也毫不逊色，因此许多网站 都是使用Resin服务器构建 JBoss服务器 JBoss是一个种遵从JavaEE规范的、开放源代码的、纯Java的EJB服务器，对于J2EE有很好的支持。JBoss采用 JML API实现软件模块的集成与管理，其核心服务又是提供EJB服务器，不包含Servlet和JSP的Web容器，不过它可 以和Tomcat完美结合</p>
<p>WebSphere 服务器</p>
<p>​		WebSphere是IBM公司的产品，可进一步细分为 WebSphere Performance Pack、Cache Manager 和 WebSphere Application Server等系列，其中WebSphere Application Server 是基于Java 的应用环境，可以运行 于 Sun Solaris、Windows NT 等多种操作系统平台，用于建立、部署和管理Internet和Intranet Web应用程序。</p>
<p>WebLogic 服务器</p>
<p>​		WebLogic 是BEA公司的产品（现在已经被Oracle收购），可进一步细分为 WebLogic Server、WebLogic Enterprise 和 WebLogic Portal 等系列，其中 WebLogic Server 的功能特别强大。WebLogic 支持企业级的、多层 次的和完全分布式的Web应用，并且服务器的配置简单、界面友好。对于那些正在寻求能够提供Java平台所拥有的 一切应用服务器的用户来说，WebLogic是一个十分理想的选择</p>
<h2>6. Tomcat</h2>
<p>(1) Tomcat下载与安装</p>
<p>开源小型web服务器 ，完全免费，主要用于中小型web项目，只支持Servlet和JSP 等少量javaee规范（就是 JavaWeb编程接口）</p>
<p>https://tomcat.apache.org</p>
<figure><figcaption>image-20221019203030315</figcaption></figure>
<p>下载好之后，安装到任意目录</p>
<p>安装步骤:</p>
<ol>
<li>
<p>下载Tomcat</p>
</li>
<li>
<p>解压到一个没有特殊符号的目录中（一般纯英文即可）</p>
</li>
<li>
<p>进入到解压的目录下找到bin\startup.bat双击启动即</p>
</li>
</ol>
<p>注意:不建议将服务器软件放在磁盘层次很多的文件夹中!</p>
<p>不建议放在中文路径下!</p>
<p>tomcat安装需要配置JAVA_HOME环境变量</p>
<p>(2)tomcat的目录</p>
<p>1、bin：该目录下存放的是二进制可执行文件，如果是安装版，那么这个目录下会有两个exe文件： tomcat9.exe、tomcat9w.exe，前者是在控制台下启动Tomcat，后者是弹出UGI窗口启动Tomcat；如果是解压 版，那么会有startup.bat和shutdown.bat文件，startup.bat用来启动Tomcat，但需要JDK的配置，shutdown.bat 用来停止Tomcat；</p>
<p>2、conf：这是一个非常非常重要的目录，这个目录下有四个最为重要的文件： server.xml：配置整个服务器信息。例如修改端口号，添加虚拟主机等； tomcat-users.xml：存储tomcat用户的文件，这里保存的是tomcat的用户名及密码，以及用户的角色信息。可以 按着该文件中的注释信息添加tomcat用户，然后就可以在Tomcat主页中进入Tomcat Manager页面了；</p>
<p>web.xml：部署描述符文件，这个文件中注册了很多MIME类型，即文档类型。这些MIME类型是客户端与服务器之 间说明文档类型的，如用户请求一个html网页，那么服务器还会告诉客户端浏览器响应的文档是text/html类型 的，这就是一个MIME类型。客户端浏览器通过这个MIME类型就知道如何处理它了。当然是在浏览器中显示这个 html文件了。但如果服务器响应的是一个exe文件，那么浏览器就不可能显示它，而是应该弹出下载窗口才对。 MIME就是用来说明文档的内容是什么类型的！</p>
<p>context.xml：对所有应用的统一配置，通常我们不会去配置它。</p>
<p>3、lib：Tomcat的类库，里面是一大堆jar文件。如果需要添加Tomcat依赖的jar文件，可以把它放到这个目录中， 当然也可以把应用依赖的jar文件放到这个目录中，这个目录中的jar所有项目都可以共享之，但这样你的应用放到 其他Tomcat下时就不能再共享这个目录下的Jar包了，所以建议只把Tomcat需要的Jar包放到这个目录下；</p>
<p>4、logs：这个目录中都是日志文件，记录了Tomcat启动和关闭的信息，如果启动Tomcat时有错误，那么异常也会 记录在日志文件中。</p>
<p>5、temp：存放Tomcat的临时文件，这个目录下的东西可以在停止Tomcat后删除！</p>
<p>6、webapps：存放web项目的目录，其中每个文件夹都是一个项目；如果这个目录下已经存在了目录，那么都是 tomcat自带的项目。其中ROOT是一个特殊的项目，在地址栏中没有给出项目目录时，对应的就是ROOT项目。</p>
<p>http://localhost:8080/examples，进入示例项目。其中examples就是项目名，即文件夹的名字。</p>
<p>7、work：运行时生成的文件，最终运行的文件都在这里。通过webapps中的项目生成的！可以把这个目录下的内 容删除，再次运行时会生再次生成work目录。当客户端用户访问一个JSP文件时，Tomcat会通过JSP生成Java文 件，然后再编译Java文件生成class文件，生成的java和class文件都会存放到这个目录下。</p>
<p>8、LICENSE：许可证。</p>
<p>9、NOTICE：说明文件。</p>
<p>通过url访问服务器:</p>
<p>url:http://服务器的ip地址:端口号/项目名/被访问的页面</p>
<p>示例:http://localhost:8080/test0918</p>
<p>注: (1)启动tomcat后,tomcat会加载部署在服务器端的所有项目 (2) 浏览器访问的页面是服务器端的页面,基本上服务器的项目和工作空间的项目要保持一致</p>
<p>(3)IntelliJ IDEA配置Tomcat</p>
<p>1，点击Run</p>
]]></content:encoded>
    </item>
    <item>
      <title></title>
      <link>https://blog.lxip.top/questionskills/pracprojects/yudao-cloud/%E6%9C%8D%E5%8A%A1%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC.html</link>
      <guid>https://blog.lxip.top/questionskills/pracprojects/yudao-cloud/%E6%9C%8D%E5%8A%A1%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8%E8%84%9A%E6%9C%AC.html</guid>
      <source url="https://blog.lxip.top/rss.xml"></source>
      <description>redis、naocs一键启动脚本 nacos-redis.bat jar一键启动脚本 cloud-start.bat</description>
      <content:encoded><![CDATA[<h2>redis、naocs一键启动脚本</h2>
<p>nacos-redis.bat</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">@echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> off</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Redis...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "E:\Redis-x64-5.0.14.1"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> .</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">\r</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">edis-server.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> redis.windows.conf</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Nacos...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ""</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "E:\nacos\bin"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> .</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">tartup.cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> standalone</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Both</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Redis</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Nacos</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> are</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> started</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> separate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> windows.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pause</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2>jar一键启动脚本</h2>
<p>cloud-start.bat</p>
<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">@echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> off</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> .....</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 1、start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> gateway.jar</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "JAR 1 Window"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  cmd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xms128m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xmx128m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -Dfile.encoding=UTF-8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "C:\Users\Administrator\Desktop\cloud-jar\yudao-gateway.jar"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 等待30秒</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /nobreak</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nul</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  2、start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> yudao-module-infra-biz.jar</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "JAR 2 Window"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  cmd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xms128m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xmx128m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -Dfile.encoding=UTF-8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "C:\Users\Administrator\Desktop\cloud-jar\yudao-module-infra-biz.jar"</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 等待30秒</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /nobreak</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nul</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  3、</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> yudao-module-system-biz.jar</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "JAR 3 Window"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xms512m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xmx512m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -Dfile.encoding=UTF-8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "C:\Users\Administrator\Desktop\cloud-jar\yudao-module-system-biz.jar"</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 等待30秒</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">timeout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 30</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /nobreak</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">nul</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  4、start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> yudao-module-medicine-biz.jar</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "JAR 4 Window"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xms512m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Xmx512m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -Dfile.encoding=UTF-8</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">  -jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "C:\Users\Administrator\Desktop\cloud-jar\yudao-module-medicine-biz.jar"</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">  all</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> jar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> complete！</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">pause</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>]]></content:encoded>
    </item>
  </channel>
</rss>